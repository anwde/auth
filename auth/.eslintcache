[{"/Users/luohai/web/git/react-youyan-admin/src/index.js":"1","/Users/luohai/web/git/react-youyan-admin/src/App.js":"2","/Users/luohai/web/git/react-youyan-admin/src/serviceWorker.js":"3","/Users/luohai/web/git/react-youyan-admin/src/routes/routing.js":"4","/Users/luohai/web/git/react-youyan-admin/src/utils/webapi.js":"5","/Users/luohai/web/git/react-youyan-admin/src/reducers/index.js":"6","/Users/luohai/web/git/react-youyan-admin/src/components/sidebar/sidebar.js":"7","/Users/luohai/web/git/react-youyan-admin/src/components/header/header.js":"8","/Users/luohai/web/git/react-youyan-admin/src/components/footer/footer.js":"9","/Users/luohai/web/git/react-youyan-admin/src/components/breadcrumb/breadcrumb.js":"10","/Users/luohai/web/git/react-youyan-admin/src/components/customizer/customizer.js":"11","/Users/luohai/web/git/react-youyan-admin/src/components/loading/loading.js":"12","/Users/luohai/web/git/react-youyan-admin/src/fakedelay.js":"13","/Users/luohai/web/git/react-youyan-admin/src/loading.js":"14","/Users/luohai/web/git/react-youyan-admin/src/page/authorize/auth.js":"15","/Users/luohai/web/git/react-youyan-admin/src/reducers/reducer.js":"16","/Users/luohai/web/git/react-youyan-admin/src/components/base/basic_component.js":"17","/Users/luohai/web/git/react-youyan-admin/src/page/authorize/account.js":"18","/Users/luohai/web/git/react-youyan-admin/src/page/welcome.js":"19","/Users/luohai/web/git/react-youyan-admin/src/page/pay/product.js":"20","/Users/luohai/web/git/react-youyan-authorize/src/index.js":"21","/Users/luohai/web/git/react-youyan-authorize/src/serviceWorker.js":"22","/Users/luohai/web/git/react-youyan-authorize/src/App.js":"23","/Users/luohai/web/git/react-youyan-authorize/src/routes/routing.js":"24","/Users/luohai/web/git/react-youyan-authorize/src/reducers/index.js":"25","/Users/luohai/web/git/react-youyan-authorize/src/utils/webapi.js":"26","/Users/luohai/web/git/react-youyan-authorize/src/components/sidebar/sidebar.js":"27","/Users/luohai/web/git/react-youyan-authorize/src/components/header/header.js":"28","/Users/luohai/web/git/react-youyan-authorize/src/components/customizer/customizer.js":"29","/Users/luohai/web/git/react-youyan-authorize/src/components/footer/footer.js":"30","/Users/luohai/web/git/react-youyan-authorize/src/components/breadcrumb/breadcrumb.js":"31","/Users/luohai/web/git/react-youyan-authorize/src/components/loading/loading.js":"32","/Users/luohai/web/git/react-youyan-authorize/src/fakedelay.js":"33","/Users/luohai/web/git/react-youyan-authorize/src/loading.js":"34","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/auth.js":"35","/Users/luohai/web/git/react-youyan-authorize/src/reducers/reducer.js":"36","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/account.js":"37","/Users/luohai/web/git/react-youyan-authorize/src/page/welcome.js":"38","/Users/luohai/web/git/react-youyan-authorize/src/components/base/basic_component.js":"39","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/competence.js":"40","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/stsyemlog.js":"41","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/menus.js":"42","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/user.js":"43","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/columns.js":"44","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/permission.js":"45","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/auth_item.js":"46","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/system_visit_log.js":"47"},{"size":580,"mtime":1610016889625,"results":"48","hashOfConfig":"49"},{"size":13083,"mtime":1610070161859,"results":"50","hashOfConfig":"49"},{"size":4948,"mtime":1566468181378,"results":"51","hashOfConfig":"49"},{"size":747,"mtime":1610010880733,"results":"52","hashOfConfig":"49"},{"size":11687,"mtime":1610014717580,"results":"53","hashOfConfig":"49"},{"size":129,"mtime":1607004615185,"results":"54","hashOfConfig":"49"},{"size":5474,"mtime":1609677128474,"results":"55","hashOfConfig":"49"},{"size":45789,"mtime":1609677060638,"results":"56","hashOfConfig":"49"},{"size":308,"mtime":1606472903776,"results":"57","hashOfConfig":"49"},{"size":3304,"mtime":1607006580260,"results":"58","hashOfConfig":"49"},{"size":56167,"mtime":1609767701493,"results":"59","hashOfConfig":"49"},{"size":671,"mtime":1610069928418,"results":"60","hashOfConfig":"49"},{"size":118,"mtime":1566468181339,"results":"61","hashOfConfig":"49"},{"size":432,"mtime":1610070253536,"results":"62","hashOfConfig":"49"},{"size":426,"mtime":1609299919364,"results":"63","hashOfConfig":"49"},{"size":606,"mtime":1609589365252,"results":"64","hashOfConfig":"49"},{"size":5676,"mtime":1609478751135,"results":"65","hashOfConfig":"49"},{"size":39745,"mtime":1608330581837,"results":"66","hashOfConfig":"49"},{"size":3480,"mtime":1608280736421,"results":"67","hashOfConfig":"49"},{"size":7491,"mtime":1610178091000,"results":"68","hashOfConfig":"49"},{"size":580,"mtime":1610016889625,"results":"69","hashOfConfig":"70"},{"size":4948,"mtime":1566468181378,"results":"71","hashOfConfig":"70"},{"size":20347,"mtime":1617690157551,"results":"72","hashOfConfig":"70"},{"size":1919,"mtime":1614847898532,"results":"73","hashOfConfig":"70"},{"size":129,"mtime":1607004615185,"results":"74","hashOfConfig":"70"},{"size":15339,"mtime":1617765308618,"results":"75","hashOfConfig":"70"},{"size":9805,"mtime":1617069728704,"results":"76","hashOfConfig":"70"},{"size":48177,"mtime":1616723479607,"results":"77","hashOfConfig":"70"},{"size":56415,"mtime":1614664284438,"results":"78","hashOfConfig":"70"},{"size":335,"mtime":1614663491611,"results":"79","hashOfConfig":"70"},{"size":3096,"mtime":1614762475529,"results":"80","hashOfConfig":"70"},{"size":671,"mtime":1614781438064,"results":"81","hashOfConfig":"70"},{"size":118,"mtime":1566468181339,"results":"82","hashOfConfig":"70"},{"size":437,"mtime":1614658228579,"results":"83","hashOfConfig":"70"},{"size":35032,"mtime":1617774832515,"results":"84","hashOfConfig":"70"},{"size":617,"mtime":1614763137009,"results":"85","hashOfConfig":"70"},{"size":38862,"mtime":1617703602123,"results":"86","hashOfConfig":"70"},{"size":3480,"mtime":1608280736421,"results":"87","hashOfConfig":"70"},{"size":6906,"mtime":1617719849525,"results":"88","hashOfConfig":"70"},{"size":22465,"mtime":1614066344241,"results":"89","hashOfConfig":"70"},{"size":5414,"mtime":1603706241823,"results":"90","hashOfConfig":"70"},{"size":16299,"mtime":1614853699229,"results":"91","hashOfConfig":"70"},{"size":17421,"mtime":1608047384102,"results":"92","hashOfConfig":"70"},{"size":18308,"mtime":1611553756179,"results":"93","hashOfConfig":"70"},{"size":15987,"mtime":1614836176346,"results":"94","hashOfConfig":"70"},{"size":6458,"mtime":1617774844288,"results":"95","hashOfConfig":"70"},{"size":5630,"mtime":1614854101455,"results":"96","hashOfConfig":"70"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},"6rut0x",{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"99"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"99"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"99"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"99"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":24,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"99"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"99"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"134","usedDeprecatedRules":"99"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"140"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":45,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"99"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146","usedDeprecatedRules":"99"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"149","usedDeprecatedRules":"99"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},"9zcsyk",{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163","usedDeprecatedRules":"152"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"166","usedDeprecatedRules":"152"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"169","usedDeprecatedRules":"152"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"172","usedDeprecatedRules":"152"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"152"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":32,"fixableErrorCount":0,"fixableWarningCount":0,"source":"185","usedDeprecatedRules":"152"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"188","usedDeprecatedRules":"152"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":50,"fixableErrorCount":0,"fixableWarningCount":0,"source":"191","usedDeprecatedRules":"152"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146","usedDeprecatedRules":"152"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"152"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"198","usedDeprecatedRules":"152"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"201","usedDeprecatedRules":"202"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205","usedDeprecatedRules":"152"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"208","usedDeprecatedRules":"152"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"211","usedDeprecatedRules":"152"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"214","usedDeprecatedRules":"152"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"217"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"220","usedDeprecatedRules":"152"},"/Users/luohai/web/git/react-youyan-admin/src/index.js",[],["221","222"],"/Users/luohai/web/git/react-youyan-admin/src/App.js",[],"/Users/luohai/web/git/react-youyan-admin/src/serviceWorker.js",[],"/Users/luohai/web/git/react-youyan-admin/src/routes/routing.js",[],"/Users/luohai/web/git/react-youyan-admin/src/utils/webapi.js",["223","224","225","226","227","228","229"],"import qs from \"qs\";\nimport { parse } from \"querystring\";\nimport axios from \"axios\";\nimport store from \"../reducers/index.js\";\nimport md5 from \"md5\";\nimport CryptoJS from \"crypto-js\";\nimport { Modal, message as Message } from \"antd\";\nconst ToggleLoading = {\n    type: \"LOADING\",\n};\nfunction ksort(param) {\n    let dic = {};\n    let sdic = Object.keys(param || {}).sort();\n    sdic.map((item, index) => {\n        dic[item] = param[sdic[index]];\n        return index;\n    });\n    return dic;\n}\n\n//签名\nfunction sign(param) {\n    var d = {\n        client_id: window.appid,\n        timestamp: param.timestamp,\n        url: encodeURIComponent(window.website_uri || \"\"),\n        version: param.version,\n    };\n    return md5(\n        qs.stringify(ksort(d)) + encodeURIComponent(window.secret || \"\")\n    );\n}\nvar modal = (function() {\n    var info = function(options) {\n        Modal.info(options);\n    };\n    var success = function(options) {\n        Modal.success(options);\n    };\n    var show = function(options) {\n        Modal.show(options);\n    };\n    var error = function(options) {\n        // console.log('=>', options);\n        Modal.error(options);\n    };\n    var confirm = function(options) {\n        Modal.confirm(options);\n    };\n    return {\n        info: info,\n        success: success,\n        error: error,\n        confirm: confirm,\n        show: show,\n        that: Modal,\n    };\n})();\nvar message = (function() {\n    var show = function(content, duration = 3, options = {}) {\n        Message.show(content, duration, options);\n    };\n    var info = function(content, duration = 3, options = {}) {\n        Message.info(content, duration, options);\n    };\n    var success = function(content, duration = 3, options = {}) {\n        Message.success(content, duration, options);\n    };\n    var warn = function(content, duration = 3, options = {}) {\n        Message.warn(content, duration, options);\n    };\n    var error = function(content, duration = 3, options = {}) {\n        Message.error(content, duration, options);\n    };\n    var close = function() {\n        Message.close();\n    };\n    return {\n        show: show,\n        info: info,\n        success: success,\n        warn: warn,\n        error: error,\n        close: close,\n    };\n})();\n\nvar cache = (function() {\n    var get_key = function(key) {\n        return \"admin_\" + key;\n    };\n    var clear_cookie = function() {\n        var keys = document.cookie.match(/[^ =;]+(?=\\=)/g);\n        if (keys) {\n            for (var i = keys.length; i--; ) {\n                document.cookie =\n                    keys[i] + \"=0;expires=\" + new Date(0).toUTCString();\n            }\n        }\n    };\n    var clear_localStorage = function() {\n        var storage = window.localStorage;\n        for (var key in storage) {\n            storage.removeItem(key);\n        }\n    };\n    var get = function(key) {\n        return window.localStorage\n            ? window.localStorage.getItem(get_key(key))\n            : utils.getcookie(get_key(key));\n    };\n    var set = function(key, val) {\n        return window.localStorage\n            ? window.localStorage.setItem(get_key(key), val)\n            : utils.setcookie(get_key(key), val);\n    };\n    var clear = function() {\n        return window.localStorage ? clear_localStorage() : clear_cookie();\n    };\n    return {\n        set: set,\n        get: get,\n        clear: clear,\n        clear_localStorage: clear_localStorage,\n        clear_cookie: clear_cookie,\n    };\n})();\n \nvar ajax = (function() {\n    var get = function(url, data, success, header, error) {\n        return request(\"get\", url, data, success, header, error);\n    };\n    var post = function(url, data, success, header, error, file = false) {\n        return request(\"post\", url, data, success, header, error, file);\n    };\n    var put = function(url, data, success, header, error, file = false) {\n        return request(\"put\", url, data, success, header, error);\n    };\n    var patch = function(url, data, success, header, error, file = false) {\n        return request(\"patch\", url, data, success, error, file);\n    };\n    var del = function(url, data, success, header, error) {\n        return request(\"delete\", url, data, success, error);\n    };\n\n    var headers = function(method) {\n        var data = {\n            \"content-type\": \"application/x-www-form-urlencoded\",\n            \"client-id\": window.appid,\n            Accept: \"application/html\",\n        };\n        data.sn = cache.get(\"field\");\n        data.token = utils.getcookie(cache.get(\"field\"));\n        data.timestamp = Date.parse(new Date()) / 1000;\n        data.version = \"1.0\";\n        data.sign = sign(data);\n        data.format = \"json\";\n        return data;\n    };\n    var request = async function(\n        method,\n        url,\n        data,\n        success,\n        header,\n        error,\n        file = false\n    ) {\n        var options = {\n            method,\n            headers: headers(method),\n            data: file ? data : qs.stringify(data),\n            url:\n                \"/\" + (method === \"get\" ? url + \"?\" + qs.stringify(data) : url),\n            // url: \"/\" + (method === \"get\" ? url: url)\n        };\n\n        try {\n            ToggleLoading.state = true;\n            store.dispatch(ToggleLoading);\n            let res = await axios(options);\n            ToggleLoading.state = false;\n            store.dispatch(ToggleLoading);\n            var href = window.location.href;  \n            //res.data.replace(/\\n/g, \"\\\\n\").replace(/\\r/g, \"\\\\r\")\n            var data =JSON.parse(utils.decrypt(res.data,window.cs,md5(res.headers.['content-encrypt']).substr(8,16))) || {};\n            if (process.env.NODE_ENV==='development') {\n                console.log('encrypt=>',window.cs,md5(res.headers.['content-encrypt']).substr(8,16));\n                console.log(url+' data=>',data);\n                console.log(url+' request=>',res);\n                console.log('env=>',process.env);\n            } \n            if (data.code === 11003) {\n                if (\n                    !(\n                        href.indexOf(\"server/check\") > 0 ||\n                        href.indexOf(\"auth/again\") > 0 ||\n                        href.indexOf(\"auth/check\") > 0\n                    )\n                ) {\n                    utils.redirect(data);\n                }\n            }\n            if (data.code === 11002) {\n                data.redirect = data.redirect || \"/authorize/auth\";\n                if (href.indexOf(\"authorize/auth\") === -1) {\n                    utils.redirect(data);\n                }\n            } \n            if (success) {\n                return success(data);\n            }\n            return data;\n        } catch (err) {\n            ToggleLoading.state = false;\n            store.dispatch(ToggleLoading);\n            console.error(err.message, options);\n            var res = { message: err.message, status: \"failure\" };\n            if (error) {\n                return error(res);\n            }\n            return res;\n        }\n    };\n    return {\n        get: get,\n        post: post,\n        put: put,\n        delete: del,\n        header: headers,\n    };\n})();\nvar utils = (function() {\n    var in_array = function(search, array) {\n        for (var i in array) {\n            if (array[i] === search) {\n                return true;\n            }\n        }\n        return false;\n    };\n    var setcookie = function(\n        cookieName,\n        cookieValue,\n        expires,\n        path,\n        domain,\n        secure\n    ) {\n        document.cookie =\n            escape(cookieName) +\n            \"=\" +\n            escape(cookieValue) +\n            (expires ? \"; expires=\" + expires.toGMTString() : \"\") +\n            \"; path=\" +\n            (path ? +path : \"/\") +\n            (domain ? \"; domain=\" + domain : \"\") +\n            (secure ? \"; secure\" : \"\");\n    };\n    var getcookie = function(name) {\n        var arr = document.cookie.match(\n            new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\")\n        );\n        if (arr != null) return unescape(arr[2]);\n        return null;\n    };\n    var title = function(t) {\n        document.title = t;\n        var i = document.createElement(\"iframe\");\n        i.src = \"/favicon.ico?v=\" + Math.random();\n        i.style.visibility = \"hidden\";\n        i.style.width = \"1px\";\n        i.style.height = \"1px\";\n        i.onload = function() {\n            setTimeout(function() {\n                i.remove();\n                document.title = t;\n            }, 500);\n        };\n        return t;\n    };\n    var removeArrayByValue = function(attr, val) {\n        for (var i = 0; i < attr.length; i++) {\n            if (attr[i] == val) {\n                attr.splice(i, 1);\n                break;\n            }\n        }\n        return attr;\n    };\n    const query = () => parse(window.location.search.split(\"?\")[1]);\n    const http_build_query = (data) => qs.stringify(data);\n    const redirect = (data) => { \n        if (process.env.NODE_ENV==='development') {\n            return  console.log('redirect=>',data);\n        }\n        var url = data.redirect || \"\";\n        var reg = /http(s)?:\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- .\\/?%&=]*)?/;\n        var objExp = new RegExp(reg);\n        if (objExp.test(url) == true) {\n            window.location.replace(url);\n        } else {\n            window.location.replace(\"/\" + (url || \"\"));\n        }\n    };\n    /**\n     * 加密\n     * @param string word 待加密报文\n     * @return string\n     */\n    const encrypt = (word, key, iv) => {\n        let d = CryptoJS.AES.encrypt(word, CryptoJS.enc.Utf8.parse(key), {\n            iv: CryptoJS.enc.Utf8.parse(iv),\n            mode: CryptoJS.mode.CBC,\n            padding: CryptoJS.pad.Pkcs7,\n        });\n\n        return d.toString();\n    };\n\n    /**\n     * 解密\n     * @param string word 待解密报文\n     * @return string\n     */\n    const decrypt = (word, key, iv) => {\n        let d = CryptoJS.AES.decrypt(word, CryptoJS.enc.Utf8.parse(key), {\n            iv: CryptoJS.enc.Utf8.parse(iv),\n            mode: CryptoJS.mode.CBC,\n            padding: CryptoJS.pad.Pkcs7,\n        });\n\n        return d.toString(CryptoJS.enc.Utf8);\n    };\n\n    return {\n        removeArrayByValue,\n        in_array: in_array,\n        setcookie: setcookie,\n        getcookie: getcookie,\n        title: title,\n        query,\n        http_build_query,\n        redirect,\n        encrypt,\n        decrypt,\n    };\n})();\nvar confirm = function(options={}) {\n    modal.confirm({\n        title: options.title||\"提示\",\n        content: options.content||\"删除后数据不可恢复，确认删除吗?\",\n        okText: options.okText||\"确认操作\",\n        cancelText: options.cancelText||\"不要操作\",\n        autoFocusButton: \"cancel\",\n        onOk() {\n            return new Promise((resolve, reject) => {\n                var r = ajax.post(options.url, options.data);\n                resolve(r);\n            }).then((res) => {\n                options.success && options.success(res);\n            });\n        },\n        onCancel() {\n            console.log(\"Cancel\");\n        },\n    });\n};\nasync function server() {\n    var check = await ajax.get(\"server/check\");\n    if (check.code === 10000) { \n        window.ucdata = check.ucdata;\n        var server = {\n            code: check.code,\n            ucdata: check.ucdata,\n            columns: check.columns,\n            menus: check.menus,\n            competence: check.competence,\n        };\n        const t = { type: \"SERVER\" };\n        t.data = { server: server };\n        store.dispatch(t);\n        return server;\n    }\n    return { code: check.code };\n}\n \nexport default {\n    cache,\n    ajax,\n    utils,\n    modal,\n    message,\n    store,\n    confirm: confirm,\n    server\n};\n","/Users/luohai/web/git/react-youyan-admin/src/reducers/index.js",[],"/Users/luohai/web/git/react-youyan-admin/src/components/sidebar/sidebar.js",["230","231","232"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Scrollbar from \"perfect-scrollbar-react\";\nimport \"perfect-scrollbar-react/dist/style.min.css\";\nimport classnames from \"classnames\";\nimport style from \"./style.less\";\nimport { connect } from \"react-redux\";\nclass Sidebar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            server: { columns: [] },\n            item_active: [],\n            children_item_active: \"\",\n            ...props.data,\n        };\n        // console.log('Sidebar=>',props)\n    }\n    handleMouseOver(e) {\n        this.props.handle_state(\"expand_logo\", true);\n    }\n\n    handleMouseOut(e) {\n        this.props.handle_state(\"expand_logo\", false);\n    }\n    componentWillReceiveProps(newProps) {\n        this.setState({ ...newProps.data }, function () {\n            // console.log(\"newProps=>\",this.state)\n        });\n    }\n    handle_open_change(id) {\n        const item_active = this.state.item_active;\n        item_active[id] = !this.state.item_active[id];\n        this.setState({ item_active: item_active });\n    }\n    get_children(items, item_id) {\n        const s = items.map((item, i) => {\n            return (\n                <li className=\"sidebar-item\" key={item.id}>\n                    <Link\n                        className={[\n                            \"sidebar-link  waves-effect waves-dark\",\n                            this.state.item_active[item.id] ? \"active\" : \"\",\n                            item.children ? \"has-arrow\" : \"\",\n                        ].join(\" \")}\n                        to={item.url}\n                        aria-expanded=\"false\"\n                        onClick={this.handle_open_change.bind(\n                            this,\n                            item.children ? item.id : 0\n                        )}\n                    >\n                        <i className={classnames(\"fa\", \"fa-\" + item.icon)} />\n                        <span className=\"hide-menu\">{item.name}</span>\n                        <span className=\"badge badge-inverse badge-pill ml-auto mr-3 font-medium px-2 py-1\">\n                            {item.badge}\n                        </span>\n                    </Link>\n                    {item.children\n                        ? this.get_children(item.children, item.id)\n                        : \"\"}\n                </li>\n            );\n        });\n        return (\n            <ul\n                aria-expanded=\"false\"\n                className={classnames(\n                    \"collapse  first-level\",\n                    this.state.item_active[item_id] ? \"in\" : \"\"\n                )}\n            >\n                {s}\n            </ul>\n        );\n    }\n    get_columns() {\n        return this.state.server.columns.map((item, i) => {\n            return (\n                <li\n                    className={classnames(\n                        \"sidebar-item\",\n                        this.state.item_active[item.ids] ? \"selected\" : \"\"\n                    )}\n                    key={i}\n                >\n                    <Link\n                        className={classnames(\n                            \"sidebar-link waves-effect waves-dark\",\n                            this.state.item_active[item.id] ? \"active\" : \"\",\n                            item.children ? \"has-arrow\" : \"\"\n                        )}\n                        to={item.url ? item.url : \"#!\"}\n                        aria-expanded=\"false\"\n                        onClick={this.handle_open_change.bind(\n                            this,\n                            item.children ? item.id : 0\n                        )}\n                    >\n                        <i className={classnames(\"fa\", \"fa-\" + item.icon)} />\n                        <span className=\"hide-menu\">{item.name}</span>\n                        <span className=\"badge badge-inverse badge-pill ml-auto mr-3 font-medium px-2 py-1\">\n                            {item.children ? item.children.length : \"\"}\n                        </span>\n                    </Link>\n                    {item.children\n                        ? this.get_children(item.children, item.id)\n                        : \"\"}\n                </li>\n            );\n        });\n    }\n    render() {\n        // console.log('Sidebar=>',this.state,this.props)\n        const columns = this.get_columns();\n        return (\n            <aside\n                id=\"aside\"\n                className=\"left-sidebar\"\n                data-sidebarbg={this.state.settings.sidebar_color}\n                onMouseOver={this.handleMouseOver.bind(this)}\n                onMouseLeave={this.handleMouseOut.bind(this)}\n            >\n                <div className=\"scroll-sidebar ps-container ps-theme-default ps-active-y\">\n                    <nav className=\"sidebar-nav\">\n                        <div\n                            className=\"list-data\"\n                            style={{\n                                display: \"flex\",\n                                maxHeight: document.body.clientHeight - 10,\n                            }}\n                        >\n                            <Scrollbar>\n                                <ul id=\"sidebarnav\">{columns}</ul>\n                            </Scrollbar>\n                        </div>\n                    </nav>\n                </div>\n            </aside>\n        );\n    }\n}\nexport default Sidebar;\n// export default connect((store) => ({ ...store }))(Sidebar);\n","/Users/luohai/web/git/react-youyan-admin/src/components/header/header.js",["233","234","235","236","237","238","239","240","241","242","243"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport webapi from \"@/utils/webapi\";\nimport style from \"@/styles/style.less\";\nimport classnames from \"classnames\"; \nclass Header extends React.Component {\n    /*--------------------------------------------------------------------------------\n        * 构造\n        --------------------------------------------------------------------------------*/\n    constructor(props) {\n        super(props); \n        this.state = this.init_state();\n    }\n    init_state() {\n        const params = webapi.utils.query();\n        return {\n            q_temp: \"\",\n            q: params.q || \"\",\n            navbarSupported: false,\n            item_active: 0,\n            server: { menus: [] },\n            isOpen: false,\n            ...this.props\n        };\n    }\n    /*--------------------------------------------------------------------------------\n        * 更新 state \n        --------------------------------------------------------------------------------*/\n    componentWillReceiveProps(props) {\n        // console.log(\"d=>\", props);\n        this.props = props;\n        this.setState({ ...props }, () => {\n            // console.log(\"newProps=>\",this.state)\n        });\n    }\n \n\n   \n    handle_user_profile() {\n        this.setState({\n            user_profile_show: !this.state.user_profile_show,\n            item_active: 0\n        });\n    }\n\n    handle_notify_tasks() {\n        this.setState({\n            notify_tasks_show: !this.state.notify_tasks_show,\n            notify_messanges_show: false\n        });\n    }\n    handle_notify_messanges() {\n        this.setState({\n            notify_messanges_show: !this.state.notify_messanges_show,\n            notify_tasks_show: false\n        });\n    }\n    handle_avatar_loaded() {\n        alert(\"handle_avatar_loaded\");\n    }\n    handle_avatar_errored(user_id) {\n        var avatar =\n            \"https://assets.shunfengquan.com/avatar/default_avatar_image_\" +\n            (user_id % 10) +\n            \".jpg\";\n        this.state.server.ucdata.avatar = avatar;\n        this.setState({ avatar_img_url: avatar });\n    }\n    /*--------------------------------------------------------------------------------\n    * 更改样式\n    --------------------------------------------------------------------------------*/\n    handle_collapse() {\n        this.props.handle_collapse();\n    }\n    handle_navbarSupportedContent() {\n        this.setState({ navbarSupported: !this.state.navbarSupported });\n    }\n    handle_customizer() {\n        this.handle_user_profile();\n        this.props.handle_state(\"customizer_show\", !this.state.customizer_show);\n    }\n    handel_search() {\n        var val = this.state.q;\n        const urlParams = new URL(window.location.href);\n        const params = webapi.utils.query();\n        params.q = val;\n        const param = webapi.utils.http_build_query(params);\n        var url = urlParams.pathname + \"?\" + param;\n        // console.log(urlParams,params,this.props.history)\n        this.props.history.replace(url);\n    }\n    handel_search_focus() {\n        // var q = this.state.q;\n        // var q_temp = this.state.q_temp;\n        // if (q) {\n        //     this.setState({\n        //         q:'',\n        //         q_temp: q\n        //     });\n        // }\n    }\n    handel_search_onblur() {\n        // var q = this.state.q;\n        // var q_temp = this.state.q_temp;\n        // if (q_temp) {\n        //     this.setState({\n        //         q: q_temp,\n        //         q_temp:''\n        //     });\n        // }\n    }\n    handel_search_keyup(e) {\n        if (e.keyCode === 13) {\n            this.handel_search();\n        }\n    }\n    handel_search_change(event) {\n        var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        this.setState({\n            q: val + \"\"\n        });\n    }\n    /*--------------------------------------------------------------------------------\n        * 退出登录\n        --------------------------------------------------------------------------------*/\n\n    handle_auth_logout() {\n        var that = this;\n        webapi.modal.confirm({\n            title: \"提示消息\",\n            content: \"确认退出登录吗\",\n            onOk: () =>\n                new Promise((resolve) => {\n                    webapi.ajax.post(\"authorize/auth/logout\", {}, function(\n                        data\n                    ) {\n                        resolve(true);\n                        if (data.status == \"success\") {\n                            webapi.message.success(data.message);\n                            webapi.cache.set(\n                                \"bak\",\n                                window.location.pathname +\n                                    window.location.search\n                            );\n                            var url = \"/authorize/auth/login\";\n                            window.location.assign(url);\n                        } else {\n                            webapi.message.error(data.message);\n                        }\n                    });\n                }),\n            text: { ok: \"退出登录\", cancel: \"取消操作\" }\n        });\n    }\n\n    /*--------------------------------------------------------------------------------\n    * handle_nav\n    --------------------------------------------------------------------------------*/\n\n    handle_nav(id) {\n        this.setState({\n            user_profile_show: false,\n            item_active: this.state.item_active === id ? -1 : id\n        });\n    }\n    /*--------------------------------------------------------------------------------\n    * menus_child\n    --------------------------------------------------------------------------------*/\n\n    menus_child(children = []) {\n        return children.map((val, key) => {\n            return (\n                <li key={key}>\n                    <Link\n                        className=\"dropdown-item\"\n                        to={val.url}\n                        onClick={this.handle_nav.bind(this, -1)}\n                    >\n                        <i className={classnames(\"fa\", \"fa-\" + val.icon)}></i>\n                        <strong>{val.name}</strong>\n                        <small>{val.intro}</small>\n                    </Link>\n                </li>\n            );\n        });\n    }\n    /*--------------------------------------------------------------------------------\n    * menus\n    --------------------------------------------------------------------------------*/\n    menus() {\n        return this.state.server.menus.map((val, key) => {\n            if (val.children) {\n                return (\n                    <li\n                        className=\n                            \"nav-item animated flipInY snav\"\n                            \n                        key={key}\n                    >\n                        <a\n                            className=\"nav-link dropdown-toggle waves-effect waves-dark\"\n                            href=\"#!\"\n                            onClick={this.handle_nav.bind(this, val.id)}\n                            data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\"\n                            aria-expanded=\"false\"\n                        >\n                            <span className=\"ml-2 font-medium\">{val.name}</span>\n                            <span className=\"fas fa-angle-down ml-2\" />\n                        </a>\n                        <ul\n                            className={classnames(\n                                \"n\",\n                                this.state.item_active == val.id && \"show\"\n                            )}\n                        >\n                            {this.menus_child(val.children)}\n                        </ul>\n                    </li>\n                );\n            }\n        });\n    }\n    /*--------------------------------------------------------------------------------\n     * 渲染\n    --------------------------------------------------------------------------------*/\n    render() {\n        const server = this.state.server;\n        const menus = this.menus();\n        return (\n            <>\n                \n                <header\n                    id=\"header\"\n                    className=\"topbar\"\n                    data-navbarbg={this.state.settings.navbar_bg}\n                >\n                    <nav className=\"navbar top-navbar navbar-expand-md navbar-light\">\n                        <div\n                            className={[\n                                \"navbar-header border-right\",\n                                this.state.expand_logo && \"expand-logo\"\n                            ].join(\" \")}\n                            data-logobg={this.state.settings.logo_bg}\n                        >\n                            <a\n                                onClick={this.handle_collapse.bind(this)}\n                                className=\"nav-toggler waves-effect waves-light d-block d-md-none\"\n                                href=\"#!\"\n                            >\n                                <i className=\"ti-menu ti-close\"></i>\n                            </a>\n                            <Link\n                                className=\"navbar-brand\"\n                                to={this.state.homepage}\n                            >\n                                <b className=\"logo-icon\">\n                                    <img\n                                        src={require(\"@/assets/images/logo-icon.png\").default}\n                                        alt=\"homepage\"\n                                        className=\"dark-logo\"\n                                    />\n\n                                    <img\n                                        src={require(\"@/assets/images/logo-light-icon.png\").default}\n                                        alt=\"homepage\"\n                                        className=\"light-logo\"\n                                    />\n                                </b>\n                                <span className=\"logo-text\">\n                                    <img\n                                        src={require(\"@/assets/images/logo-text.png\").default}\n                                        alt=\"homepage\"\n                                        className=\"dark-logo\"\n                                    />\n\n                                    <img\n                                        src={require(\"@/assets/images/logo-light-text.png\").default}\n                                        className=\"light-logo\"\n                                        alt=\"homepage\"\n                                    />\n                                </span>\n                            </Link>\n                            <a\n                                className=\"topbartoggler d-block d-md-none waves-effect waves-light\"\n                                href=\"#!\"\n                                data-toggle=\"collapse\"\n                                data-target=\"#navbarSupportedContent\"\n                                aria-controls=\"navbarSupportedContent\"\n                                aria-expanded=\"false\"\n                                aria-label=\"Toggle navigation\"\n                                onClick={this.handle_navbarSupportedContent.bind(\n                                    this\n                                )}\n                            >\n                                <i className=\"ti-more\"></i>\n                            </a>\n                        </div>\n                        <div\n                            className={[\n                                \"navbar-collapse collapse\",\n                                this.state.navbarSupported && \"show\"\n                            ].join(\" \")}\n                            id=\"navbarSupportedContent\"\n                            data-navbarbg={this.state.settings.navbar_bg}\n                        >\n                            <ul className=\"navbar-nav float-left mr-auto\">\n                                <li className=\"nav-item d-none d-md-block\">\n                                    <a\n                                        onClick={this.handle_collapse.bind(\n                                            this\n                                        )}\n                                        className=\"nav-link sidebartoggler waves-effect waves-light\"\n                                        href=\"#!\"\n                                        data-sidebartype=\"mini-sidebar\"\n                                    >\n                                        <i className=\"mdi mdi-menu font-18\" />\n                                    </a>\n                                </li>\n                                {server.notify_messanges ? (\n                                    <li\n                                        className={[\n                                            \"nav-item dropdown\",\n                                            this.state.notify_messanges_show &&\n                                                \"show\"\n                                        ].join(\" \")}\n                                    >\n                                        <a\n                                            onClick={this.handle_notify_messanges.bind(\n                                                this\n                                            )}\n                                            className=\"nav-link dropdown-toggle waves-effect waves-dark\"\n                                            href=\"#!\"\n                                            id=\"2\"\n                                            data-toggle=\"dropdown\"\n                                            aria-haspopup=\"true\"\n                                            aria-expanded=\"false\"\n                                        >\n                                            <i className=\"font-18 mdi mdi-gmail\" />\n                                            <div className=\"notify\">\n                                                <span className=\"heartbit\" />\n                                                <span className=\"point\" />\n                                            </div>\n                                        </a>\n                                        <div\n                                            className={[\n                                                \"dropdown-menu dropdown-menu-left mailbox animated bounceInDown\",\n                                                this.state\n                                                    .notify_messanges_show &&\n                                                    \"show\"\n                                            ].join(\" \")}\n                                            aria-labelledby=\"2\"\n                                        >\n                                            <ul className=\"list-style-none\">\n                                                <li>\n                                                    <div className=\"drop-title border-bottom\">\n                                                        You have 4 new messanges\n                                                    </div>\n                                                </li>\n                                                <li>\n                                                    <div className=\"message-center message-body\">\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"user-img\">\n                                                                <img\n                                                                    src=\"../../assets/images/users/1.jpg\"\n                                                                    alt=\"user\"\n                                                                    className=\"rounded-circle\"\n                                                                />{\" \"}\n                                                                <span className=\"profile-status online pull-right\" />{\" \"}\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Pavan kumar\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just see the\n                                                                    my admin!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:30 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"user-img\">\n                                                                <img\n                                                                    src=\"../../assets/images/users/2.jpg\"\n                                                                    alt=\"user\"\n                                                                    className=\"rounded-circle\"\n                                                                />\n                                                                <span className=\"profile-status busy pull-right\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Sonu Nigam\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    I've sung a\n                                                                    song! See\n                                                                    you at\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:10 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"user-img\">\n                                                                <img\n                                                                    src=\"../../assets/images/users/3.jpg\"\n                                                                    alt=\"user\"\n                                                                    className=\"rounded-circle\"\n                                                                />{\" \"}\n                                                                <span className=\"profile-status away pull-right\" />{\" \"}\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Arijit Sinh\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    I am a\n                                                                    singer!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:08 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"user-img\">\n                                                                <img\n                                                                    src=\"../../assets/images/users/4.jpg\"\n                                                                    alt=\"user\"\n                                                                    className=\"rounded-circle\"\n                                                                />{\" \"}\n                                                                <span className=\"profile-status offline pull-right\" />{\" \"}\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Pavan kumar\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just see the\n                                                                    my admin!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:02 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n                                                    </div>\n                                                </li>\n                                                <li>\n                                                    <a\n                                                        className=\"nav-link text-center link text-dark\"\n                                                        href=\"#!\"\n                                                    >\n                                                        {\" \"}\n                                                        <b>\n                                                            See all\n                                                            Notifications\n                                                        </b>{\" \"}\n                                                        <i className=\"fas fa-angle-right\" />{\" \"}\n                                                    </a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </li>\n                                ) : (\n                                    \"\"\n                                )}\n                                {server.notify_tasks ? (\n                                    <li\n                                        className={[\n                                            \"nav-item dropdown\",\n                                            this.state.notify_tasks_show &&\n                                                \"show\"\n                                        ].join(\" \")}\n                                    >\n                                        <a\n                                            onClick={this.handle_notify_tasks.bind(\n                                                this\n                                            )}\n                                            className=\"nav-link dropdown-toggle waves-effect waves-dark\"\n                                            href=\"#!\"\n                                            data-toggle=\"dropdown\"\n                                            aria-haspopup=\"true\"\n                                            aria-expanded=\"false\"\n                                        >\n                                            <i className=\"mdi mdi-check-circle font-18\" />\n                                            <div className=\"notify\">\n                                                <span className=\"heartbit\" />\n                                                <span className=\"point\" />\n                                            </div>\n                                        </a>\n                                        <div\n                                            className={[\n                                                \"dropdown-menu dropdown-menu-left mailbox animated bounceInDown\",\n                                                this.state.notify_tasks_show &&\n                                                    \"show\"\n                                            ].join(\" \")}\n                                        >\n                                            <span className=\"with-arrow\">\n                                                <span className=\"bg-primary\" />\n                                            </span>\n                                            <ul className=\"list-style-none\">\n                                                <li>\n                                                    <div className=\"drop-title border-bottom\">\n                                                        You have 3 new Tasks\n                                                    </div>\n                                                </li>\n                                                <li>\n                                                    <div className=\"message-center notifications\">\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"btn btn-danger btn-circle\">\n                                                                <i className=\"fa fa-link\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Luanch Admin\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just see the\n                                                                    my new\n                                                                    admin!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:30 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"btn btn-success btn-circle\">\n                                                                <i className=\"ti-calendar\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Event today\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just a\n                                                                    reminder\n                                                                    that you\n                                                                    have event\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:10 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"btn btn-info btn-circle\">\n                                                                <i className=\"ti-settings\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Settings\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    You can\n                                                                    customize\n                                                                    this\n                                                                    template as\n                                                                    you want\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:08 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"btn btn-primary btn-circle\">\n                                                                <i className=\"ti-user\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Pavan kumar\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just see the\n                                                                    my admin!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:02 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n                                                    </div>\n                                                </li>\n                                                <li>\n                                                    <a\n                                                        className=\"nav-link text-center mb-1 text-dark\"\n                                                        href=\"#!;\"\n                                                    >\n                                                        {\" \"}\n                                                        <strong>\n                                                            See all Tasks\n                                                        </strong>{\" \"}\n                                                        <i className=\"fa fa-angle-right\" />{\" \"}\n                                                    </a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </li>\n                                ) : (\n                                    \"\"\n                                )}\n                            </ul>\n\n                            <ul\n                                className=\n                                    \"navbar-nav float-right mcd-menu\"\n                            >\n                                <li className=\"nav-item search-box\">\n                                    <div className=\"app-search d-none d-lg-block\">\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-control\"\n                                            placeholder=\"搜索...\"\n                                            name=\"q\"\n                                            value={this.state.q}\n                                            onBlur={this.handel_search_onblur.bind(\n                                                this\n                                            )}\n                                            onFocus={this.handel_search_focus.bind(\n                                                this\n                                            )}\n                                            onKeyUp={this.handel_search_keyup.bind(\n                                                this\n                                            )}\n                                            onChange={this.handel_search_change.bind(\n                                                this\n                                            )}\n                                        />\n                                        <a\n                                            href=\"#!\"\n                                            onClick={this.handel_search.bind(\n                                                this\n                                            )}\n                                            className=\"active\"\n                                        >\n                                            <i className=\"fas fa-search\" />\n                                        </a>\n                                    </div>\n                                </li>\n                                {menus}\n                                <li\n                                    className={[\n                                        \"nav-item dropdown\",\n                                        this.state.user_profile_show && \"show\"\n                                    ].join(\" \")}\n                                >\n                                    <a\n                                        className=\"nav-link dropdown-toggle waves-effect waves-dark\"\n                                        href=\"#!\"\n                                        onClick={this.handle_user_profile.bind(\n                                            this\n                                        )}\n                                        data-toggle=\"dropdown\"\n                                        aria-haspopup=\"true\"\n                                        aria-expanded=\"false\"\n                                    >\n                                        <img\n                                            src={server.ucdata.avatar}\n                                            alt={server.ucdata.nickname}\n                                            onError={this.handle_avatar_errored.bind(\n                                                this,\n                                                server.ucdata.user_id\n                                            )}\n                                            className=\"rounded-circle\"\n                                            width=\"36\"\n                                        />\n                                        <span className=\"ml-2 font-medium\">\n                                            {server.ucdata.nickname}\n                                        </span>\n                                        <span className=\"fas fa-angle-down ml-2\" />\n                                    </a>\n                                    <div\n                                        className={[\n                                            \"dropdown-menu dropdown-menu-right user-dd animated flipInY\",\n                                            this.state.user_profile_show &&\n                                                \"show\"\n                                        ].join(\" \")}\n                                    >\n                                        <div className=\"d-flex no-block align-items-center p-3 mb-2 border-bottom\">\n                                            <div className=\"\">\n                                                <img\n                                                    src={server.ucdata.avatar}\n                                                    alt={server.ucdata.nickname}\n                                                    className=\"rounded-circle\"\n                                                    width=\"80\"\n                                                />\n                                            </div>\n                                            <div className=\"ml-2\">\n                                                <h4 className=\"mb-0\">\n                                                    {server.ucdata.nickname}\n                                                </h4>\n                                                <p className=\" mb-0 text-muted\">\n                                                    {server.ucdata.mobile\n                                                        ? server.ucdata.mobile\n                                                        : server.ucdata.email}\n                                                </p>\n                                                <p className=\" mb-0 text-muted\">\n                                                    UID:{server.ucdata.user_id}\n                                                </p>\n                                                <Link\n                                                    onClick={this.handle_user_profile.bind(\n                                                        this\n                                                    )}\n                                                    to=\"/authorize/account/profile\"\n                                                    className=\"btn btn-sm btn-danger text-white mt-2 btn-rounded\"\n                                                >\n                                                    我的资料\n                                                </Link>\n                                            </div>\n                                        </div>\n                                        <Link\n                                            className=\"dropdown-item\"\n                                            to=\"/authorize/account/profile\"\n                                            onClick={this.handle_user_profile.bind(\n                                                this\n                                            )}\n                                        >\n                                            <i className=\"ti-user mr-1 ml-1\" />\n                                            我的资料\n                                        </Link>\n                                        <a\n                                            className=\"dropdown-item\"\n                                            href=\"#!\"\n                                            style={{ display: \"none\" }}\n                                        >\n                                            <i className=\"ti-wallet mr-1 ml-1\" />{\" \"}\n                                            My Balance\n                                        </a>\n                                        <a\n                                            style={{ display: \"none\" }}\n                                            className=\"dropdown-item\"\n                                            href=\"/authorize/account/inbox\"\n                                        >\n                                            <i className=\"ti-email mr-1 ml-1\" />{\" \"}\n                                            收件箱\n                                        </a>\n                                        <div className=\"dropdown-divider\" />\n                                        <Link\n                                            style={{ display: \"none\" }}\n                                            className=\"dropdown-item\"\n                                            to=\"/authorize/account/settings\"\n                                        >\n                                            <i className=\"ti-settings mr-1 ml-1\" />{\" \"}\n                                            账户设置\n                                        </Link>\n                                        <div className=\"dropdown-divider\" />\n                                        <a\n                                            \n                                            className=\"dropdown-item\"\n                                            href=\"#\"\n                                            onClick={this.handle_customizer.bind(\n                                                this\n                                            )}\n                                        >\n                                            <i className=\"fa fa-eye-slash mr-1 ml-1\" />{\" \"}\n                                            更改样式\n                                        </a>\n                                        <div className=\"dropdown-divider\" />\n                                        <a\n                                            className=\"dropdown-item\"\n                                            href=\"#!\"\n                                            onClick={this.handle_auth_logout.bind(\n                                                this\n                                            )}\n                                        >\n                                            <i className=\"fas fa-power-off mr-1 ml-1\" />{\" \"}\n                                            退出登录\n                                        </a>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </nav>\n                </header>\n            </>\n        );\n    }\n}\nexport default connect((store) => ({ ...store }))(Header);\n","/Users/luohai/web/git/react-youyan-admin/src/components/footer/footer.js",[],"/Users/luohai/web/git/react-youyan-admin/src/components/breadcrumb/breadcrumb.js",["244"],"import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\"; \nclass Breadcrumb extends Component {\n    constructor(props) {\n        super(props);  \n    }\n    /**\n     * props 有变化\n     */\n    componentWillReceiveProps(props) { \n        this.props = props;  \n    }\n    render() { \n        const data=this.props.breadcrumb;\n        return (\n            <>\n                {data.title ? (\n                    <div\n                        id=\"breadcrumb\"\n                        className=\"page-breadcrumb border-bottom\"\n                    >\n                        <div className=\"row\">\n                            <div className=\"col-lg-3 col-md-4 col-xs-12 align-self-center\">\n                                <h5 className=\"font-medium text-uppercase mb-0\">\n                                    {data.title}\n                                </h5>\n                            </div>\n                            <div className=\"col-lg-9 col-md-8 col-xs-12 align-self-center\">\n                                {data.buttons.map(\n                                    (val, key) => {\n                                        return (\n                                            <Link\n                                                className=\"btn btn-danger text-white float-right ml-3 d-none d-md-block\"\n                                                onClick={val.onClick}\n                                                key={key}\n                                                to={val.url}\n                                            >\n                                                {val.title}\n                                            </Link>\n                                        );\n                                    }\n                                )}\n                                <nav\n                                    aria-label=\"breadcrumb\"\n                                    className=\"mt-2 float-md-right float-left\"\n                                >\n                                    <ol className=\"breadcrumb mb-0 justify-content-end p-0\">\n                                        {data.lists.map(\n                                            (val, key) => {\n                                                return (\n                                                    <li\n                                                        className=\"breadcrumb-item\"\n                                                        key={key}\n                                                    >\n                                                        <Link to={val.url}>\n                                                            {val.title}\n                                                        </Link>\n                                                    </li>\n                                                );\n                                            }\n                                        )}\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n            </>\n        );\n    }\n}\nexport default connect(store => ({ ...store }))(Breadcrumb);","/Users/luohai/web/git/react-youyan-admin/src/components/customizer/customizer.js",["245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268"],"import React from \"react\";\nclass Customizer extends React.Component {\n    /*--------------------------------------------------------------------------------\n    * 构造\n    --------------------------------------------------------------------------------*/\n    constructor(props) {\n        super(props);\n        this.state = {\n            customizer_show: false,\n            customizer_class: \"customizer\",\n            nav_show: 1,\n            ...props.data,\n        };\n        // console.log('Customizer=>',props)\n    }\n    /*--------------------------------------------------------------------------------\n    * 更新 state \n    --------------------------------------------------------------------------------*/\n    componentWillReceiveProps(newProps) {\n        this.setState({ ...newProps.data }, function () {\n            // console.log(\"newProps=>\",this.state)\n        });\n    }\n    componentWillMount() {\n        // console.log(\"Rightaside\");\n    }\n    handle_customizer() {\n        this.props.handle_state(\"customizer_show\", !this.state.customizer_show);\n    }\n    handle_nav(i) {\n        this.setState({ nav_show: i });\n    }\n    handle_sidebar_backgrounds(i) {\n        this.handle_skin(\"sidebar_color\", \"skin\" + i);\n    }\n    handle_logo_backgrounds(i) {\n        this.handle_skin(\"logo_bg\", \"skin\" + i);\n    }\n    handle_navbar_backgrounds(i) {\n        this.handle_skin(\"navbar_bg\", \"skin\" + i);\n    }\n    handle_sidebar_position() {\n        this.handle_skin(\n            \"sidebar_position\",\n            this.state.settings.sidebar_position == \"fixed\"\n                ? \"absolute\"\n                : \"fixed\"\n        );\n    }\n    handle_header_position() {\n        this.handle_skin(\n            \"header_position\",\n            this.state.settings.header_position == \"fixed\"\n                ? \"relative\"\n                : \"fixed\"\n        );\n    }\n    handle_boxed_layout() {\n        this.handle_skin(\n            \"boxed_layout\",\n            this.state.settings.boxed_layout == \"full\" ? \"boxed\" : \"full\"\n        );\n    }\n    /*--------------------------------------------------------------------------------\n    * 更改样式\n    --------------------------------------------------------------------------------*/\n    handle_skin(k, v) {\n        this.props.handle_skin(k, v);\n    }\n    /*--------------------------------------------------------------------------------\n    * sidebartype\n    --------------------------------------------------------------------------------*/\n\n    handle_sidebartype() {\n        this.props.handle_sidebartype();\n    }\n    render() {\n        return (\n            <aside\n                id=\"customizer\"\n                className={[\n                    \"customizer\",\n                    this.state.customizer_show ? \"show-service-panel\" : \"\",\n                ].join(\" \")}\n            >\n                <a\n                    href=\"#!\"\n                    onClick={this.handle_customizer.bind(this)}\n                    className={[\n                        \"service-panel-toggle\",\n                        this.state.customizer_show ? \"show\" : \"hide\",\n                    ].join(\" \")}\n                >\n                    <i className=\"fa fa-spin fa-cog\" />\n                </a>\n                <div\n                    className=\"customizer-body ps-container ps-theme-default ps-active-y\"\n                    data-ps-id=\"61e4d02d-86fa-1024-e7bb-b396cc3633d0\"\n                >\n                    <ul className=\"nav customizer-tab\" role=\"tablist\">\n                        <li\n                            className=\"nav-item\"\n                            onClick={this.handle_nav.bind(this, 1)}\n                        >\n                            <a\n                                className={[\n                                    \"nav-link\",\n                                    this.state.nav_show === 1 && \"active show\",\n                                ].join(\" \")}\n                                id=\"pills-home-tab\"\n                                data-toggle=\"pill\"\n                                href=\"#!\"\n                                role=\"tab\"\n                                aria-controls=\"pills-home\"\n                                aria-selected=\"false\"\n                            >\n                                <i className=\"mdi mdi-wrench font-20\" />\n                            </a>\n                        </li>\n                        <li\n                            className=\"nav-item\"\n                            onClick={this.handle_nav.bind(this, 2)}\n                        >\n                            <a\n                                className={[\n                                    \"nav-link\",\n                                    this.state.nav_show === 2 && \"active show\",\n                                ].join(\" \")}\n                                id=\"pills-profile-tab\"\n                                data-toggle=\"pill\"\n                                href=\"#!\"\n                                role=\"tab\"\n                                aria-controls=\"chat\"\n                                aria-selected=\"false\"\n                            >\n                                <i className=\"mdi mdi-message-reply font-20\" />\n                            </a>\n                        </li>\n                        <li\n                            className=\"nav-item\"\n                            onClick={this.handle_nav.bind(this, 3)}\n                        >\n                            <a\n                                className={[\n                                    \"nav-link\",\n                                    this.state.nav_show === 3 && \"active show\",\n                                ].join(\" \")}\n                                id=\"pills-contact-tab\"\n                                data-toggle=\"pill\"\n                                href=\"#!\"\n                                role=\"tab\"\n                                aria-controls=\"pills-contact\"\n                                aria-selected=\"true\"\n                            >\n                                <i className=\"mdi mdi-star-circle font-20\" />\n                            </a>\n                        </li>\n                    </ul>\n                    <div className=\"tab-content\" id=\"pills-tabContent\">\n                        <div\n                            className={[\n                                \"tab-pane fade\",\n                                this.state.nav_show == 1 && \"active show\",\n                            ].join(\" \")}\n                            id=\"pills-home\"\n                            role=\"tabpanel\"\n                            aria-labelledby=\"pills-home-tab\"\n                        >\n                            <div className=\"p-3 border-bottom\" style={{ display: \"none\" }}> \n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    主题颜色\n                                </h5>\n                                <div\n                                        className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                        data-toggle=\"buttons\"\n                                    >\n                                        <label className=\"btn btn-outline-secondary active\">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                                id=\"theme-light\"\n                                            />\n                                            白色\n                                        </label>\n                                        <label className=\"btn btn-outline-secondary \">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                                id=\"theme-dark\"\n                                            />\n                                            深色\n                                        </label>\n                                    </div>\n                            </div> \n                            <div className=\"p-3 border-bottom\" id=\"sidebar_position\" style={{ display: \"none\" }}>\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    侧边栏位置\n                                </h5>\n                                <div\n                                        className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                        data-toggle=\"buttons\"\n                                    >\n                                        <label className=\"btn btn-outline-secondary active\">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            固定\n                                        </label>\n                                        <label className=\"btn btn-outline-secondary \">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            滚动\n                                        </label>\n                                    </div>\n                            </div> \n                            <div className=\"p-3 border-bottom\" id=\"sidebar_position\" style={{ display: \"none\" }}>\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    头部位置\n                                </h5>\n                                <div\n                                        className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                        data-toggle=\"buttons\"\n                                    >\n                                        <label className=\"btn btn-outline-secondary active\">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            固定\n                                        </label>\n                                        <label className=\"btn btn-outline-secondary \">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            滚动\n                                        </label>\n                                    </div>\n                            </div> \n\n                            <div className=\"p-3 border-bottom\" id=\"sidebar_position\" style={{ display: \"none\" }}>\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    布局\n                                </h5>\n                                <div\n                                        className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                        data-toggle=\"buttons\"\n                                    >\n                                        <label className=\"btn btn-outline-secondary active\">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            满屏\n                                        </label>\n                                        <label className=\"btn btn-outline-secondary \">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            盒装\n                                        </label>\n                                    </div>\n                            </div> \n                            <div className=\"p-3 border-bottom\" id=\"sidebar_position\" style={{ display: \"none\" }}>\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    侧边栏类型\n                                </h5>\n                                <div\n                                        className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                        data-toggle=\"buttons\"\n                                    >\n                                        <label className=\"btn btn-outline-secondary active\">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            满屏\n                                        </label>\n                                        <label className=\"btn btn-outline-secondary \">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            迷你\n                                        </label>\n                                        <label className=\"btn btn-outline-secondary \">\n                                            <input\n                                                type=\"radio\"\n                                                name=\"theme-color\"\n                                            />\n                                            覆盖\n                                        </label>\n                                    </div>\n                            </div> \n\n                            <div className=\"p-3 border-bottom\" >\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    布局设置\n                                </h5>\n                                \n\n                                <div className=\"custom-control custom-checkbox mt-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"custom-control-input sidebartoggler\"\n                                        name=\"collapssidebar\"\n                                        id=\"collapssidebar\"\n                                        onChange={this.handle_sidebartype.bind(\n                                            this\n                                        )}\n                                        defaultChecked={\n                                            this.state.server.sidebartype ===\n                                            \"full\"\n                                                ? false\n                                                : true\n                                        }\n                                    />\n                                    <label\n                                        className=\"custom-control-label\"\n                                        htmlFor=\"collapssidebar\"\n                                    >\n                                        折叠边栏\n                                    </label>\n                                </div>\n                                <div className=\"custom-control custom-checkbox mt-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"custom-control-input\"\n                                        name=\"sidebar-position\"\n                                        id=\"sidebar-position\"\n                                        onChange={this.handle_sidebar_position.bind(\n                                            this\n                                        )}\n                                        defaultChecked={\n                                            this.state.server\n                                                .sidebar_position === \"fixed\"\n                                                ? false\n                                                : true\n                                        }\n                                    />\n                                    <label\n                                        className=\"custom-control-label\"\n                                        htmlFor=\"sidebar-position\"\n                                    >\n                                        固定边栏\n                                    </label>\n                                </div>\n                                <div className=\"custom-control custom-checkbox mt-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"custom-control-input\"\n                                        name=\"header-position\"\n                                        id=\"header-position\"\n                                        onChange={this.handle_header_position.bind(\n                                            this\n                                        )}\n                                        defaultChecked={\n                                            this.state.server\n                                                .header_position === \"fixed\"\n                                                ? false\n                                                : true\n                                        }\n                                    />\n                                    <label\n                                        className=\"custom-control-label\"\n                                        htmlFor=\"header-position\"\n                                    >\n                                        固定页眉\n                                    </label>\n                                </div>\n                                <div className=\"custom-control custom-checkbox mt-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"custom-control-input\"\n                                        name=\"boxed-layout\"\n                                        id=\"boxed-layout\"\n                                        onChange={this.handle_boxed_layout.bind(\n                                            this\n                                        )}\n                                    />\n                                    <label\n                                        className=\"custom-control-label\"\n                                        htmlFor=\"boxed-layout\"\n                                    >\n                                        盒装布局\n                                    </label>\n                                </div>\n                            </div>\n                            <div className=\"p-3 border-bottom\">\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    LOGO 背景\n                                </h5>\n                                <ul className=\"theme-color\">\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            1\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin1\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            2\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin2\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            3\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin3\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            4\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin4\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            5\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin5\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            6\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin6\"\n                                        />\n                                    </li>\n                                </ul>\n                            </div>\n                            <div className=\"p-3 border-bottom\">\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    导航栏背景\n                                </h5>\n                                <ul className=\"theme-color\">\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            1\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin1\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            2\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin2\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            3\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin3\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            4\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin4\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            5\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin5\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            6\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin6\"\n                                        />\n                                    </li>\n                                </ul>\n                            </div>\n                            <div className=\"p-3 border-bottom\">\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    侧边栏背景\n                                </h5>\n                                <ul className=\"theme-color\">\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            1\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin1\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            2\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin2\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            3\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin3\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            4\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin4\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            5\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin5\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            6\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin6\"\n                                        />\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n\n                        <div\n                            className={[\n                                \"tab-pane fade\",\n                                this.state.nav_show == 2 && \"active show\",\n                            ].join(\" \")}\n                            id=\"chat\"\n                            role=\"tabpanel\"\n                            aria-labelledby=\"pills-profile-tab\"\n                        >\n                            <ul className=\"mailbox list-style-none mt-3\">\n                                <li>\n                                    <div\n                                        className=\"message-center chat-scroll\"\n                                        style={{ display: \"none\" }}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_1\"\n                                            data-user-id=\"1\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/1.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status online pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Pavan kumar\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:30 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_2\"\n                                            data-user-id=\"2\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/2.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status busy pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Sonu Nigam\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    I've sung a song! See you at\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:10 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_3\"\n                                            data-user-id=\"3\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/3.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status away pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Arijit Sinh\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    I am a singer!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:08 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_4\"\n                                            data-user-id=\"4\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/4.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Nirav Joshi\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_5\"\n                                            data-user-id=\"5\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/5.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Sunil Joshi\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_6\"\n                                            data-user-id=\"6\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/6.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Akshay Kumar\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_7\"\n                                            data-user-id=\"7\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/7.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Pavan kumar\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_8\"\n                                            data-user-id=\"8\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/8.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Varun Dhavan\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n\n                        <div\n                            className={[\n                                \"tab-pane fade\",\n                                this.state.nav_show == 3 && \"active show\",\n                            ].join(\" \")}\n                            id=\"pills-contact\"\n                            role=\"tabpanel\"\n                            aria-labelledby=\"pills-contact-tab\"\n                        >\n                            <h6 className=\"mt-3 mb-3\">Activity Timeline</h6>\n                            <div\n                                className=\"steamline\"\n                                style={{ display: \"none\" }}\n                            >\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left bg-success\">\n                                        <i className=\"ti-user\" />\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Meeting today\n                                            <span className=\"sl-date\">\n                                                {\" \"}\n                                                5pm\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            you can write anything{\" \"}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left bg-info\">\n                                        <i className=\"fas fa-image\" />\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Send documents to Clark\n                                        </div>\n                                        <div className=\"desc\">\n                                            Lorem Ipsum is simply{\" \"}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left\">\n                                        <img\n                                            className=\"rounded-circle\"\n                                            alt=\"user\"\n                                            src=\"../../assets/images/users/2.jpg\"\n                                        />{\" \"}\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Go to the Doctor\n                                            <span className=\"sl-date\">\n                                                5 minutes ago\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            Contrary to popular belief\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left\">\n                                        <img\n                                            className=\"rounded-circle\"\n                                            alt=\"user\"\n                                            src=\"../../assets/images/users/1.jpg\"\n                                        />{\" \"}\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div>\n                                            <a href=\"#!\">Stephen</a>\n                                            <span className=\"sl-date\">\n                                                5 minutes ago\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            Approve meeting with tiger\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left bg-primary\">\n                                        <i className=\"ti-user\" />\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Meeting today\n                                            <span className=\"sl-date\">\n                                                {\" \"}\n                                                5pm\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            you can write anything{\" \"}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left bg-info\">\n                                        <i className=\"fas fa-image\" />\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Send documents to Clark\n                                        </div>\n                                        <div className=\"desc\">\n                                            Lorem Ipsum is simply{\" \"}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left\">\n                                        <img\n                                            className=\"rounded-circle\"\n                                            alt=\"user\"\n                                            src=\"../../assets/images/users/4.jpg\"\n                                        />{\" \"}\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Go to the Doctor\n                                            <span className=\"sl-date\">\n                                                5 minutes ago\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            Contrary to popular belief\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left\">\n                                        <img\n                                            className=\"rounded-circle\"\n                                            alt=\"user\"\n                                            src=\"../../assets/images/users/6.jpg\"\n                                        />{\" \"}\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div>\n                                            <a href=\"#!\">Stephen</a>\n                                            <span className=\"sl-date\">\n                                                5 minutes ago\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            Approve meeting with tiger\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div\n                        className=\"ps-scrollbar-x-rail\"\n                        style={{ left: \"0px\", bottom: \"0px\" }}\n                    >\n                        <div\n                            className=\"ps-scrollbar-x\"\n                            tabIndex=\"0\"\n                            style={{ left: \"0px\", width: \"0px\" }}\n                        />\n                    </div>\n                </div>\n            </aside>\n        );\n    }\n}\nexport default Customizer;\n","/Users/luohai/web/git/react-youyan-admin/src/components/loading/loading.js",["269"],"import React from \"react\";\nimport { connect } from \"react-redux\";\nclass Loading extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\tcomponentWillReceiveProps(props) {\n\t\tthis.props = props;\n\t\tthis.setState({ ...props });\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"loading\"\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: this.props.loading ? \"block\" : \"none\",\n\t\t\t\t\twidth: \"70px\",\n\t\t\t\t\t\theight: \"70px\", \n\t\t\t\t\t\tright: '5px',\n\t\t\t\t\t\ttop: '5px'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"arc\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"70px\",\n\t\t\t\t\t\theight: \"70px\",\n\t\t\t\t\t}}\n\t\t\t\t></div>\n\t\t\t\t<div className=\"txt\"></div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default connect((store) => ({ ...store }))(Loading);\n","/Users/luohai/web/git/react-youyan-admin/src/fakedelay.js",[],"/Users/luohai/web/git/react-youyan-admin/src/loading.js",[],"/Users/luohai/web/git/react-youyan-admin/src/page/authorize/auth.js",["270","271","272","273","274"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from \"@/reducers/index.js\";\nimport webapi from \"@/utils/webapi\";\nimport Basic_Component from \"@/components/base/basic_component.js\";\nconst original_captcha_url = \"/authorize/auth/captcha?reset=1&height=30\";\nclass Auth extends Basic_Component {\n\t\n\t\n}\nexport default connect((store) => ({ ...store }))(Auth);","/Users/luohai/web/git/react-youyan-admin/src/reducers/reducer.js",[],"/Users/luohai/web/git/react-youyan-admin/src/components/base/basic_component.js",["275"],"import React from \"react\"; \nexport default class Basic_Component extends React.Component { \n\tcategory = [];\n\tbook = {};\n\tvolume = {};\n\tserver_state = {\n\t\tchapter: { delete: {}, published: {} },\n\t\tbook: { delete: {}, published: {}, sale: {} },\n\t};\n\t/**\n\t * 构造\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = this.init_state();\n\t}\n\t/**\n\t * props 有变化\n\t */\n\tcomponentWillReceiveProps(props) {\n\t\tthis.props = props;\n\t\tvar method = this.props.match.params.method || \"index\";\n\t\tvar id = this.props.match.params.id || 0;\n\t\tif (method === this.state.method) {\n\t\t\tif (this.state.id === id) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tthis.init_state_handle();\n\t}\n\t/**\n\t * 渲染前调用\n\t */\n\tcomponentWillMount() {\n\t\tthis.handle_init();\n\t}\n\t/*----------------------1 other start----------------------*/\n\t/**\n\t * __method 1=other\n\t * @param type string  公共方法处理\n\t * @return mixed\n\t */\n\t__method(type) {\n\t\tlet method = type + this.state.method;\n\t\tif (!(method in this)) {\n\t\t\tconsole.warn(\"__method 方法:\" + method + \"不存在\");\n\t\t\tmethod = type + \"index\";\n\t\t}\n\t\t//保护\n\t\tif (method in this) {\n\t\t\treturn this[method]();\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t} \n\tget_base64(img, callback) {\n\t\tconst reader = new FileReader();\n\t\treader.addEventListener(\"load\", () => callback(reader));\n\t\treader.readAsDataURL(img);\n\t}\n\t\n\tform_item_layout = () => {\n\t\treturn {\n\t\t\tlabelCol: { span: 4 },\n\t\t\twrapperCol: { span: 14 },\n\t\t};\n\t};\n\t\n\ttail_layout = () => {\n\t\treturn {\n\t\t\twrapperCol: { offset: 4, span: 14 },\n\t\t};\n\t};\n\tupload_single_props = (options={}) => {\n\t\treturn {\n\t\t\taccept: options.accept||\".png,.jpg,.jpeg\",\n\t\t\tonChange: (info) => {\n\t\t\t\tif (info.file.status === \"uploading\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowUploadList: false,\n\t\t\tname: options.name||\"image\",\n\t\t\tbeforeUpload: (file) => {\n\t\t\t\tthis.get_base64(file, (imageUrl) => {\n\t\t\t\t\tconst base64Data = imageUrl.result;\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfile: file,\n\t\t\t\t\t\tdata: { ...this.state.data, image: base64Data },\n\t\t\t\t\t});\n\t\t\t\t}); \n\t\t\t\treturn false;\n\t\t\t},\n\t\t};\n\t};\n\t\n\t/*----------------------1 other end----------------------*/\n\n\t/*----------------------2 init start  ----------------------*/\n\t/**\n\t * init_state 初始化状态 2=init\n\t * @return obj\n\t */\n\tinit_state() {\n\t\treturn {\n\t\t\t...this.init_state_before(),\n\t\t\tmethod: this.props.match.params.method || \"index\",\n\t\t\tid: this.props.match.params.id || 0,\n\t\t\torder_field: \"create_time\",\n\t\t\torder_value: \"asc\",\n\t\t\tfilters: [],\n\t\t\tdata: {},\n\t\t\tlists: [], \n\t\t\tpagination: this.init_page_data(),\n\t\t\t...this.init_state_after(),\n\t\t};\n\t}\n\t/**\n\t * init state  handle 初始化 state 和 handle\n\t * @return mixed\n\t */\n\tinit_state_handle(){\n\t\tthis.setState(this.init_state(), () => {\n\t\t\tthis.handle_init();\n\t\t});\n\t}\n\t/**\n\t * 初始化状态前 父类state会覆盖\n\t * @return obj\n\t */\n\tinit_state_before() {\n\t\treturn {};\n\t}\n\t/**\n\t * 初始化状态后 可以覆盖父类state\n\t * @return obj\n\t */\n\tinit_state_after() {\n\t\treturn {};\n\t}\n\tinit_page_data() {\n\t\treturn {\n\t\t\tpageSize: 20,\n\t\t\ttotal: 0,\n\t\t\tcurrent: 1,\n\t\t\t// onChange: this.handle_page_change.bind(this),\n\t\t\tonShowSizeChange: this.handle_page_show_size_change.bind(this),\n\t\t};\n\t}\n\t/**\n\t * 添加始化\n\t */\n\tinit_add() {\n\t\tthis.init_add_edit(\"add\");\n\t}\n\t/**\n\t * 编辑始化\n\t */\n\tinit_edit() {\n\t\tthis.init_add_edit(\"edit\");\n\t}\n\t/**\n\t * 添加-编辑始化\n\t */\n\tinit_add_edit(u_action) {}\n\n\t/*----------------------2 init end  ----------------------*/\n\n\t/*----------------------3 handle start----------------------*/\n\t/**\n\t * handle_init 业务初始化 3=handle\n\t * @return obj\n\t */\n\thandle_init() {\n\t\tthis.handle_init_before();\n\t\tthis.__method(\"init_\");\n\t\tthis.handle_init_after();\n\t}\n\t/**\n\t *  业务初始化前 子类可重写\n\t * @return obj\n\t */\n\thandle_init_before = () => {};\n\t/**\n\t *  业务初始化后 子类可重写\n\t * @return obj\n\t */\n\thandle_init_after = () => {};\n\n\t/**\n\t * 改变 分页\n\t * @param page 当前页\n\t * @param page_size 当前分页大小\n\t * @return mixed\n\t */\n\thandle_page_change = (page, page_size) => {\n\t\tlet method = \"init_\" + this.state.method;\n\t\tconst pager = { ...this.state.pagination };\n\t\tpager.current = page;\n\t\tpager.pageSize = page_size;\n\n\t\t// console.log('d=>',pager,method,(method in this));\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tpagination: pager,\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tif (!(method in this)) {\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\"handle_page_change 方法:\" + method + \"不存在\"\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis[method]();\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\t/*\n\t * handle_page_show_size_change\n\t * @param current obj  当前数据\n\t * @param size int  大小\n\t * @return mixed\n\t */\n\thandle_page_show_size_change = (current, size) => {\n\t\t// console.log(\"handle_page_show_size_change=>\", current, size);\n\t};\n\t/*\n\t * handle_table_change\n\t * @param pagination\n\t * @param filters\n\t * @param sorter\n\t * @return mixed\n\t */\n\thandle_table_change = (pagination, filters, sorter) => {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tfilters,\n\t\t\t\torder_field: sorter.field,\n\t\t\t\torder_value: sorter.order == \"ascend\" ? \"asc\" : \"desc\",\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tthis.handle_page_change(\n\t\t\t\t\tpagination.current,\n\t\t\t\t\tpagination.pageSize\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t};\n\n\t/*----------------------3 handle end----------------------*/\n\n\t/*----------------------4 render start----------------------*/\n\t/**\n\t * render 渲染  4=render\n\t * @return obj\n\t */\n\trender() {\n\t\treturn this.__method(\"render_\");\n\t}\n\t/**\n\t * 添加\n\t * @return obj\n\t */\n\trender_add() {\n\t\treturn this.render_add_edit(\"add\");\n\t}\n\t/**\n\t * 编辑\n\t * @return obj\n\t */\n\trender_edit() {\n\t\treturn this.render_add_edit(\"add\");\n\t}\n\t/**\n\t * 添加-编辑 子类可重写\n\t * @return obj\n\t */\n\trender_add_edit(u_action) {\n\t\treturn \"\";\n\t}\n\t/*----------------------4 render end----------------------*/\n}",["276","277"],"/Users/luohai/web/git/react-youyan-admin/src/page/authorize/account.js",["278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from \"@/reducers/index.js\";\nimport webapi from \"@/utils/webapi\";\nimport { GridContent } from \"@ant-design/pro-layout\";\nimport {\n    Menu,\n    Button,\n    Input,\n    Select,\n    Upload,\n    Form,\n    List,\n    Avatar,\n    Switch,\n    Row,\n    Col,\n    Cascader,\n    Space,\n} from \"antd\";\nimport * as icons from \"@ant-design/icons\";\nimport ImgCrop from \"antd-img-crop\";\nimport styles from \"./account.less\";\n\nconst BREADCRUMB = {\n    type: \"BREADCRUMB\",\n    data: {\n        title: \"我的资料\",\n        lists: [{ title: \"我的资料\", url: \"/authorize/account/profile\" }],\n        buttons: [],\n    },\n};\nconst formItemLayout = {\n    labelCol: {\n        xs: { span: 24 },\n        sm: { span: 4 },\n    },\n    wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 20 },\n    },\n};\nconst tailFormItemLayout = {\n    wrapperCol: {\n        xs: {\n            span: 24,\n            offset: 0,\n        },\n        sm: {\n            span: 16,\n            offset: 8,\n        },\n    },\n};\nconst original_captcha_url = \"/authorize/auth/captcha?reset=1&height=30\";\n\nclass Account extends React.Component {\n    formRef = React.createRef();\n    area = [];\n    /**\n     * 构造\n     */\n    constructor(props) {\n        super(props);\n        this.state = this.init_state();\n    }\n    componentWillReceiveProps(props) {\n        this.props = props;\n        var method = this.props.match.params.method || \"index\";\n        if (method === this.state.method) {\n            return false;\n        }\n        this.setState(this.init_state(), () => {\n            this.handle_init();\n        });\n    }\n    /**\n     * 面包屑导航\n     */\n    breadcrumb(data = {}) {\n        const b = JSON.parse(JSON.stringify(BREADCRUMB));\n        b.data = { ...b.data, ...data };\n        store.dispatch(b);\n    }\n    /**\n     * 渲染前调用\n     */\n    componentWillMount() {\n        this.handle_init();\n    }\n    /**\n     * __method 1=other\n     * @param type string  公共方法处理\n     * @return mixed\n     */\n    __method(type) {\n        let method = type + this.state.method;\n        if (!(method in this)) {\n            var obj = Object.getPrototypeOf(this) || {};\n            console.warn(\n                type +\n                    \"d=>类:\" +\n                    obj.constructor.name +\n                    \" 方法:\" +\n                    method +\n                    \"不存在\"\n            );\n            method = type + \"index\";\n        }\n        //保护\n        if (method in this) {\n            return this[method]();\n        } else {\n            return \"\";\n        }\n    }\n    /**\n     * init_state 初始化状态 2=init\n     * @return obj\n     */\n\n    init_state() {\n        if (this.area.length === 0) {\n            this.get_area();\n        }\n        this.breadcrumb();\n        return {\n            method: this.props.match.params.method || \"index\",\n            mode: \"inline\",\n            menus: {\n                base: \"基本设置\",\n                security: \"安全设置\",\n                // binding: \"账号绑定\",\n                // notification: \"消息通知\"\n            },\n            ucdata: this.props.ucdata || {},\n            select_key: \"base\",\n            data: {},\n            area: [],\n        };\n    }\n    /**\n     * handle_init 业务初始化 3=handle\n     * @return obj\n     */\n    handle_init() {\n        this.__method(\"init_\");\n    }\n    /**\n     * render 渲染  4=render\n     * @return obj\n     */\n    render() {\n        // console.log(\"ucdata=>\", this.props, this.state);\n        return this.__method(\"render_\");\n    }\n    /*----------------------1 other start----------------------*/\n\n    async get_area(reset = false) {\n        var area = this.area;\n        if (reset || area.length == 0) {\n            var res = await webapi.ajax.get(\"server/area\");\n            if (res.code === 10000) {\n                this.area = area = res.lists;\n            }\n        }\n        return area;\n    }\n    get_profile_righ_title() {\n        const { select_key, menus } = this.state;\n        return menus[select_key];\n    }\n    get_base64(img, callback) {\n        const reader = new FileReader();\n        reader.addEventListener(\"load\", () => callback(reader.result));\n        reader.readAsDataURL(img);\n    }\n    settnterval() {\n        const { countDown } = this.props;\n        let count = countDown || 59;\n        this.setState({ count });\n        this.interval = window.setInterval(() => {\n            count -= 1;\n            this.setState({\n                valicode_text: \"重新获取(\" + count + \")\",\n                auth_btn_disabled: false,\n                captcha_btn_disabled: true,\n            });\n            if (count === 0) {\n                this.setState({\n                    valicode_text: \"重新获取\",\n                    captcha_btn_disabled: false,\n                });\n                clearInterval(this.interval);\n            }\n        }, 1000);\n    }\n    /**\n     * 刷新验证码\n     **/\n    handle_chang_captcha_mobile() {\n        if (this.state.captcha_btn_disabled) {\n            return false;\n        }\n        this.setState({\n            captcha_url: original_captcha_url + \"&r=\" + Math.random(),\n        });\n    }\n    /*----------------------1 other end----------------------*/\n\n    /*----------------------2 init start----------------------*/\n    async init_profile(select_key = \"base\") {\n        this.get_area().then((area) => {\n            this.setState({ area, area });\n        });\n        var res = await webapi.ajax.get(\"authorize/account/profile\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata, select_key });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n    async init_password() {\n        var res = await webapi.ajax.get(\"authorize/account/password\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata, captcha_url: original_captcha_url });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n    async init_mobile() {\n        var res = await webapi.ajax.get(\"authorize/account/password\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata, captcha_url: original_captcha_url });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n    async init_email() {\n        var res = await webapi.ajax.get(\"authorize/account/profile\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata, captcha_url: original_captcha_url });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n\n    /*----------------------2 init end----------------------*/\n\n    /*----------------------3 handle start----------------------*/\n    handle_select_key(key) {\n        this.init_profile(key);\n    }\n    /**\n     * 更新\n     */\n    async handle_update_submit(values) {\n        const data = new FormData();\n        data.append(\"nickname\", values.nickname || \"\");\n        data.append(\"address\", values.address || \"\");\n        data.append(\"intro\", values.intro || \"\");\n        data.append(\"area_id\", this.state.area_id || \"\");\n        data.append(\"idcard\", this.state.idcard || \"\");\n        data.append(\"userrealname\", values.userrealname || \"\");\n        this.state.file && data.append(\"avatar\", this.state.file);\n        var res = await webapi.ajax.post(\n            \"authorize/account/profile\",\n            data,\n            null,\n            null,\n            null,\n            true\n        );\n        if (res.code === 10000) {\n            this.setState({ file: null });\n            webapi.message.success(res.message);\n            webapi.server();\n        } else {\n            webapi.message.error(res.message);\n        }\n    }\n    /**\n     * 业务 密码输入框\n     */\n    handle_change_input(v, event) {\n        if (v == \"mobile\") {\n            var val = event.target.value.replace(/[^\\d]/g, \"\");\n            if (val.length > 11) {\n                return false;\n            }\n            return this.setState({\n                data: { ...this.state.data, mobile: val },\n            });\n        }\n        if (v == \"email\") {\n            var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n            return this.setState({\n                data: { ...this.state.data, email: val },\n            });\n        }\n\n        if (v == \"captcha_number\") {\n            var val = event.target.value.replace(/[^\\d]/g, \"\");\n            if (val.length > 4) {\n                return false;\n            }\n            return this.setState({\n                data: { ...this.state.data, captcha_number: val },\n            });\n        }\n        if (v == \"captcha_mobile\") {\n            var val = event.target.value.replace(/[^\\d]/g, \"\");\n            if (val.length > 6) {\n                return false;\n            }\n            return this.setState({\n                data: { ...this.state.data, captcha_mobile: val },\n            });\n        }\n        if (v == \"password\") {\n            var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n            this.setState({\n                data: { ...this.state.data, password: val },\n            });\n        }\n    }\n    /**\n     * 业务 密码更新\n     */\n    async handle_password_update(u_action) {\n        this.state.data.u_action = u_action;\n        if (u_action == \"captcha\") {\n            if (!this.state.data.captcha_number) {\n                return webapi.modal.error({ content: \"请输入图形验证码\" });\n            }\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.user_id) {\n                return webapi.message.error({ content: \"请获取验证码\" });\n            }\n            if (!this.state.data.captcha_mobile) {\n                return webapi.message.error({ content: \"请输入短信验证码\" });\n            }\n            if (!this.state.data.password) {\n                return webapi.message.error({ content: \"请输入密码\" });\n            }\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/account/password\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            if (u_action == \"captcha\") {\n                this.handle_chang_captcha_mobile();\n            }\n            return webapi.message.error({ content: data.message });\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            webapi.message.success({ content: data.message });\n            // window.location.replace(\"/authorize/auth/login\");\n        }\n    }\n\n    /**\n     * 业务 手机绑定\n     */\n    handle_mobile_bind = async (u_action) => {\n        this.state.data.u_action = u_action;\n        if (u_action == \"captcha\") {\n            if (!this.state.data.mobile) {\n                return webapi.modal.error({ content: \"请输入手机号码\" });\n            }\n            if (!this.state.data.captcha_number) {\n                return webapi.modal.error({ content: \"请输入图形验证码\" });\n            }\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.user_id) {\n                return webapi.message.error({ content: \"请获取验证码\" });\n            }\n            if (!this.state.data.captcha_mobile) {\n                return webapi.message.error({ content: \"请输入短信验证码\" });\n            }\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/account/mobile\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            if (u_action == \"captcha\") {\n                this.handle_chang_captcha_mobile();\n            }\n            return webapi.message.error({ content: data.message });\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            webapi.message.success({ content: data.message });\n            this.props.history.push(\"/authorize/account/profile\");\n        }\n    };\n    /**\n     * 业务 email 绑定\n     */\n    handle_email_bind = async (u_action) => {\n        this.state.data.u_action = u_action;\n        if (u_action == \"captcha\") {\n            if (!this.state.data.email) {\n                return webapi.modal.error({ content: \"请输入电子邮件\" });\n            }\n            if (!this.state.data.captcha_number) {\n                return webapi.modal.error({ content: \"请输入图形验证码\" });\n            }\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.user_id) {\n                return webapi.message.error({ content: \"请获取验证码\" });\n            }\n            if (!this.state.data.captcha_mobile) {\n                return webapi.message.error({\n                    content: \"请输入电子邮件验证码\",\n                });\n            }\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/account/email\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            if (u_action == \"captcha\") {\n                this.handle_chang_captcha_mobile();\n            }\n            return webapi.message.error({ content: data.message });\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            webapi.message.success({ content: data.message });\n            this.props.history.push(\"/authorize/account/profile\");\n        }\n    };\n\n    /**\n     *\n     **/\n\n    handle_open_bind(type, check) {\n        if (check > 0) {\n        }\n        // console.log(check,type)\n    }\n    handle_profile_area_id = (value) => {\n        var area_id = value[value.length - 1];\n        if (area_id != this.state.area_id) {\n            this.setState({\n                area_id: area_id,\n            });\n        }\n    };\n    handle_blur_idcard = async (event) => {\n        if (this.state.idcard) {\n            var data = await webapi.ajax.post(\"authorize/account/idcard\", {\n                idcard: this.state.idcard,\n            });\n            if (data.code === 10000) {\n                this.setState({\n                    ucdata: {\n                        ...this.state.ucdata,\n                        idcard_model: data.idcard_model,\n                    },\n                });\n            }\n        }\n    };\n    handle_change_idcard = (event) => {\n        var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        if (val != \"\") {\n            this.setState({\n                idcard: val,\n            });\n        }\n    };\n\n    /*----------------------3 handle end----------------------*/\n\n    /*----------------------4 render start----------------------*/\n    /**\n     * 更改手机\n     **/\n    render_mobile() {\n        const state = this.state;\n        const { data, ucdata } = state;\n\n        return (\n            <Form {...formItemLayout}>\n                <Form.Item label=\"手机号码\">\n                    <Input\n                        type={\"number\"}\n                        placeholder=\"请输入手机号码\"\n                        value={data.mobile}\n                        onChange={(t) => {\n                            this.handle_change_input(\"mobile\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item label=\"图形验证码\">\n                    <Form.Item\n                        noStyle\n                        rules={[\n                            { required: true, message: \"Username is required\" },\n                        ]}\n                    >\n                        <Input\n                            type={\"number\"}\n                            maxLength={4}\n                            placeholder=\"请输入验证码\"\n                            value={data.captcha_number}\n                            onChange={(t) => {\n                                this.handle_change_input(\"captcha_number\", t);\n                            }}\n                            addonAfter={\n                                <img\n                                    src={state.captcha_url}\n                                    onClick={this.handle_chang_captcha_mobile.bind(\n                                        this\n                                    )}\n                                />\n                            }\n                        />\n                    </Form.Item>\n                    <a\n                        href=\"#\"\n                        style={{ margin: \"0 8px\" }}\n                        onClick={() => {\n                            this.handle_mobile_bind(\"captcha\");\n                        }}\n                    >\n                        {state.valicode_text || \"获取验证码\"}\n                    </a>\n                </Form.Item>\n                <Form.Item label=\"短信验证码\">\n                    <Input\n                        type={\"number\"}\n                        maxLength={6}\n                        placeholder=\"请输入验证码\"\n                        value={data.captcha_mobile}\n                        onChange={(t) => {\n                            this.handle_change_input(\"captcha_mobile\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item {...tailFormItemLayout}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            this.handle_mobile_bind(\"activate\");\n                        }}\n                    >\n                        绑定手机\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n    /**\n     * 更改email\n     **/\n    render_email() {\n        const state = this.state;\n        const { data, ucdata } = state;\n        return (\n            <Form {...formItemLayout}>\n                <Form.Item label=\"电子邮件\">\n                    <Input\n                        placeholder=\"请输入电子邮件\"\n                        value={data.email}\n                        onChange={(t) => {\n                            this.handle_change_input(\"email\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item label=\"图形验证码\">\n                    <Form.Item\n                        noStyle\n                        rules={[\n                            { required: true, message: \"Username is required\" },\n                        ]}\n                    >\n                        <Input\n                            type={\"number\"}\n                            maxLength={4}\n                            placeholder=\"请输入验证码\"\n                            value={data.captcha_number}\n                            onChange={(t) => {\n                                this.handle_change_input(\"captcha_number\", t);\n                            }}\n                            addonAfter={\n                                <img\n                                    src={state.captcha_url}\n                                    onClick={this.handle_chang_captcha_mobile.bind(\n                                        this\n                                    )}\n                                />\n                            }\n                        />\n                    </Form.Item>\n                    <a\n                        href=\"#\"\n                        style={{ margin: \"0 8px\" }}\n                        onClick={() => {\n                            this.handle_email_bind(\"captcha\");\n                        }}\n                    >\n                        {state.valicode_text || \"获取验证码\"}\n                    </a>\n                </Form.Item>\n                <Form.Item label=\"邮件验证码\">\n                    <Input\n                        type={\"number\"}\n                        maxLength={6}\n                        placeholder=\"请输入电子邮件验证码\"\n                        value={data.captcha_email}\n                        onChange={(t) => {\n                            this.handle_change_input(\"captcha_email\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item {...tailFormItemLayout}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            this.handle_email_bind(\"activate\");\n                        }}\n                    >\n                        绑定电子邮件\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n    /**\n     * 更改 password_protected\n     **/\n    render_password_protected() {\n        const state = this.state;\n        const { data, ucdata } = state;\n        return (\n            <Form {...formItemLayout}>\n                <Form.Item label=\"图形验证码\">\n                    <Input.Group compact>\n                        <Select defaultValue=\"Sign Up\">\n                            <Select.Option value=\"Sign Up\">\n                                图形验证码图形验证码图形验证码图形验证码\n                            </Select.Option>\n                            <Select.Option value=\"Sign In\">\n                                Sign In\n                            </Select.Option>\n                        </Select>\n                        <Input\n                            placeholder=\"请输入电子邮件\"\n                            value={data.email}\n                            onChange={(t) => {\n                                this.handle_change_input(\"email\", t);\n                            }}\n                        />\n                    </Input.Group>\n                </Form.Item>\n                <Form.Item label=\"图形验证码\">\n                    <Form.Item\n                        noStyle\n                        rules={[\n                            { required: true, message: \"Username is required\" },\n                        ]}\n                    >\n                        <Input\n                            type={\"number\"}\n                            maxLength={4}\n                            placeholder=\"请输入验证码\"\n                            value={data.captcha_number}\n                            onChange={(t) => {\n                                this.handle_change_input(\"captcha_number\", t);\n                            }}\n                            addonAfter={\n                                <img\n                                    src={state.captcha_url}\n                                    onClick={this.handle_chang_captcha_mobile.bind(\n                                        this\n                                    )}\n                                />\n                            }\n                        />\n                    </Form.Item>\n                    <a\n                        href=\"#\"\n                        style={{ margin: \"0 8px\" }}\n                        onClick={() => {\n                            this.handle_email_bind(\"captcha\");\n                        }}\n                    >\n                        {state.valicode_text || \"获取验证码\"}\n                    </a>\n                </Form.Item>\n                <Form.Item label=\"邮件验证码\">\n                    <Input\n                        type={\"number\"}\n                        maxLength={6}\n                        placeholder=\"请输入电子邮件验证码\"\n                        value={data.captcha_email}\n                        onChange={(t) => {\n                            this.handle_change_input(\"captcha_email\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item {...tailFormItemLayout}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            this.handle_email_bind(\"activate\");\n                        }}\n                    >\n                        绑定电子邮件\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n\n    /**\n     * 更改密码\n     **/\n    render_password() {\n        const state = this.state;\n        const { data, ucdata } = state;\n        var label = null;\n        var label_val = null;\n        if (ucdata.password === 10001 || ucdata.password === 20001) {\n            label = \"电子邮件\";\n            label_val = ucdata.email;\n        }\n        if (ucdata.password === 10002 || ucdata.password === 20002) {\n            label = \"手机号码\";\n            label_val = ucdata.mobile;\n        }\n        return (\n            <Form {...formItemLayout}>\n                <Form.Item label={label}>\n                    <div>{label_val}</div>\n                </Form.Item>\n                <Form.Item label=\"图形验证码\">\n                    <Form.Item\n                        noStyle\n                        rules={[\n                            { required: true, message: \"Username is required\" },\n                        ]}\n                    >\n                        <Input\n                            type={\"number\"}\n                            style={{ width: 160 }}\n                            maxLength={4}\n                            placeholder=\"请输入验证码\"\n                            value={data.captcha_number}\n                            onChange={(t) => {\n                                this.handle_change_input(\"captcha_number\", t);\n                            }}\n                        />\n                        <img\n                            src={state.captcha_url}\n                            onClick={this.handle_chang_captcha_mobile.bind(\n                                this\n                            )}\n                        />\n                    </Form.Item>\n                    <a\n                        href=\"#\"\n                        style={{ margin: \"0 8px\" }}\n                        onClick={this.handle_password_update.bind(\n                            this,\n                            \"captcha\"\n                        )}\n                    >\n                        {state.valicode_text || \"获取验证码\"}\n                    </a>\n                </Form.Item>\n                <Form.Item label=\"短信验证码\">\n                    <Input\n                        type={\"number\"}\n                        maxLength={6}\n                        placeholder=\"请输入验证码\"\n                        value={data.captcha_mobile}\n                        onChange={(t) => {\n                            this.handle_change_input(\"captcha_mobile\", t);\n                        }}\n                    />\n                </Form.Item>\n                <Form.Item\n                    label=\"密码\"\n                    rules={[{ required: true, message: \"请输入密码!\" }]}\n                    tooltip=\"请输入6-20位密码\"\n                >\n                    <Input.Password\n                        value={data.password}\n                        onChange={(t) => {\n                            this.handle_change_input(\"password\", t);\n                        }}\n                    />\n                </Form.Item>\n                <Form.Item {...tailFormItemLayout}>\n                    <Button\n                        type=\"primary\"\n                        onClick={this.handle_password_update.bind(\n                            this,\n                            \"activate\"\n                        )}\n                    >\n                        更改密码\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n    /**\n     * 个人资料\n     **/\n    render_profile() {\n        const { mode, select_key, menus } = this.state;\n        return (\n            <GridContent>\n                <div className={styles.main} rref={this.formRef}>\n                    <div className={styles.leftMenu}>\n                        <Menu\n                            mode={mode}\n                            selectedKeys={[select_key]}\n                            onClick={({ key }) => this.handle_select_key(key)}\n                        >\n                            {Object.keys(menus).map((item) => (\n                                <Menu.Item key={item}>{menus[item]}</Menu.Item>\n                            ))}\n                        </Menu>\n                    </div>\n                    <div className={styles.right}>\n                        <div className={styles.title}>\n                            {this.get_profile_righ_title()}\n                        </div>\n                        {this.render_profile_children()}\n                    </div>\n                </div>\n            </GridContent>\n        );\n    }\n\n    /**\n     * 基本设置\n     **/\n    render_profile_base() {\n        console.log(this.state.ucdata);\n        const ucdata = this.state.ucdata;\n        var suffix = <span />;\n        if (ucdata.idcard_model) {\n            if (ucdata.idcard_model.gender == 1) {\n                suffix = (\n                    <icons.ManOutlined\n                        style={{\n                            fontSize: 16,\n                            color: \"#1890ff\",\n                        }}\n                    />\n                );\n            }\n            if (ucdata.idcard_model.gender == 2) {\n                suffix = (\n                    <icons.WomanOutlined\n                        style={{\n                            fontSize: 16,\n                            color: \"#FFC0CB\",\n                        }}\n                    />\n                );\n            }\n        }\n        const singleProps = {\n            accept: \".png,.jpg,.jpeg\",\n            onChange: (info) => {\n                if (info.file.status === \"uploading\") {\n                    return;\n                }\n            },\n            showUploadList: false,\n            name: \"image\",\n            beforeUpload: (file) => {\n                this.get_base64(file, (base64Data) => {\n                    this.setState({\n                        file: file,\n                        ucdata: { ...this.state.ucdata, avatar: base64Data },\n                    });\n                });\n\n                return false;\n            },\n        };\n\n        //\n\n        return (\n            <div className={styles.baseView}>\n                <div className={styles.left}>\n                    <Form\n                        {...formItemLayout}\n                        ref={this.formRef}\n                        onFinish={this.handle_update_submit.bind(this)}\n                    >\n                        <Form.Item label=\"头像\">\n                            <ImgCrop rotate>\n                                <Upload {...singleProps}>\n                                    <Space align=\"center\" size=\"middle\">\n                                        <Avatar\n                                            size={64}\n                                            src={ucdata.avatar}\n                                            onError={<icons.UserOutlined />}\n                                        />\n\n                                        <Button icon={<icons.UploadOutlined />}>\n                                            更换头像\n                                        </Button>\n                                    </Space>\n                                </Upload>\n                            </ImgCrop>\n                        </Form.Item>\n                        <Form.Item name=\"nickname\" label=\"昵称\">\n                            <Input />\n                        </Form.Item>\n                        <Form.Item name=\"userrealname\" label=\"姓名\">\n                            <Input />\n                        </Form.Item>\n                        <Form.Item name=\"idcard\" label=\"身份证号\">\n                            <Input\n                                suffix={suffix}\n                                onBlur={this.handle_blur_idcard}\n                                onChange={this.handle_change_idcard}\n                            />\n                        </Form.Item>\n                        <Form.Item name=\"area\" label=\"所在省市\">\n                            <Cascader\n                                options={this.state.area}\n                                showSearch\n                                placeholder=\"请选择地址\"\n                                onChange={this.handle_profile_area_id}\n                            />\n                        </Form.Item>\n\n                        <Form.Item name=\"address\" label=\"详细地址\">\n                            <Input />\n                        </Form.Item>\n                        <Form.Item name=\"intro\" label=\"个人简介\">\n                            <Input.TextArea placeholder=\"个人简介\" rows={4} />\n                        </Form.Item>\n\n                        <Form.Item>\n                            <Button htmlType=\"submit\" type=\"primary\">\n                                更新\n                            </Button>\n                        </Form.Item>\n                    </Form>\n                </div>\n                <div className={styles.right}></div>\n            </div>\n        );\n    }\n    /**\n     * 个人资料\n     **/\n    render_profile_children() {\n        let method = \"render_profile_\" + this.state.select_key;\n        if (method in this) {\n            return this[method]();\n        } else {\n            return \"\";\n        }\n    }\n    /**\n     * 安全设置\n     **/\n    render_profile_security() {\n        const ucdata = this.state.ucdata;\n        const data = [\n            {\n                title: \"账户密码\",\n                description:\n                    ucdata.password === 1\n                        ? \"定期更改密码可增强安全性\"\n                        : \"未设置密码,请设置密码\",\n                actions: [<Link to=\"/authorize/account/password\">设置</Link>],\n            },\n            {\n                title: \"手机号码\",\n                description: ucdata.mobile\n                    ? \"已绑定手机:\" + ucdata.mobile\n                    : \"请绑定手机\",\n                actions: [\n                    <Link to=\"/authorize/account/mobile\">\n                        {ucdata.mobile ? \"更改\" : \"绑定\"}\n                    </Link>,\n                ],\n            },\n            // {\n            //     title: \"密保问题\",\n            //     description: ucdata.question\n            //         ? \"密保问题已设置，可有效保护账户安全\"\n            //         : \"未设置密保问题，密保可有效保护账户安全\",\n            //     actions: [\n            //         <Link to=\"/authorize/account/password_protected\">\n            //             {ucdata.question ? \"更改\" : \"设置\"}\n            //         </Link>,\n            //     ],\n            // },\n            {\n                title: \"备用邮箱\",\n                description: ucdata.email\n                    ? \"已绑定邮箱:\" + ucdata.email\n                    : \"未设置邮箱，邮箱在忘记手机号和密码时可找回密码\",\n                actions: [\n                    <Link to=\"/authorize/account/email\">\n                        {ucdata.email ? \"更改\" : \"设置\"}\n                    </Link>,\n                ],\n            },\n        ];\n        return (\n            <List\n                itemLayout=\"horizontal\"\n                dataSource={data}\n                renderItem={(item) => (\n                    <List.Item actions={item.actions}>\n                        <List.Item.Meta\n                            title={item.title}\n                            description={item.description}\n                        />\n                    </List.Item>\n                )}\n            />\n        );\n    }\n    /**\n     * 账号绑定\n     **/\n    render_profile_binding() {\n        const open = this.state.ucdata.open || {};\n        const data = Object.keys(open).map((key) => {\n            var I = icons[open[key].icon];\n            return {\n                title: open[key].name,\n                description: open[key].intro,\n                avatar: <I className={open[key].classname} />,\n                actions: [\n                    <a\n                        onClick={this.handle_open_bind.bind(\n                            this,\n                            key,\n                            open[key].bind\n                        )}\n                    >\n                        {open[key].bind > 0 ? \"解绑\" : \"绑定\"}\n                    </a>,\n                ],\n            };\n        });\n        return (\n            <List\n                itemLayout=\"horizontal\"\n                dataSource={data}\n                renderItem={(item) => (\n                    <List.Item actions={item.actions}>\n                        <List.Item.Meta\n                            avatar={item.avatar}\n                            title={item.title}\n                            description={item.description}\n                        />\n                    </List.Item>\n                )}\n            />\n        );\n    }\n    /**\n     * 消息通知\n     **/\n    render_profile_notification() {\n        const ucdata = this.state.ucdata;\n        const data = [\n            {\n                title: \"系统消息\",\n                description: \"系统消息将以站内信的形式通知\",\n                actions: [\n                    <Switch\n                        checkedChildren={\"接收\"}\n                        unCheckedChildren={\"谢绝\"}\n                        defaultChecked\n                    />,\n                ],\n            },\n            {\n                title: \"待办任务\",\n                description: \"待办任务将以站内信的形式通知\",\n                actions: [\n                    <Switch\n                        checkedChildren={\"接收\"}\n                        unCheckedChildren={\"谢绝\"}\n                        defaultChecked\n                    />,\n                ],\n            },\n            {\n                title: \"用户消息\",\n                description: \"其他用户的消息将以站内信的形式通知\",\n                actions: [\n                    <Switch\n                        checkedChildren={\"接收\"}\n                        unCheckedChildren={\"谢绝\"}\n                        defaultChecked\n                    />,\n                ],\n            },\n        ];\n        return (\n            <List\n                itemLayout=\"horizontal\"\n                dataSource={data}\n                renderItem={(item) => (\n                    <List.Item actions={item.actions}>\n                        <List.Item.Meta\n                            title={item.title}\n                            description={item.description}\n                        />\n                    </List.Item>\n                )}\n            />\n        );\n    }\n    /*----------------------4 render end----------------------*/\n}\n\nexport default connect((store) => ({ ...store }))(Account);\n","/Users/luohai/web/git/react-youyan-admin/src/page/welcome.js",["323","324","325","326","327"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from \"@/reducers/index.js\";\nimport webapi from \"@/utils/webapi\";\nimport { Statistic, Card, Row, Col, Calendar, Badge } from \"antd\";\nimport { ArrowUpOutlined, ArrowDownOutlined } from \"@ant-design/icons\";\nconst BREADCRUMB = {\n  type: \"BREADCRUMB\",\n  data: {\n    title: \"\",\n    lists: [],\n    buttons: [],\n  },\n};\nclass Welcome extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  componentWillReceiveProps(props) {\n    this.breadcrumb();\n  }\n  /**\n   * 渲染前调用\n   */\n  componentWillMount() {\n    this.breadcrumb();\n  }\n\n  /**\n   * 面包屑导航\n   */\n  breadcrumb(data = {}) {\n    // store.dispatch(BREADCRUMB);\n  }\n  getListData(value) {\n    let listData;\n    switch (value.date()) {\n      case 8:\n        listData = [\n          { type: \"warning\", content: \"This is warning event.\" },\n          { type: \"success\", content: \"This is usual event.\" },\n        ];\n        break;\n      case 10:\n        listData = [\n          { type: \"warning\", content: \"This is warning event.\" },\n          { type: \"success\", content: \"This is usual event.\" },\n          { type: \"error\", content: \"This is error event.\" },\n        ];\n        break;\n      case 15:\n        listData = [\n          { type: \"warning\", content: \"This is warning event\" },\n          { type: \"success\", content: \"This is very long usual event。。....\" },\n          { type: \"error\", content: \"This is error event 1.\" },\n          { type: \"error\", content: \"This is error event 2.\" },\n          { type: \"error\", content: \"This is error event 3.\" },\n          { type: \"error\", content: \"This is error event 4.\" },\n        ];\n        break;\n      default:\n    }\n    return listData || [];\n  }\n  getMonthData(value) {\n    if (value.month() === 8) {\n      return 1394;\n    }\n  }\n  monthCellRender(value) {\n    const num = this.getMonthData(value);\n    return num ? (\n      <div className=\"notes-month\">\n        <section>{num}</section>\n        <span>Backlog number</span>\n      </div>\n    ) : null;\n  }\n  dateCellRender(value) {\n    const listData = this.getListData(value);\n    return (\n      <ul className=\"events\">\n        {listData.map((item) => (\n          <li key={item.content}>\n            <Badge status={item.type} text={item.content} />\n          </li>\n        ))}\n      </ul>\n    );\n  }\n  render() {\n    return (\n      <div className=\"site-statistic-demo-card\">\n        <Row gutter={16}>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"Active\"\n                value={11.28}\n                precision={2}\n                valueStyle={{ color: \"#3f8600\" }}\n                prefix={<ArrowUpOutlined />}\n                suffix=\"%\"\n              />\n            </Card>\n          </Col>\n          <Col span={12}>\n            <Card>\n              <Statistic\n                title=\"Idle\"\n                value={9.3}\n                precision={2}\n                valueStyle={{ color: \"#cf1322\" }}\n                prefix={<ArrowDownOutlined />}\n                suffix=\"%\"\n              />\n            </Card>\n          </Col>\n          <Col span={24}>\n            <Calendar\n              dateCellRender={this.dateCellRender.bind(this)}\n              monthCellRender={this.monthCellRender.bind(this)}\n            />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\nexport default connect((store) => ({ ...store }))(Welcome);\n","/Users/luohai/web/git/react-youyan-admin/src/page/pay/product.js",["328","329","330"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport webapi from \"@/utils/webapi\";\nimport Basic_Component from \"@/components/base/basic_component.js\";\nimport { Form, Input, Button, Radio, Table, DatePicker } from \"antd\";\nimport moment from \"moment\";\nconst BREADCRUMB = {\n\ttype: \"BREADCRUMB\",\n\tdata: {\n\t\ttitle: \"充值产品\",\n\t\tlists: [{ title: \"充值产品\", url: \"/pay/product\" }],\n\t\tbuttons: [{ title: \"创建产品\", url: \"/pay/product/add\" }],\n\t},\n};\nclass Product extends Basic_Component {\n\tformRef = React.createRef();\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\t/*----------------------1 other start----------------------*/\n\n\t/**\n\t * 面包屑导航\n\t */\n\tbreadcrumb(data = {}) {\n\t\tvar s = { ...BREADCRUMB };\n\t\ts.data = { ...s.data, ...data };\n\t\tthis.props.dispatch(s);\n\t}\n\n\t/*----------------------1 other end----------------------*/\n\n\t/*----------------------2 init start  ----------------------*/\n\tasync init_index() {\n\t\tthis.breadcrumb();\n\t\tvar d = {};\n\t\td.filters = this.state.filters;\n\t\td.q = this.state.q;\n\t\td.order_field = this.state.order_field;\n\t\td.order_value = this.state.order_value;\n\t\td.row_count = this.state.pagination.pageSize;\n\t\td.offset = this.state.pagination.current;\n\t\td.book_id = this.state.book_id;\n\t\td.state_delete = [1];\n\t\tvar res = await webapi.ajax.get(\"pay/product/lists\", d);\n\t\tif (res.code === 10000) {\n\t\t\tthis.setState({\n\t\t\t\tlists: res.lists,\n\t\t\t\tpaedgination: {\n\t\t\t\t\t...this.state.pagination,\n\t\t\t\t\ttotal: res.num_rows,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\tasync init_add_edit() {\n\t\tthis.breadcrumb();\n\t\tlet data = {};\n\t\tif (this.state.id) {\n\t\t\tvar res = await webapi.ajax.get(\"pay/product/get\", {\n\t\t\t\tid: this.state.id,\n\t\t\t});\n\t\t\tif (res.code === 10000) {\n\t\t\t\tdata = res.data;\n\t\t\t\tdata.post_client_id = data.client_id;\n\t\t\t}\n\t\t} else {\n\t\t\tdata.type = \"1\";\n\t\t}\n\t\tthis.setState({ data });\n\t\tthis.formRef.current && this.formRef.current.setFieldsValue(data);\n\t}\n\n\t/*----------------------2 init end  ----------------------*/\n\n\t/*----------------------3 handle start  ----------------------*/\n\t/**\n\t *   提交\n\t */\n\n\thandle_submit = async (value) => {\n\t\tvalue.id = this.state.id;\n\t\tvalue.time = this.state.time || [];\n\t\tvar res = await webapi.ajax.post(\"pay/product/dopost\", value);\n\t\tif (res.code === 10000) {\n\t\t\twebapi.message.success(res.message);\n\t\t\tthis.props.history.push(\"/pay/product\");\n\t\t} else {\n\t\t\twebapi.message.error(res.message);\n\t\t}\n\t};\n\t/**\n\t *  类型改变\n\t */\n\n\thandle_type_change = (e) => {\n\t\tthis.setState(\n\t\t\t{ data: { ...this.state.data, type: e.target.value } },\n\t\t\t() => {\n\t\t\t\tthis.formRef.current &&\n\t\t\t\t\tthis.formRef.current.setFieldsValue(this.state.data);\n\t\t\t}\n\t\t);\n\t};\n\n\t/**\n\t * 删除\n\t **/\n\thandle_delete = (id) => {\n\t\twebapi.confirm({\n\t\t\turl: \"pay/product/delete\",\n\t\t\tdata: { id },\n\t\t\tsuccess: (data) => {\n\t\t\t\tif (data.code === 10000) {\n\t\t\t\t\twebapi.message.success(data.message);\n\t\t\t\t\tthis.init_index();\n\t\t\t\t} else {\n\t\t\t\t\twebapi.message.error(data.message);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t};\n\tdisabledDate = (current) => {\n\t\t// Can not select days before today and today\n\t\treturn current && current < moment().endOf(\"day\");\n\t};\n\thandle_date_change = (s, v) => {\n\t\tthis.setState({ time: v });\n\t};\n\t/*----------------------3 handle end  ----------------------*/\n\n\t/*----------------------4 render start  ----------------------*/\n\trender_add_edit(u_action) {\n\t\tconst data = this.state.data;\n\t\treturn (\n\t\t\t<Form\n\t\t\t\t{...this.form_item_layout()}\n\t\t\t\tlayout=\"horizontal\"\n\t\t\t\tref={this.formRef}\n\t\t\t\tonFinish={this.handle_submit}\n\t\t\t>\n\t\t\t\t<Form.Item label=\"应用\" name=\"post_client_id\">\n\t\t\t\t\t<Input placeholder=\"输入应用id\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"名称\" name=\"name\">\n\t\t\t\t\t<Input placeholder=\"输入名称\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"产品ID\" name=\"product_id\">\n\t\t\t\t\t<Input placeholder=\"输入产品ID\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t\n\t\t\t\t<Form.Item label=\"价格\" name=\"amount\">\n\t\t\t\t\t<Input placeholder=\"输入总价,实际需要支付的\" />\n\t\t\t\t</Form.Item>\n\n\t\t\t\t<Form.Item label=\"原价\" name=\"original\">\n\t\t\t\t\t<Input placeholder=\"输入原价\" />\n\t\t\t\t</Form.Item>\n\n\t\t\t\t<Form.Item label=\"折扣\" name=\"discount\">\n\t\t\t\t\t<Input placeholder=\"输入折扣\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"类型\" name=\"type\">\n\t\t\t\t\t<Radio.Group onChange={this.handle_type_change}>\n\t\t\t\t\t\t<Radio value={\"1\"}>充值</Radio>\n\t\t\t\t\t\t<Radio value={\"2\"}>会员</Radio>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t</Form.Item>\n\t\t\t\t{data.type === \"1\" ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Form.Item label=\"获得币值\" name=\"real_point\">\n\t\t\t\t\t\t\t<Input placeholder=\"输入获得币值\" />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"增送币值\" name=\"false_point\">\n\t\t\t\t\t\t\t<Input placeholder=\"输入所得增送币值\" />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t{data.type === \"2\" ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Form.Item label=\"获得时长\" name=\"real_point\">\n\t\t\t\t\t\t\t<Input placeholder=\"输入获得时长,单位天,每30天为一个月\" />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"增送时长\" name=\"false_point\">\n\t\t\t\t\t\t\t<Input placeholder=\"输入增送时长,单位天,每30天为一个月\" />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t<Form.Item label=\"时间\" name=\"times\">\n\t\t\t\t\t<DatePicker.RangePicker\n\t\t\t\t\t\tdisabledDate={this.disabledDate}\n\t\t\t\t\t\tonChange={this.handle_date_change}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"默认\" name=\"activate\">\n\t\t\t\t\t<Radio.Group>\n\t\t\t\t\t\t<Radio value={\"1\"}>激活</Radio>\n\t\t\t\t\t\t<Radio value={\"2\"}>关闭</Radio>\n\t\t\t\t\t</Radio.Group>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"排序\" name=\"idx\">\n\t\t\t\t\t<Input placeholder=\"输入序号\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item label=\"介绍\" name=\"intro\">\n\t\t\t\t\t<Input.TextArea\n\t\t\t\t\t\tplaceholder=\"请输入介绍\"\n\t\t\t\t\t\tautoSize={{ minRows: 5, maxRows: 10 }}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item {...this.tail_layout()}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\tloading={this.state.loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t提交保存\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t);\n\t}\n\trender_index() {\n\t\tconst columns = [\n\t\t\t{ title: \"名称\", sorter: true, dataIndex: \"name\", align: \"left\" },\n\n\t\t\t{\n\t\t\t\ttitle: \"价格\",\n\t\t\t\tsorter: true,\n\t\t\t\tdataIndex: \"amount\",\n\t\t\t\talign: \"center\",\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"原价\",\n\t\t\t\tsorter: true,\n\t\t\t\tdataIndex: \"original\",\n\t\t\t\talign: \"center\",\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"折扣\",\n\t\t\t\tsorter: true,\n\t\t\t\tdataIndex: \"discount\",\n\t\t\t\talign: \"center\",\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"类型\",\n\t\t\t\tsorter: true,\n\t\t\t\tdataIndex: \"type\",\n\t\t\t\talign: \"center\",\n\t\t\t\trender: (field, item) => {\n\t\t\t\t\treturn item.type == \"1\" ? \"充值\" : \"会员\";\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"操作\",\n\t\t\t\talign: \"center\",\n\t\t\t\trender: (field, item) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n\t\t\t\t\t\t\t\ttitle=\"删除\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.handle_delete(item.id);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"ti-trash\" />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={\"/pay/product/edit/\" + item.id}\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"ti-pencil-alt\" />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t\treturn (\n\t\t\t<Table\n\t\t\t\trowKey={(res) => res.id}\n\t\t\t\tcolumns={columns}\n\t\t\t\tdataSource={this.state.lists}\n\t\t\t\tpagination={this.state.pagination}\n\t\t\t\tloading={this.props.loading}\n\t\t\t\tonChange={this.handle_table_change}\n\t\t\t/>\n\t\t);\n\t}\n\t/*----------------------4 render end  ----------------------*/\n}\nexport default connect((store) => ({ ...store }))(Product);\n","/Users/luohai/web/git/react-youyan-authorize/src/index.js",[],["331","332"],"/Users/luohai/web/git/react-youyan-authorize/src/serviceWorker.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/App.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/routes/routing.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/reducers/index.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/utils/webapi.js",["333","334","335","336","337","338","339"],"import qs from \"qs\";\nimport { parse } from \"querystring\";\nimport axios from \"axios\";\nimport md5 from \"md5\";\nimport CryptoJS from \"crypto-js\";\nimport { Modal, message as Message, notification } from \"antd\";\nimport store from \"../reducers/index.js\";\nvar notify = (function () {\n    var open = function (options = {}) {\n        return notification.open(options);\n    };\n    var info = function (options = {}) {\n        return notification.info(options);\n    };\n    var success = function (options = {}) {\n        return notification.success(options);\n    };\n    var warn = function (options = {}) {\n        return notification.warn(options);\n    };\n    var error = function (options = {}) {\n        return notification.error(options);\n    };\n    var warning = function (options = {}) {\n        return notification.warning(options);\n    };\n    var close = function (options) {\n        return Message.close(options);\n    };\n    var destroy = function (options) {\n        return Message.destroy(options);\n    };\n    return {\n        open,\n        info,\n        success,\n        warn,\n        error,\n        warning,\n        close,\n        destroy,\n    };\n})();\n\nconst ToggleLoading = {\n    type: \"LOADING\",\n};\nfunction ksort(param) {\n    let dic = {};\n    let sdic = Object.keys(param || {}).sort();\n    sdic.map((item, index) => {\n        dic[item] = param[sdic[index]];\n        return index;\n    });\n    return dic;\n}\n\n//签名\nfunction sign(param) {\n    var d = {\n        client_id: window.appid,\n        timestamp: param.timestamp,\n        url: encodeURIComponent(window.website_uri || \"\"),\n        version: param.version,\n    };\n    return md5(\n        qs.stringify(ksort(d)) + encodeURIComponent(window.secret || \"\")\n    );\n}\nvar modal = (function () {\n    var info = function (options) {\n        return Modal.info(options);\n    };\n    var success = function (options) {\n        return Modal.success(options);\n    };\n    var show = function (options) {\n        return Modal.show(options);\n    };\n    var error = function (options) {\n        // console.log('=>', options);\n        return Modal.error(options);\n    };\n    var confirm = function (options) {\n        return Modal.confirm(options);\n    };\n    var warning = function (options) {\n        return Modal.warning(options);\n    };\n\n    return {\n        info: info,\n        success: success,\n        error: error,\n        confirm: confirm,\n        show: show,\n        warning,\n        that: Modal,\n    };\n})();\nvar message = (function () {\n    var show = function (content, duration = 3, options = {}) {\n        Message.show(content, duration, options);\n    };\n    var info = function (content, duration = 3, options = {}) {\n        Message.info(content, duration, options);\n    };\n    var success = function (content, duration = 3, options = {}) {\n        Message.success(content, duration, options);\n    };\n    var warn = function (content, duration = 3, options = {}) {\n        Message.warn(content, duration, options);\n    };\n    var error = function (content, duration = 3, options = {}) {\n        Message.error(content, duration, options);\n    };\n    var close = function () {\n        Message.close();\n    };\n    return {\n        show: show,\n        info: info,\n        success: success,\n        warn: warn,\n        error: error,\n        close: close,\n    };\n})();\n\nvar cache = (function () {\n    var get_key = function (key) {\n        return \"admin_\" + key;\n    };\n    var clear_cookie = function () {\n        var keys = document.cookie.match(/[^ =;]+(?=\\=)/g);\n        if (keys) {\n            for (var i = keys.length; i--; ) {\n                document.cookie =\n                    keys[i] + \"=0;expires=\" + new Date(0).toUTCString();\n            }\n        }\n    };\n    var clear_localStorage = function () {\n        var storage = window.localStorage;\n        for (var key in storage) {\n            storage.removeItem(key);\n        }\n    };\n    var get = function (key) {\n        return window.localStorage\n            ? window.localStorage.getItem(get_key(key))\n            : utils.getcookie(get_key(key));\n    };\n    var set = function (key, val) {\n        return window.localStorage\n            ? window.localStorage.setItem(get_key(key), val)\n            : utils.setcookie(get_key(key), val);\n    };\n    var clear = function () {\n        return window.localStorage ? clear_localStorage() : clear_cookie();\n    };\n    return {\n        set: set,\n        get: get,\n        clear: clear,\n        clear_localStorage: clear_localStorage,\n        clear_cookie: clear_cookie,\n    };\n})();\n\nvar ajax = (function () {\n    var get = function (url, data, success, header, error) {\n        return request(\"get\", url, data, success, header, error);\n    };\n    var post = function (url, data, success, header, error, file = false) {\n        return request(\"post\", url, data, success, header, error, file);\n    };\n    var put = function (url, data, success, header, error, file = false) {\n        return request(\"put\", url, data, success, header, error);\n    };\n    var patch = function (url, data, success, header, error, file = false) {\n        return request(\"patch\", url, data, success, error, file);\n    };\n    var del = function (url, data, success, header, error) {\n        return request(\"delete\", url, data, success, error);\n    };\n\n    var headers = function (method) {\n        var data = {\n            \"content-type\": \"application/x-www-form-urlencoded\",\n            \"client-id\": window.appid,\n            Accept: \"application/html\",\n        };\n        data.sn = cache.get(\"field\");\n        data.token = utils.getcookie(cache.get(\"field\"));\n        data.timestamp = Date.parse(new Date()) / 1000;\n        data.version = \"1.0\";\n        data.sign = sign(data);\n        data.format = \"json\";\n        return data;\n    };\n    var request = async function (\n        method,\n        url,\n        data,\n        success,\n        header,\n        error,\n        file = false\n    ) {\n        var options = {\n            method,\n            headers: headers(method),\n            data: file ? data : qs.stringify(data),\n            url:\n                \"/\" + (method === \"get\" ? url + \"?\" + qs.stringify(data) : url),\n            // url: \"/\" + (method === \"get\" ? url: url)\n        };\n\n        try {\n            ToggleLoading.state = true;\n            store.dispatch(ToggleLoading);\n            let res = await axios(options);\n            ToggleLoading.state = false;\n            store.dispatch(ToggleLoading);\n            var href = window.location.href;\n            //res.data.replace(/\\n/g, \"\\\\n\").replace(/\\r/g, \"\\\\r\")\n            var josn =\n                JSON.parse(\n                    utils.decrypt(\n                        res.data,\n                        window.cs,\n                        md5(res.headers[\"content-encrypt\"]).substr(8, 16)\n                    )\n                ) || {};\n            if (\n                cache.get(\"test\") == \"development\" ||\n                process.env.NODE_ENV === \"development\"\n            ) {\n                console.log(\n                    \"encrypt=>\",\n                    window.cs,\n                    md5(res.headers[\"content-encrypt\"]).substr(8, 16)\n                );\n                console.log(url + \" data=>\", josn);\n                console.log(url + \" request=>\", res);\n                console.log(\"env=>\", process.env);\n            }\n            if (josn.code === 10005) {\n                notify.error({\n                    message: \"通知\",\n                    description: josn.message,\n                });\n            }\n\n            if (josn.code === 11003) {\n                if (\n                    !(\n                        href.indexOf(\"server/check\") > 0 ||\n                        href.indexOf(\"auth/again\") > 0 ||\n                        href.indexOf(\"auth/check\") > 0\n                    )\n                ) {\n                    utils.redirect(josn);\n                }\n            }\n            if (josn.code === 11002) {\n                josn.redirect = josn.redirect || \"/authorize/auth\";\n                if (href.indexOf(\"authorize/auth\") === -1) {\n                    utils.redirect(josn);\n                }\n            }\n            if (success) {\n                return success(josn);\n            }\n            return josn;\n        } catch (err) {\n            ToggleLoading.state = false;\n            store.dispatch(ToggleLoading);\n            console.error(err.message, options);\n            var res = { message: err.message, status: \"failure\" };\n            if (error) {\n                return error(res);\n            }\n            return res;\n        }\n    };\n    return {\n        get,\n        post,\n        patch,\n        put,\n        delete: del,\n        header: headers,\n    };\n})();\nvar utils = (function () {\n    var in_array = function (search, array) {\n        for (var i in array) {\n            if (array[i] === search) {\n                return true;\n            }\n        }\n        return false;\n    };\n    var setcookie = function (\n        cookieName,\n        cookieValue,\n        expires,\n        path,\n        domain,\n        secure\n    ) {\n        document.cookie =\n            escape(cookieName) +\n            \"=\" +\n            escape(cookieValue) +\n            (expires ? \"; expires=\" + expires.toGMTString() : \"\") +\n            \"; path=\" +\n            (path ? +path : \"/\") +\n            (domain ? \"; domain=\" + domain : \"\") +\n            (secure ? \"; secure\" : \"\");\n    };\n    var getcookie = function (name) {\n        var arr = document.cookie.match(\n            new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\")\n        );\n        if (arr != null) return unescape(arr[2]);\n        return null;\n    };\n    var title = function (t) {\n        document.title = t;\n        var i = document.createElement(\"iframe\");\n        i.src = \"/favicon.ico?v=\" + Math.random();\n        i.style.visibility = \"hidden\";\n        i.style.width = \"1px\";\n        i.style.height = \"1px\";\n        i.onload = function () {\n            setTimeout(function () {\n                i.remove();\n                document.title = t;\n            }, 500);\n        };\n        return t;\n    };\n\n    const query = () => parse(window.location.search.split(\"?\")[1]);\n    const http_build_query = (data) => qs.stringify(data);\n    const redirect = (data) => {\n        if (process.env.NODE_ENV === \"development\") {\n            return console.log(\"redirect=>\", data);\n        }\n        var url = data.redirect || \"\";\n        if (\n            /^http[s]?:\\/\\/([\\w\\-\\.]+)+[\\w-]*([\\w\\-\\.\\/\\?%&=]+)?$/gi.test(url)\n        ) {\n            window.location.replace(url);\n        } else {\n            window.location.replace(\"/\" + (url || \"\"));\n        }\n    };\n    /**\n     * 加密\n     * @param string word 待加密报文\n     * @return string\n     */\n    const encrypt = (word, key, iv) => {\n        let d = CryptoJS.AES.encrypt(word, CryptoJS.enc.Utf8.parse(key), {\n            iv: CryptoJS.enc.Utf8.parse(iv),\n            mode: CryptoJS.mode.CBC,\n            padding: CryptoJS.pad.Pkcs7,\n        });\n\n        return d.toString();\n    };\n\n    /**\n     * 解密\n     * @param string word 待解密报文\n     * @return string\n     */\n    const decrypt = (word, key, iv) => {\n        let d = CryptoJS.AES.decrypt(word, CryptoJS.enc.Utf8.parse(key), {\n            iv: CryptoJS.enc.Utf8.parse(iv),\n            mode: CryptoJS.mode.CBC,\n            padding: CryptoJS.pad.Pkcs7,\n        });\n\n        return d.toString(CryptoJS.enc.Utf8);\n    };\n    /**\n     * 关闭窗口\n     */\n    const close_window = () => {\n        window.opener = null;\n        window.open(\"about:blank\", \"_top\").close();\n    };\n\n    return {\n        in_array,\n        setcookie,\n        getcookie,\n        title,\n        query,\n        http_build_query,\n        redirect,\n        encrypt,\n        decrypt,\n        close_window,\n    };\n})();\nvar confirm = function (options = {}) {\n    modal.confirm({\n        title: options.title || \"提示\",\n        content: options.content || \"删除后数据不可恢复，确认删除吗?\",\n        okText: options.okText || \"确认操作\",\n        cancelText: options.cancelText || \"不要操作\",\n        autoFocusButton: \"cancel\",\n        onOk() {\n            return new Promise((resolve, reject) => {\n                var r = ajax.post(options.url, options.data);\n                resolve(r);\n            }).then((res) => {\n                options.success && options.success(res);\n            });\n        },\n        onCancel() {\n            console.log(\"Cancel\");\n        },\n    });\n};\nasync function server() {\n    var check = await ajax.get(\"server/check\");\n    if (check.code === 10000) {\n        window.ucdata = check.ucdata;\n        var server = {\n            code: check.code,\n            ucdata: check.ucdata,\n            columns: check.columns,\n            menus: check.menus,\n            competence: check.competence,\n        };\n        const t = { type: \"SERVER\" };\n        t.data = { server: server };\n        store.dispatch(t);\n        if (check.unfinished_cron) {\n            server.unfinished_cron = check.unfinished_cron;\n        }\n        return server;\n    }\n    return { code: check.code };\n}\nasync function app() {\n    var res = await ajax.get(\"server/app\");\n    if (res.code === 10000) {\n        store.dispatch({ type: \"APP\", data: { app: res.data } });\n        return res.data;\n    }\n    return {};\n}\n\n/**\n * Callback index.\n */\n\nvar count = 0;\n\n/**\n * Noop function.\n */\n\nfunction noop() {}\n\n/**\n * JSONP handler\n *\n * Options:\n *  - param {String} qs parameter (`callback`)\n *  - prefix {String} qs parameter (`__jp`)\n *  - name {String} qs parameter (`prefix` + incr)\n *  - timeout {Number} how long after a timeout error is emitted (`60000`)\n *\n * @param {String} url\n * @param {Object|Function} optional options / callback\n * @param {Function} optional callback\n */\n\nfunction jsonp(url, opts, fn) {\n    if (\"function\" == typeof opts) {\n        fn = opts;\n        opts = {};\n    }\n    if (!opts) opts = {};\n\n    var prefix = opts.prefix || \"__jp\";\n\n    // use the callback name that was passed if one was provided.\n    // otherwise generate a unique name by incrementing our counter.\n    var id = opts.name || prefix + count++;\n\n    var param = opts.param || \"callback\";\n    var timeout = null != opts.timeout ? opts.timeout : 60000;\n    var enc = encodeURIComponent;\n    var target = document.getElementsByTagName(\"script\")[0] || document.head;\n    var script;\n    var timer;\n\n    if (timeout) {\n        timer = setTimeout(function () {\n            cleanup();\n            if (fn) fn(new Error(\"Timeout\"));\n        }, timeout);\n    }\n\n    function cleanup() {\n        if (script.parentNode) script.parentNode.removeChild(script);\n        window[id] = noop;\n        if (timer) clearTimeout(timer);\n    }\n\n    function cancel() {\n        if (window[id]) {\n            cleanup();\n        }\n    }\n\n    window[id] = function (data) {\n        cleanup();\n        if (fn) fn(null, data);\n    };\n\n    // add qs component\n    url += (~url.indexOf(\"?\") ? \"&\" : \"?\") + param + \"=\" + enc(id);\n    url = url.replace(\"?&\", \"?\");\n\n    // create script\n    script = document.createElement(\"script\");\n    script.src = url;\n    target.parentNode.insertBefore(script, target);\n\n    return cancel;\n}\n\nexport default {\n    cache,\n    ajax,\n    utils,\n    modal,\n    message,\n    store,\n    confirm,\n    server,\n    app,\n    jsonp,\n};\n","/Users/luohai/web/git/react-youyan-authorize/src/components/sidebar/sidebar.js",["340","341","342","343","344","345","346"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\n// import { matchPath } from \"react-router\";\nimport Scrollbar from \"perfect-scrollbar-react\";\nimport \"perfect-scrollbar-react/dist/style.min.css\";\nimport classnames from \"classnames\";\nimport style from \"./style.less\";\nimport { connect } from \"react-redux\";\nimport webapi from \"@/utils/webapi.js\";\nclass Sidebar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            server: { columns: [] },\n            expand_active: [],\n            selected_active: \"\",\n            ...props,\n        };\n        // console.log('data=>',props)\n    }\n    /**\n     * 渲染前调用\n     */\n    componentWillMount() {\n        this.handle_init();\n    }\n    componentWillReceiveProps(props) {\n        this.props = props;\n        this.setState({ ...props, selected_active: \"\" }, function () {\n            this.handle_init();\n        });\n    }\n\n    /**\n     * handle_init 业务初始化 3=handle\n     * @return obj\n     */\n    handle_init() {\n        this.handle_selected_active(this.state.server.columns || []);\n    }\n\n    handleMouseOver(e) {\n        // this.props.handle_state(\"expand_logo\", true);\n    }\n\n    handleMouseOut(e) {\n        // this.props.handle_state(\"expand_logo\", false);\n    }\n    handle_auth_logout = () => {\n        this.props.auth_logout();\n    };\n    handle_open_change(item) {\n        const state = { expand_active: this.state.expand_active };\n        if (item.children) {\n            state.expand_active[item.id] = !this.state.expand_active[item.id];\n        } else {\n            state.selected_active = item.id;\n        }\n\n        this.setState(state);\n    }\n    handle_selected_active = (items) => {\n        // const url = this.props.location.pathname || \"\";\n        const url = window.location.pathname || \"\";\n        items.map((item, i) => {\n            if (item.url && url.indexOf(item.url) === 0) {\n                this.setState({\n                    selected_active: item.id,\n                    expand_active: {\n                        ...this.state.expand_active,\n                        [item.parent_id > 0 ? item.parent_id : item.id]: true,\n                    },\n                });\n            }\n            item.children && this.handle_selected_active(item.children);\n        });\n    };\n\n    get_children(data) {\n        var s = data.children.map((item, i) => {\n            return (\n                <li className=\"sidebar-item\" key={item.id}>\n                    {this.get_columns_item(item)}\n                </li>\n            );\n        });\n        return (\n            <ul\n                aria-expanded=\"false\"\n                className={classnames(\n                    \"collapse  first-level\",\n                    this.state.expand_active[data.id] ? \"in\" : \"\"\n                )}\n            >\n                {s}\n            </ul>\n        );\n    }\n    get_columns_item(item = {}) {\n        const c = (\n            <>\n                <i className={classnames(\"fa\", \"fa-\" + item.icon)} />\n                <span className=\"hide-menu\">{item.name}</span>\n                <span className=\"badge badge-inverse badge-pill ml-auto mr-3 font-medium px-2 py-1\">\n                    {item.children ? item.children.length : \"\"}\n                </span>\n            </>\n        );\n        const expanded = {\n            className: classnames(\n                \"sidebar-link waves-effect waves-dark\",\n                webapi.utils.in_array(\n                    this.state.selected_active,\n                    item.children_ids\n                )\n                    ? \"active\"\n                    : \"\",\n                item.children ? \"has-arrow\" : \"\"\n            ),\n            \"aria-expanded\": false,\n        };\n        return (\n            <>\n                {item.target === 1 ? (\n                    <a href={item.url} target=\"_blank\" {...expanded}>\n                        {c}\n                    </a>\n                ) : (\n                    <Link\n                        to={item.url ? item.url : \"#!\"}\n                        onClick={() => {\n                            this.handle_open_change(item);\n                        }}\n                        {...expanded}\n                    >\n                        {c}\n                    </Link>\n                )}\n                {item.children ? this.get_children(item) : \"\"}\n            </>\n        );\n    }\n    get_columns() {\n        return this.state.server.columns.map((item, i) => {\n            return (\n                <li\n                    className={classnames(\n                        \"sidebar-item\",\n                        item.children ? \"children_1\" : \"children_0\",\n                        webapi.utils.in_array(\n                            this.state.selected_active,\n                            item.children_ids\n                        )\n                            ? \"selected\"\n                            : \"\"\n                    )}\n                    key={i}\n                >\n                    {this.get_columns_item(item)}\n                </li>\n            );\n        });\n    }\n    render() {\n        // console.log(\n        //     \"sidebar data=>\",\n        //     this.state,\n        //     this.props.location,\n        //     window.location.pathname\n        // );\n        const ucdata = this.state.server.ucdata || {};\n        return (\n            <aside\n                id=\"aside\"\n                className=\"left-sidebar\"\n                data-sidebarbg={this.state.settings.sidebar_color}\n                onMouseOver={this.handleMouseOver.bind(this)}\n                onMouseLeave={this.handleMouseOut.bind(this)}\n            >\n                <div className=\"scroll-sidebar ps-container ps-theme-default ps-active-y\">\n                    <nav className=\"sidebar-nav\">\n                        <div\n                            className=\"list-data\"\n                            style={{\n                                display: \"flex\",\n                                maxHeight: document.body.clientHeight - 10,\n                            }}\n                        >\n                            <ul id=\"sidebarnav\" className=\"aside-menu\">\n                                <li className=\"sidebar-item children_1\">\n                                    <a\n                                        className=\"sidebar-link has-arrow waves-effect waves-dark profile-dd active\"\n                                        href=\"#!\"\n                                        aria-expanded=\"false\"\n                                        onClick={() => {\n                                            this.handle_open_change({\n                                                id: -999,\n                                                children:1,\n                                            });\n                                        }}\n                                    >\n                                        <img\n                                            src={ucdata.avatar}\n                                            className=\"rounded-circle ml-2\"\n                                            width=\"30\"\n                                        />\n                                        <span className=\"hide-menu\">\n                                            {ucdata.nickname}\n                                        </span>\n                                    </a>\n                                    <ul\n                                        aria-expanded=\"false\"\n                                        className={classnames(\n                                            \"collapse  first-level\",\n                                            this.state.expand_active[-999]\n                                                ? \"in\"\n                                                : \"\"\n                                        )}\n                                    >\n                                        <li className=\"sidebar-item\">\n                                            <Link\n                                                to=\"/authorize/account/profile\"\n                                                className=\"sidebar-link\"\n                                            >\n                                                <i className=\"ti-settings\"></i>\n                                                <span className=\"hide-menu\">\n                                                    账号设置\n                                                </span>\n                                            </Link>\n                                        </li>\n                                        <li className=\"sidebar-item\">\n                                            <a\n                                                href=\"#!\"\n                                                className=\"sidebar-link\"\n                                                onClick={() => {\n                                                    this.handle_auth_logout();\n                                                }}\n                                            >\n                                                <i className=\"fa fa-power-off\"></i>\n                                                <span className=\"hide-menu\">\n                                                    退出登录\n                                                </span>\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </li>\n                                {this.get_columns()}\n                            </ul>\n                        </div>\n                    </nav>\n                </div>\n            </aside>\n        );\n    }\n}\n// export default Sidebar;\nexport default connect((store) => ({ ...store }))(Sidebar);\n","/Users/luohai/web/git/react-youyan-authorize/src/components/header/header.js",["347","348","349","350","351","352"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport webapi from \"@/utils/webapi\";\n// import style from \"@/styles/style.less\";\nimport classnames from \"classnames\";\nimport { Modal, Row, Col } from \"antd\";\nclass Header extends React.Component {\n    /*--------------------------------------------------------------------------------\n        * 构造\n        --------------------------------------------------------------------------------*/\n    constructor(props) {\n        super(props);\n        this.state = this.init_state();\n    }\n    init_state() {\n        const params = webapi.utils.query();\n        return {\n            q_temp: \"\",\n            q: params.q || \"\",\n            navbarSupported: false,\n            item_active: 0,\n            server: { menus: [] },\n            isOpen: false,\n            ...this.props,\n            app: this.props.app || {},\n        };\n    }\n    /*--------------------------------------------------------------------------------\n        * 更新 state \n        --------------------------------------------------------------------------------*/\n    componentWillReceiveProps(props) {\n        // console.log(\"d=>\", props);\n        this.props = props;\n        this.setState({ ...props }, () => {\n            // console.log(\"newProps=>\",this.state)\n        });\n    }\n\n    handle_user_profile() {\n        this.setState({\n            user_profile_show: !this.state.user_profile_show,\n            item_active: 0,\n        });\n    }\n\n    handle_notify_tasks() {\n        this.setState({\n            notify_tasks_show: !this.state.notify_tasks_show,\n            notify_messanges_show: false,\n        });\n    }\n    handle_notify_messanges() {\n        this.setState({\n            notify_messanges_show: !this.state.notify_messanges_show,\n            notify_tasks_show: false,\n        });\n    }\n    handle_avatar_loaded() {\n        alert(\"handle_avatar_loaded\");\n    }\n    handle_avatar_errored(user_id) {\n        var avatar =\n            \"https://assets.shunfengquan.com/avatar/default_avatar_image_\" +\n            (user_id % 10) +\n            \".jpg\";\n        this.setState({\n            avatar_img_url: avatar,\n            server: {\n                ...this.state.server,\n                ucdata: { ...this.state.server.ucdata, avatar },\n            },\n        });\n    }\n    /*--------------------------------------------------------------------------------\n    * 更改样式\n    --------------------------------------------------------------------------------*/\n    handle_collapse() {\n        this.props.collapse(\"collapse\");\n    }\n    handle_navbarSupportedContent() {\n        this.setState({ navbarSupported: !this.state.navbarSupported });\n    }\n    handle_customizer() {\n        this.handle_user_profile();\n        this.props.handle_state(\"customizer_show\", !this.state.customizer_show);\n    }\n    handle_applications() {\n        this.setState({ visible: true });\n    }\n    handle_change_applications(application_id, customer_id) {\n        webapi.utils.setcookie(\"customerid\", customer_id);\n        webapi.utils.setcookie(\"customerappid\", application_id);\n        this.setState({ visible: false });\n    }\n    handel_search() {\n        var val = this.state.q;\n        const urlParams = new URL(window.location.href);\n        const params = webapi.utils.query();\n        params.q = val;\n        const param = webapi.utils.http_build_query(params);\n        var url = urlParams.pathname + \"?\" + param;\n        // console.log(urlParams,params,this.props.history)\n        this.props.history.replace(url);\n    }\n    handel_search_focus() {\n        // var q = this.state.q;\n        // var q_temp = this.state.q_temp;\n        // if (q) {\n        //     this.setState({\n        //         q:'',\n        //         q_temp: q\n        //     });\n        // }\n    }\n    handel_search_onblur() {\n        // var q = this.state.q;\n        // var q_temp = this.state.q_temp;\n        // if (q_temp) {\n        //     this.setState({\n        //         q: q_temp,\n        //         q_temp:''\n        //     });\n        // }\n    }\n    handel_search_keyup(e) {\n        if (e.keyCode === 13) {\n            this.handel_search();\n        }\n    }\n    handel_search_change(event) {\n        var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        this.setState({\n            q: val + \"\",\n        });\n    }\n    /*--------------------------------------------------------------------------------\n        * 退出登录\n        --------------------------------------------------------------------------------*/\n\n    handle_auth_logout=()=> {\n        this.props.auth_logout();\n    }\n\n    handle_app_ok = () => {\n        this.setState({ visible: false });\n    };\n\n    handle_app_cancel = () => {\n        this.setState({ visible: false });\n    };\n    /*--------------------------------------------------------------------------------\n    * handle_nav\n    --------------------------------------------------------------------------------*/\n\n    handle_nav(id) {\n        this.setState({\n            user_profile_show: false,\n            item_active: this.state.item_active === id ? -1 : id,\n        });\n    }\n    /*--------------------------------------------------------------------------------\n    * menus_child\n    --------------------------------------------------------------------------------*/\n\n    menus_child(children = []) {\n        return children.map((val, key) => {\n            return (\n                <li key={key}>\n                    <Link\n                        className=\"dropdown-item\"\n                        to={val.url}\n                        onClick={this.handle_nav.bind(this, -1)}\n                    >\n                        <i className={classnames(\"fa\", \"fa-\" + val.icon)}></i>\n                        <strong>{val.name}</strong>\n                        <small>{val.intro}</small>\n                    </Link>\n                </li>\n            );\n        });\n    }\n    /*--------------------------------------------------------------------------------\n    * menus\n    --------------------------------------------------------------------------------*/\n    menus() {\n        return this.state.server.menus.map((val, key) => {\n            if (val.children) {\n                return (\n                    <li className=\"nav-item animated flipInY snav\" key={key}>\n                        <a\n                            className=\"nav-link dropdown-toggle waves-effect waves-dark\"\n                            href=\"#!\"\n                            onClick={this.handle_nav.bind(this, val.id)}\n                            data-toggle=\"dropdown\"\n                            aria-haspopup=\"true\"\n                            aria-expanded=\"false\"\n                        >\n                            <span className=\"ml-2 font-medium\">{val.name}</span>\n                            <span className=\"fa fa-angle-down ml-2\" />\n                        </a>\n                        <ul\n                            className={classnames(\n                                \"n\",\n                                this.state.item_active === val.id && \"show\"\n                            )}\n                        >\n                            {this.menus_child(val.children)}\n                        </ul>\n                    </li>\n                );\n            }\n            return '';\n        });\n    }\n    /*--------------------------------------------------------------------------------\n     * 渲染\n    --------------------------------------------------------------------------------*/\n    render() {\n        var nav_class=['navbar','top-navbar','navbar-expand-md'];\n        const server = this.state.server;\n        const menus = this.menus();\n        if (this.state.settings.navbar_bg==='skin6') {\n            nav_class.push('navbar-light');\n        }else{\n            nav_class.push('navbar-dark'); \n        }\n        return (\n            <>\n                <Modal\n                    title=\"请选择应用\"\n                    visible={this.state.visible}\n                    onOk={this.handle_app_ok}\n                    onCancel={this.handle_app_cancel}\n                >\n                    <Row>\n                        {Object.keys(this.state.app).map((val, key) => {\n                            return (\n                                <Col key={key} span={6}>\n                                    <a\n                                        href=\"#!\"\n                                        onClick={() => {\n                                            this.handle_change_applications(\n                                                val,\n                                                this.state.app[val].customer_id\n                                            );\n                                        }}\n                                    >\n                                        {this.state.app[val].name}({val})\n                                    </a>\n                                </Col>\n                            );\n                        })}\n                    </Row>\n                </Modal>\n                <header\n                    id=\"header\"\n                    className=\"topbar\"\n                    data-navbarbg={this.state.settings.navbar_bg}\n                >\n                    <nav className={nav_class.join(\" \")}>\n                        <div\n                            className={[\n                                \"navbar-header border-right\",\n                                this.state.expand_logo && \"expand-logo\",\n                            ].join(\" \")}\n                            data-logobg={this.state.settings.logo_bg}\n                        >\n                            <a\n                                onClick={this.handle_collapse.bind(this)}\n                                className=\"nav-toggler waves-effect waves-light d-block d-md-none\"\n                                href=\"#!\"\n                            >\n                                <i className=\"ti-menu ti-close\"></i>\n                            </a>\n                            <Link\n                                className=\"navbar-brand\"\n                                to={this.state.homepage}\n                            >\n                                <b className=\"logo-icon\">\n                                    <img\n                                        src={\n                                            require(\"@/assets/images/logo-icon.png\")\n                                                .default\n                                        }\n                                        alt=\"homepage\"\n                                        className=\"dark-logo\"\n                                        height=\"50\"\n                                    />\n\n                                    <img\n                                        src={\n                                            require(\"@/assets/images/logo-light-icon.png\")\n                                                .default\n                                        }\n                                        alt=\"homepage\"\n                                        className=\"light-logo\"\n                                        height=\"50\"\n                                    />\n                                </b>\n                                <span className=\"logo-text\">\n                                    <img\n                                        src={\n                                            require(\"@/assets/images/logo-text.png\")\n                                                .default\n                                        }\n                                        alt=\"homepage\"\n                                        className=\"dark-logo\"\n                                    />\n\n                                    <img\n                                        src={\n                                            require(\"@/assets/images/logo-light-text.png\")\n                                                .default\n                                        }\n                                        className=\"light-logo\"\n                                        alt=\"homepage\"\n                                    />\n                                </span>\n                            </Link>\n                            <a\n                                className=\"topbartoggler d-block d-md-none waves-effect waves-light\"\n                                href=\"#!\"\n                                data-toggle=\"collapse\"\n                                data-target=\"#navbarSupportedContent\"\n                                aria-controls=\"navbarSupportedContent\"\n                                aria-expanded=\"false\"\n                                aria-label=\"Toggle navigation\"\n                                onClick={this.handle_navbarSupportedContent.bind(\n                                    this\n                                )}\n                            >\n                                <i className=\"ti-more\"></i>\n                            </a>\n                        </div>\n                        <div\n                            className={[\n                                \"navbar-collapse collapse\",\n                                this.state.navbarSupported && \"show\",\n                            ].join(\" \")}\n                            id=\"navbarSupportedContent\"\n                            data-navbarbg={this.state.settings.navbar_bg}\n                        >\n                            <ul className=\"navbar-nav float-left mr-auto\">\n                                <li className=\"nav-item d-none d-md-block\">\n                                    <a\n                                        onClick={this.handle_collapse.bind(\n                                            this\n                                        )}\n                                        className=\"nav-link sidebartoggler waves-effect waves-light\"\n                                        href=\"#!\"\n                                        data-sidebartype=\"mini-sidebar\"\n                                    >\n                                        <i className=\"mdi mdi-menu font-18\" />\n                                    </a>\n                                </li>\n                                {server.notify_messanges ? (\n                                    <li\n                                        className={[\n                                            \"nav-item dropdown\",\n                                            this.state.notify_messanges_show &&\n                                                \"show\",\n                                        ].join(\" \")}\n                                    >\n                                        <a\n                                            onClick={this.handle_notify_messanges.bind(\n                                                this\n                                            )}\n                                            className=\"nav-link dropdown-toggle waves-effect waves-dark\"\n                                            href=\"#!\"\n                                            id=\"2\"\n                                            data-toggle=\"dropdown\"\n                                            aria-haspopup=\"true\"\n                                            aria-expanded=\"false\"\n                                        >\n                                            <i className=\"font-18 mdi mdi-gmail\" />\n                                            <div className=\"notify\">\n                                                <span className=\"heartbit\" />\n                                                <span className=\"point\" />\n                                            </div>\n                                        </a>\n                                        <div\n                                            className={[\n                                                \"dropdown-menu dropdown-menu-left mailbox animated bounceInDown\",\n                                                this.state\n                                                    .notify_messanges_show &&\n                                                    \"show\",\n                                            ].join(\" \")}\n                                            aria-labelledby=\"2\"\n                                        >\n                                            <ul className=\"list-style-none\">\n                                                <li>\n                                                    <div className=\"drop-title border-bottom\">\n                                                        You have 4 new messanges\n                                                    </div>\n                                                </li>\n                                                <li>\n                                                    <div className=\"message-center message-body\">\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"user-img\">\n                                                                <img\n                                                                    src=\"../../assets/images/users/1.jpg\"\n                                                                    alt=\"user\"\n                                                                    className=\"rounded-circle\"\n                                                                />{\" \"}\n                                                                <span className=\"profile-status online pull-right\" />{\" \"}\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Pavan kumar\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just see the\n                                                                    my admin!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:30 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"user-img\">\n                                                                <img\n                                                                    src=\"../../assets/images/users/2.jpg\"\n                                                                    alt=\"user\"\n                                                                    className=\"rounded-circle\"\n                                                                />\n                                                                <span className=\"profile-status busy pull-right\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Sonu Nigam\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    I've sung a\n                                                                    song! See\n                                                                    you at\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:10 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"user-img\">\n                                                                <img\n                                                                    src=\"../../assets/images/users/3.jpg\"\n                                                                    alt=\"user\"\n                                                                    className=\"rounded-circle\"\n                                                                />{\" \"}\n                                                                <span className=\"profile-status away pull-right\" />{\" \"}\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Arijit Sinh\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    I am a\n                                                                    singer!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:08 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"user-img\">\n                                                                <img\n                                                                    src=\"../../assets/images/users/4.jpg\"\n                                                                    alt=\"user\"\n                                                                    className=\"rounded-circle\"\n                                                                />{\" \"}\n                                                                <span className=\"profile-status offline pull-right\" />{\" \"}\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Pavan kumar\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just see the\n                                                                    my admin!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:02 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n                                                    </div>\n                                                </li>\n                                                <li>\n                                                    <a\n                                                        className=\"nav-link text-center link text-dark\"\n                                                        href=\"#!\"\n                                                    >\n                                                        {\" \"}\n                                                        <b>\n                                                            See all\n                                                            Notifications\n                                                        </b>{\" \"}\n                                                        <i className=\"fa fa-angle-right\" />{\" \"}\n                                                    </a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </li>\n                                ) : (\n                                    \"\"\n                                )}\n                                {server.notify_tasks ? (\n                                    <li\n                                        className={[\n                                            \"nav-item dropdown\",\n                                            this.state.notify_tasks_show &&\n                                                \"show\",\n                                        ].join(\" \")}\n                                    >\n                                        <a\n                                            onClick={this.handle_notify_tasks.bind(\n                                                this\n                                            )}\n                                            className=\"nav-link dropdown-toggle waves-effect waves-dark\"\n                                            href=\"#!\"\n                                            data-toggle=\"dropdown\"\n                                            aria-haspopup=\"true\"\n                                            aria-expanded=\"false\"\n                                        >\n                                            <i className=\"mdi mdi-check-circle font-18\" />\n                                            <div className=\"notify\">\n                                                <span className=\"heartbit\" />\n                                                <span className=\"point\" />\n                                            </div>\n                                        </a>\n                                        <div\n                                            className={[\n                                                \"dropdown-menu dropdown-menu-left mailbox animated bounceInDown\",\n                                                this.state.notify_tasks_show &&\n                                                    \"show\",\n                                            ].join(\" \")}\n                                        >\n                                            <span className=\"with-arrow\">\n                                                <span className=\"bg-primary\" />\n                                            </span>\n                                            <ul className=\"list-style-none\">\n                                                <li>\n                                                    <div className=\"drop-title border-bottom\">\n                                                        You have 3 new Tasks\n                                                    </div>\n                                                </li>\n                                                <li>\n                                                    <div className=\"message-center notifications\">\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"btn btn-danger btn-circle\">\n                                                                <i className=\"fa fa-link\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Luanch Admin\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just see the\n                                                                    my new\n                                                                    admin!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:30 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"btn btn-success btn-circle\">\n                                                                <i className=\"ti-calendar\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Event today\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just a\n                                                                    reminder\n                                                                    that you\n                                                                    have event\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:10 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"btn btn-info btn-circle\">\n                                                                <i className=\"ti-settings\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Settings\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    You can\n                                                                    customize\n                                                                    this\n                                                                    template as\n                                                                    you want\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:08 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n\n                                                        <a\n                                                            href=\"#!\"\n                                                            className=\"message-item\"\n                                                        >\n                                                            <span className=\"btn btn-primary btn-circle\">\n                                                                <i className=\"ti-user\" />\n                                                            </span>\n                                                            <span className=\"mail-contnet\">\n                                                                <h5 className=\"message-title\">\n                                                                    Pavan kumar\n                                                                </h5>{\" \"}\n                                                                <span className=\"mail-desc\">\n                                                                    Just see the\n                                                                    my admin!\n                                                                </span>{\" \"}\n                                                                <span className=\"time\">\n                                                                    9:02 AM\n                                                                </span>{\" \"}\n                                                            </span>\n                                                        </a>\n                                                    </div>\n                                                </li>\n                                                <li>\n                                                    <a\n                                                        className=\"nav-link text-center mb-1 text-dark\"\n                                                        href=\"#!;\"\n                                                    >\n                                                        {\" \"}\n                                                        <strong>\n                                                            See all Tasks\n                                                        </strong>{\" \"}\n                                                        <i className=\"fa fa-angle-right\" />{\" \"}\n                                                    </a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </li>\n                                ) : (\n                                    \"\"\n                                )}\n                            </ul>\n\n                            <ul className=\"navbar-nav float-right mcd-menu\">\n                                <li className=\"nav-item search-box\">\n                                    <div className=\"app-search d-none d-lg-block\">\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-control\"\n                                            placeholder=\"搜索...\"\n                                            name=\"q\"\n                                            value={this.state.q}\n                                            onBlur={this.handel_search_onblur.bind(\n                                                this\n                                            )}\n                                            onFocus={this.handel_search_focus.bind(\n                                                this\n                                            )}\n                                            onKeyUp={this.handel_search_keyup.bind(\n                                                this\n                                            )}\n                                            onChange={this.handel_search_change.bind(\n                                                this\n                                            )}\n                                        />\n                                        <a\n                                            href=\"#!\"\n                                            onClick={this.handel_search.bind(\n                                                this\n                                            )}\n                                            className=\"active\"\n                                        >\n                                            <i className=\"fa fa-search\" />\n                                        </a>\n                                    </div>\n                                </li>\n                                {menus}\n                                <li\n                                    className={[\n                                        \"nav-item dropdown\",\n                                        this.state.user_profile_show && \"show\",\n                                    ].join(\" \")}\n                                >\n                                    <a\n                                        className=\"nav-link dropdown-toggle waves-effect waves-dark\"\n                                        href=\"#!\"\n                                        onClick={this.handle_user_profile.bind(\n                                            this\n                                        )}\n                                        data-toggle=\"dropdown\"\n                                        aria-haspopup=\"true\"\n                                        aria-expanded=\"false\"\n                                    >\n                                        <img\n                                            src={server.ucdata.avatar}\n                                            alt={server.ucdata.nickname}\n                                            onError={this.handle_avatar_errored.bind(\n                                                this,\n                                                server.ucdata.user_id\n                                            )}\n                                            className=\"rounded-circle\"\n                                            width=\"36\"\n                                        />\n                                        <span className=\"ml-2 font-medium\">\n                                            {server.ucdata.nickname}\n                                        </span>\n                                        <span className=\"fa fa-angle-down ml-2\" />\n                                    </a>\n                                    <div\n                                        className={[\n                                            \"dropdown-menu dropdown-menu-right user-dd animated flipInY\",\n                                            this.state.user_profile_show &&\n                                                \"show\",\n                                        ].join(\" \")}\n                                    >\n                                        <div className=\"d-flex no-block align-items-center p-3 mb-2 border-bottom\">\n                                            <div className=\"\">\n                                                <img\n                                                    src={server.ucdata.avatar}\n                                                    alt={server.ucdata.nickname}\n                                                    className=\"rounded-circle\"\n                                                    width=\"80\"\n                                                />\n                                            </div>\n                                            <div className=\"ml-2\">\n                                                <h4 className=\"mb-0\">\n                                                    {server.ucdata.nickname}\n                                                </h4>\n                                                <p className=\" mb-0 text-muted\">\n                                                    {server.ucdata.mobile\n                                                        ? server.ucdata.mobile\n                                                        : server.ucdata.email}\n                                                </p>\n                                                <p className=\" mb-0 text-muted\">\n                                                    UID:{server.ucdata.user_id}\n                                                </p>\n                                                <Link\n                                                    onClick={this.handle_user_profile.bind(\n                                                        this\n                                                    )}\n                                                    to=\"/authorize/account/profile\"\n                                                    className=\"btn btn-sm btn-danger text-white mt-2 btn-rounded\"\n                                                >\n                                                    我的资料\n                                                </Link>\n                                            </div>\n                                        </div>\n                                        <Link\n                                            className=\"dropdown-item\"\n                                            to=\"/authorize/account/profile\"\n                                            onClick={this.handle_user_profile.bind(\n                                                this\n                                            )}\n                                        >\n                                            <i className=\"ti-user mr-1 ml-1\" />\n                                            我的资料\n                                        </Link>\n                                        <a\n                                            className=\"dropdown-item\"\n                                            href=\"#!\"\n                                            style={{ display: \"none\" }}\n                                        >\n                                            <i className=\"ti-wallet mr-1 ml-1\" />{\" \"}\n                                            My Balance\n                                        </a>\n                                        <a\n                                            style={{ display: \"none\" }}\n                                            className=\"dropdown-item\"\n                                            href=\"/authorize/account/inbox\"\n                                        >\n                                            <i className=\"ti-email mr-1 ml-1\" />{\" \"}\n                                            收件箱\n                                        </a>\n                                        <div className=\"dropdown-divider\" />\n                                        <Link\n                                            style={{ display: \"none\" }}\n                                            className=\"dropdown-item\"\n                                            to=\"/authorize/account/settings\"\n                                        >\n                                            <i className=\"ti-settings mr-1 ml-1\" />{\" \"}\n                                            账户设置\n                                        </Link>\n                                        <div className=\"dropdown-divider\" />\n                                        <a\n                                            className=\"dropdown-item\"\n                                            href=\"#\"\n                                            onClick={this.handle_customizer.bind(\n                                                this\n                                            )}\n                                        >\n                                            <i className=\"fa fa-eye-slash mr-1 ml-1\" />{\" \"}\n                                            更改样式\n                                        </a>\n                                        {window.appid === \"313\" ? (\n                                            <>\n                                                <div className=\"dropdown-divider\" />\n                                                <a\n                                                    className=\"dropdown-item\"\n                                                    href=\"#\"\n                                                    onClick={this.handle_applications.bind(\n                                                        this\n                                                    )}\n                                                >\n                                                    <i className=\"fa fa-archive mr-1 ml-1\" />{\" \"}\n                                                    更改应用\n                                                </a>\n                                            </>\n                                        ) : (\n                                            \"\"\n                                        )}\n\n                                        <div className=\"dropdown-divider\" />\n\n                                        <a\n                                            className=\"dropdown-item\"\n                                            href=\"#!\"\n                                            onClick={() => {\n                            this.handle_auth_logout();\n                        }}\n                                        >\n                                            <i className=\"fa fa-power-off mr-1 ml-1\" />{\" \"}\n                                            退出登录\n                                        </a>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </nav>\n                </header>\n            </>\n        );\n    }\n}\nexport default connect((store) => ({ ...store }))(Header);\n","/Users/luohai/web/git/react-youyan-authorize/src/components/customizer/customizer.js",["353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372"],"import React from \"react\";\nclass Customizer extends React.Component {\n    /*--------------------------------------------------------------------------------\n    * 构造\n    --------------------------------------------------------------------------------*/\n    constructor(props) {\n        super(props);\n        this.state = {\n            customizer_show: false,\n            customizer_class: \"customizer\",\n            nav_show: 1,\n            ...props.data,\n        };\n        // console.log('Customizer=>',props)\n    }\n    /*--------------------------------------------------------------------------------\n    * 更新 state \n    --------------------------------------------------------------------------------*/\n    componentWillReceiveProps(newProps) {\n        this.setState({ ...newProps.data }, function () {\n            // console.log(\"newProps=>\",this.state)\n        });\n    }\n    componentWillMount() {\n        // console.log(\"Rightaside\");\n    }\n    handle_customizer() {\n        this.props.handle_state(\"customizer_show\", !this.state.customizer_show);\n    }\n    handle_nav(i) {\n        this.setState({ nav_show: i });\n    }\n    handle_sidebar_backgrounds(i) {\n        this.handle_skin(\"sidebar_color\", \"skin\" + i);\n    }\n    handle_logo_backgrounds(i) {\n        this.handle_skin(\"logo_bg\", \"skin\" + i);\n    }\n    handle_navbar_backgrounds(i) {\n        this.handle_skin(\"navbar_bg\", \"skin\" + i);\n    }\n    handle_sidebar_position() {\n        this.handle_skin(\n            \"sidebar_position\",\n            this.state.settings.sidebar_position === \"fixed\"\n                ? \"absolute\"\n                : \"fixed\"\n        );\n    }\n    handle_header_position() {\n        this.handle_skin(\n            \"header_position\",\n            this.state.settings.header_position === \"fixed\"\n                ? \"relative\"\n                : \"fixed\"\n        );\n    }\n    handle_boxed_layout() {\n        this.handle_skin(\n            \"boxed_layout\",\n            this.state.settings.boxed_layout === \"full\" ? \"boxed\" : \"full\"\n        );\n    }\n    /*--------------------------------------------------------------------------------\n    * 更改样式\n    --------------------------------------------------------------------------------*/\n    handle_skin(k, v) {\n        this.props.handle_skin(k, v);\n    }\n    /*--------------------------------------------------------------------------------\n    * sidebartype\n    --------------------------------------------------------------------------------*/\n\n    handle_sidebar_type() {\n        this.handle_skin(\n            \"sidebar_type\",\n            this.state.settings.sidebar_type === \"full\"\n                ? \"mini-sidebar\"\n                : \"full\"\n        );\n    }\n    render() {\n        return (\n            <aside\n                id=\"customizer\"\n                className={[\n                    \"customizer\",\n                    this.state.customizer_show ? \"show-service-panel\" : \"\",\n                ].join(\" \")}\n            >\n                <a\n                    href=\"#!\"\n                    onClick={this.handle_customizer.bind(this)}\n                    className={[\n                        \"service-panel-toggle\",\n                        this.state.customizer_show ? \"show\" : \"hide\",\n                    ].join(\" \")}\n                >\n                    <i className=\"fa fa-spin fa-cog\" />\n                </a>\n                <div\n                    className=\"customizer-body ps-container ps-theme-default ps-active-y\"\n                    data-ps-id=\"61e4d02d-86fa-1024-e7bb-b396cc3633d0\"\n                >\n                    <ul className=\"nav customizer-tab\" role=\"tablist\">\n                        <li\n                            className=\"nav-item\"\n                            onClick={this.handle_nav.bind(this, 1)}\n                        >\n                            <a\n                                className={[\n                                    \"nav-link\",\n                                    this.state.nav_show === 1 && \"active show\",\n                                ].join(\" \")}\n                                id=\"pills-home-tab\"\n                                data-toggle=\"pill\"\n                                href=\"#!\"\n                                role=\"tab\"\n                                aria-controls=\"pills-home\"\n                                aria-selected=\"false\"\n                            >\n                                <i className=\"mdi mdi-wrench font-20\" />\n                            </a>\n                        </li>\n                        <li\n                            className=\"nav-item\"\n                            onClick={this.handle_nav.bind(this, 2)}\n                        >\n                            <a\n                                className={[\n                                    \"nav-link\",\n                                    this.state.nav_show === 2 && \"active show\",\n                                ].join(\" \")}\n                                id=\"pills-profile-tab\"\n                                data-toggle=\"pill\"\n                                href=\"#!\"\n                                role=\"tab\"\n                                aria-controls=\"chat\"\n                                aria-selected=\"false\"\n                            >\n                                <i className=\"mdi mdi-message-reply font-20\" />\n                            </a>\n                        </li>\n                        <li\n                            className=\"nav-item\"\n                            onClick={this.handle_nav.bind(this, 3)}\n                        >\n                            <a\n                                className={[\n                                    \"nav-link\",\n                                    this.state.nav_show === 3 && \"active show\",\n                                ].join(\" \")}\n                                id=\"pills-contact-tab\"\n                                data-toggle=\"pill\"\n                                href=\"#!\"\n                                role=\"tab\"\n                                aria-controls=\"pills-contact\"\n                                aria-selected=\"true\"\n                            >\n                                <i className=\"mdi mdi-star-circle font-20\" />\n                            </a>\n                        </li>\n                    </ul>\n                    <div className=\"tab-content\" id=\"pills-tabContent\">\n                        <div\n                            className={[\n                                \"tab-pane fade\",\n                                this.state.nav_show === 1 && \"active show\",\n                            ].join(\" \")}\n                            id=\"pills-home\"\n                            role=\"tabpanel\"\n                            aria-labelledby=\"pills-home-tab\"\n                        >\n                            <div\n                                className=\"p-3 border-bottom\"\n                                style={{ display: \"none\" }}\n                            >\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    主题颜色\n                                </h5>\n                                <div\n                                    className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                    data-toggle=\"buttons\"\n                                >\n                                    <label className=\"btn btn-outline-secondary active\">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                            id=\"theme-light\"\n                                        />\n                                        白色\n                                    </label>\n                                    <label className=\"btn btn-outline-secondary \">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                            id=\"theme-dark\"\n                                        />\n                                        深色\n                                    </label>\n                                </div>\n                            </div>\n                            <div\n                                className=\"p-3 border-bottom\"\n                                id=\"sidebar_position\"\n                                style={{ display: \"none\" }}\n                            >\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    侧边栏位置\n                                </h5>\n                                <div\n                                    className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                    data-toggle=\"buttons\"\n                                >\n                                    <label className=\"btn btn-outline-secondary active\">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        固定\n                                    </label>\n                                    <label className=\"btn btn-outline-secondary \">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        滚动\n                                    </label>\n                                </div>\n                            </div>\n                            <div\n                                className=\"p-3 border-bottom\"\n                                id=\"sidebar_position\"\n                                style={{ display: \"none\" }}\n                            >\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    头部位置\n                                </h5>\n                                <div\n                                    className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                    data-toggle=\"buttons\"\n                                >\n                                    <label className=\"btn btn-outline-secondary active\">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        固定\n                                    </label>\n                                    <label className=\"btn btn-outline-secondary \">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        滚动\n                                    </label>\n                                </div>\n                            </div>\n\n                            <div\n                                className=\"p-3 border-bottom\"\n                                id=\"sidebar_position\"\n                                style={{ display: \"none\" }}\n                            >\n                                <h5 className=\"font-medium mb-2 mt-2\">布局</h5>\n                                <div\n                                    className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                    data-toggle=\"buttons\"\n                                >\n                                    <label className=\"btn btn-outline-secondary active\">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        满屏\n                                    </label>\n                                    <label className=\"btn btn-outline-secondary \">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        盒装\n                                    </label>\n                                </div>\n                            </div>\n                            <div\n                                className=\"p-3 border-bottom\"\n                                id=\"sidebar_position\"\n                                style={{ display: \"none\" }}\n                            >\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    侧边栏类型\n                                </h5>\n                                <div\n                                    className=\"btn-group btn-group-toggle mt-2 mb-3\"\n                                    data-toggle=\"buttons\"\n                                >\n                                    <label className=\"btn btn-outline-secondary active\">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        满屏\n                                    </label>\n                                    <label className=\"btn btn-outline-secondary \">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        迷你\n                                    </label>\n                                    <label className=\"btn btn-outline-secondary \">\n                                        <input\n                                            type=\"radio\"\n                                            name=\"theme-color\"\n                                        />\n                                        覆盖\n                                    </label>\n                                </div>\n                            </div>\n\n                            <div className=\"p-3 border-bottom\">\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    布局设置\n                                </h5>\n\n                                <div className=\"custom-control custom-checkbox mt-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"custom-control-input sidebartoggler\"\n                                        name=\"collapssidebar\"\n                                        id=\"collapssidebar\"\n                                        onChange={() => {\n                                            this.handle_sidebar_type();\n                                        }}\n                                        defaultChecked={\n                                            this.state.settings.sidebar_type ===\n                                            \"full\"\n                                                ? false\n                                                : true\n                                        }\n                                    />\n                                    <label\n                                        className=\"custom-control-label\"\n                                        htmlFor=\"collapssidebar\"\n                                    >\n                                        折叠边栏\n                                    </label>\n                                </div>\n                                <div className=\"custom-control custom-checkbox mt-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"custom-control-input\"\n                                        name=\"sidebar-position\"\n                                        id=\"sidebar-position\"\n                                        onChange={() => {\n                                            this.handle_sidebar_position();\n                                        }}\n                                        defaultChecked={\n                                            this.state.settings\n                                                .sidebar_position === \"fixed\"\n                                        }\n                                    />\n                                    <label\n                                        className=\"custom-control-label\"\n                                        htmlFor=\"sidebar-position\"\n                                    >\n                                        固定边栏\n                                    </label>\n                                </div>\n                                <div className=\"custom-control custom-checkbox mt-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"custom-control-input\"\n                                        name=\"header-position\"\n                                        id=\"header-position\"\n                                        onChange={() => {\n                                            this.handle_header_position();\n                                        }}\n                                        defaultChecked={\n                                            this.state.settings\n                                                .header_position === \"fixed\"\n                                        }\n                                    />\n                                    <label\n                                        className=\"custom-control-label\"\n                                        htmlFor=\"header-position\"\n                                    >\n                                        固定顶部\n                                    </label>\n                                </div>\n                                <div className=\"custom-control custom-checkbox mt-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"custom-control-input\"\n                                        name=\"boxed-layout\"\n                                        id=\"boxed-layout\"\n                                        defaultChecked={\n                                            this.state.settings.boxed_layout ===\n                                            \"boxed\"\n                                        }\n                                        onChange={() => {\n                                            this.handle_boxed_layout();\n                                        }}\n                                    />\n                                    <label\n                                        className=\"custom-control-label\"\n                                        htmlFor=\"boxed-layout\"\n                                    >\n                                        盒装布局\n                                    </label>\n                                </div>\n                            </div>\n                            <div className=\"p-3 border-bottom\">\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    LOGO 背景\n                                </h5>\n                                <ul className=\"theme-color\">\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            1\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin1\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            2\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin2\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            3\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin3\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            4\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin4\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            5\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin5\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_logo_backgrounds.bind(\n                                            this,\n                                            6\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-logobg=\"skin6\"\n                                        />\n                                    </li>\n                                </ul>\n                            </div>\n                            <div className=\"p-3 border-bottom\">\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    导航栏背景\n                                </h5>\n                                <ul className=\"theme-color\">\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            1\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin1\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            2\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin2\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            3\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin3\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            4\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin4\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            5\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin5\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_navbar_backgrounds.bind(\n                                            this,\n                                            6\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-navbarbg=\"skin6\"\n                                        />\n                                    </li>\n                                </ul>\n                            </div>\n                            <div className=\"p-3 border-bottom\">\n                                <h5 className=\"font-medium mb-2 mt-2\">\n                                    侧边栏背景\n                                </h5>\n                                <ul className=\"theme-color\">\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            1\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin1\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            2\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin2\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            3\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin3\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            4\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin4\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            5\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin5\"\n                                        />\n                                    </li>\n                                    <li\n                                        className=\"theme-item\"\n                                        onClick={this.handle_sidebar_backgrounds.bind(\n                                            this,\n                                            6\n                                        )}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"theme-link\"\n                                            data-sidebarbg=\"skin6\"\n                                        />\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n\n                        <div\n                            className={[\n                                \"tab-pane fade\",\n                                this.state.nav_show == 2 && \"active show\",\n                            ].join(\" \")}\n                            id=\"chat\"\n                            role=\"tabpanel\"\n                            aria-labelledby=\"pills-profile-tab\"\n                        >\n                            <ul className=\"mailbox list-style-none mt-3\">\n                                <li>\n                                    <div\n                                        className=\"message-center chat-scroll\"\n                                        style={{ display: \"none\" }}\n                                    >\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_1\"\n                                            data-user-id=\"1\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/1.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status online pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Pavan kumar\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:30 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_2\"\n                                            data-user-id=\"2\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/2.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status busy pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Sonu Nigam\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    I've sung a song! See you at\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:10 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_3\"\n                                            data-user-id=\"3\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/3.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status away pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Arijit Sinh\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    I am a singer!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:08 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_4\"\n                                            data-user-id=\"4\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/4.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Nirav Joshi\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_5\"\n                                            data-user-id=\"5\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/5.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Sunil Joshi\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_6\"\n                                            data-user-id=\"6\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/6.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Akshay Kumar\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_7\"\n                                            data-user-id=\"7\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/7.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Pavan kumar\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n\n                                        <a\n                                            href=\"#!\"\n                                            className=\"message-item\"\n                                            id=\"chat_user_8\"\n                                            data-user-id=\"8\"\n                                        >\n                                            <span className=\"user-img\">\n                                                <img\n                                                    src=\"../../assets/images/users/8.jpg\"\n                                                    alt=\"user\"\n                                                    className=\"rounded-circle\"\n                                                />\n                                                <span className=\"profile-status offline pull-right\" />\n                                            </span>\n                                            <div className=\"mail-contnet\">\n                                                <h5 className=\"message-title\">\n                                                    Varun Dhavan\n                                                </h5>\n                                                <span className=\"mail-desc\">\n                                                    Just see the my admin!\n                                                </span>\n                                                <span className=\"time\">\n                                                    9:02 AM\n                                                </span>\n                                            </div>\n                                        </a>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n\n                        <div\n                            className={[\n                                \"tab-pane fade\",\n                                this.state.nav_show == 3 && \"active show\",\n                            ].join(\" \")}\n                            id=\"pills-contact\"\n                            role=\"tabpanel\"\n                            aria-labelledby=\"pills-contact-tab\"\n                        >\n                            <h6 className=\"mt-3 mb-3\">Activity Timeline</h6>\n                            <div\n                                className=\"steamline\"\n                                style={{ display: \"none\" }}\n                            >\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left bg-success\">\n                                        <i className=\"ti-user\" />\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Meeting today\n                                            <span className=\"sl-date\">\n                                                {\" \"}\n                                                5pm\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            you can write anything{\" \"}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left bg-info\">\n                                        <i className=\"fas fa-image\" />\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Send documents to Clark\n                                        </div>\n                                        <div className=\"desc\">\n                                            Lorem Ipsum is simply{\" \"}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left\">\n                                        <img\n                                            className=\"rounded-circle\"\n                                            alt=\"user\"\n                                            src=\"../../assets/images/users/2.jpg\"\n                                        />{\" \"}\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Go to the Doctor\n                                            <span className=\"sl-date\">\n                                                5 minutes ago\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            Contrary to popular belief\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left\">\n                                        <img\n                                            className=\"rounded-circle\"\n                                            alt=\"user\"\n                                            src=\"../../assets/images/users/1.jpg\"\n                                        />{\" \"}\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div>\n                                            <a href=\"#!\">Stephen</a>\n                                            <span className=\"sl-date\">\n                                                5 minutes ago\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            Approve meeting with tiger\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left bg-primary\">\n                                        <i className=\"ti-user\" />\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Meeting today\n                                            <span className=\"sl-date\">\n                                                {\" \"}\n                                                5pm\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            you can write anything{\" \"}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left bg-info\">\n                                        <i className=\"fas fa-image\" />\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Send documents to Clark\n                                        </div>\n                                        <div className=\"desc\">\n                                            Lorem Ipsum is simply{\" \"}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left\">\n                                        <img\n                                            className=\"rounded-circle\"\n                                            alt=\"user\"\n                                            src=\"../../assets/images/users/4.jpg\"\n                                        />{\" \"}\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div className=\"font-medium\">\n                                            Go to the Doctor\n                                            <span className=\"sl-date\">\n                                                5 minutes ago\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            Contrary to popular belief\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"sl-item\">\n                                    <div className=\"sl-left\">\n                                        <img\n                                            className=\"rounded-circle\"\n                                            alt=\"user\"\n                                            src=\"../../assets/images/users/6.jpg\"\n                                        />{\" \"}\n                                    </div>\n                                    <div className=\"sl-right\">\n                                        <div>\n                                            <a href=\"#!\">Stephen</a>\n                                            <span className=\"sl-date\">\n                                                5 minutes ago\n                                            </span>\n                                        </div>\n                                        <div className=\"desc\">\n                                            Approve meeting with tiger\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div\n                        className=\"ps-scrollbar-x-rail\"\n                        style={{ left: \"0px\", bottom: \"0px\" }}\n                    >\n                        <div\n                            className=\"ps-scrollbar-x\"\n                            tabIndex=\"0\"\n                            style={{ left: \"0px\", width: \"0px\" }}\n                        />\n                    </div>\n                </div>\n            </aside>\n        );\n    }\n}\nexport default Customizer;\n","/Users/luohai/web/git/react-youyan-authorize/src/components/footer/footer.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/components/breadcrumb/breadcrumb.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/components/loading/loading.js",["373"],"/Users/luohai/web/git/react-youyan-authorize/src/fakedelay.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/loading.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/auth.js",["374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405"],"import React from \"react\";\nimport { connect } from \"react-redux\";\nimport webapi from \"@/utils/webapi\";\nimport Basic_Component from \"@/components/base/basic_component.js\";\nimport styles from \"@/styles/auth.less\";\nimport item from \"./auth_item\";\nimport Eyes_open from \"@/images/eyes_open.png\";\nimport Eyes_close from \"@/images/eyes_close.png\";\nimport Invite_person from \"@/images/invite_person.png\";\nconst original_captcha_url = \"/authorize/auth/captcha?reset=1&height=40\";\nconsole.log(\"data=>\", styles);\nclass Auth extends Basic_Component {\n    /**\n     * 构造\n     */\n    constructor(props) {\n        super(props);\n    }\n\n    __init_state_after() {\n        return {\n            input_disabled: false, //邀请人输入框\n            captcha_btn_disabled: false,\n            eyes_state: false,\n            method: this.props.match.params.method || \"login\",\n            data: {\n                captcha_number: \"\", //图形验证码\n                password: \"\", //密码\n                captcha_mobile: \"\", //手机验证码\n                mobile: \"\", //手机号\n                invite_uid: \"\", //邀请人\n            },\n            captcha_mobile: true,\n            captcha: true,\n            captcha_url: original_captcha_url,\n            u_action: null,\n        };\n    }\n\n    /**\n     * render 渲染  4=render\n     * @return obj\n     */\n    render() {\n        return (\n            <div className={styles.container}>\n                <div className={styles.auth}>{this.__method(\"render\")}</div>\n            </div>\n        );\n    }\n    /*----------------------1 other start----------------------*/\n    close_window(){\n        webapi.utils.close_window();\n    }\n    /**\n     * 对话框\n     * @param content 对话框内容\n     * @return void\n     **/\n    modal(message) {\n        // alert(message);\n        webapi.modal.error({\n            content: message,\n        });\n    }\n    redirect(data) {\n        var url = data.redirect || \"\";\n        var method = data.method || \"\";\n        if (method !== \"\" && method in this) {\n            return this[method](data);\n        }\n        var reg = /http(s)?:\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- .\\/?%&=]*)?/;\n        var objExp = new RegExp(reg);\n        if (objExp.test(url) == true) {\n            window.location.replace(url);\n        } else {\n            window.location.replace(\"/\" + (url || \"\"));\n        }\n    }\n    settnterval() {\n        this.__setinterval(\n            59,\n            (count) => {\n                this.setState({\n                    valicode_text: \"重新获取(\" + count + \")\",\n                    auth_btn_disabled: false,\n                    captcha_btn_disabled: true,\n                });\n            },\n            1000,\n            () => {\n                this.setState({\n                    valicode_text: \"重新获取\",\n                    captcha_btn_disabled: false,\n                });\n            }\n        );\n    }\n    is_mobile_available(mobile) {\n        var reg = /^[1][3,4,5,6,7,8,9][0-9]{9}$/;\n        if (!reg.test(mobile)) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n    async check() {\n        var data = await webapi.ajax.get(\"authorize/auth/check\");\n    }\n    /*----------------------1 other end  ----------------------*/\n\n    /*----------------------2 init start----------------------*/\n    __init_login() {\n        this.check();\n    }\n    __init_mobile() {\n        this.check();\n    }\n    __init_unbind() {\n        this.check();\n    }\n    async init_mobile_bind() {\n        var data = await webapi.ajax.post(\"authorize/auth/mobile_bind\");\n        if (data.status === \"success\") {\n            this.setState({\n                data: { ...this.state.data, user_name: data.data.fdsf },\n            });\n        }\n    }\n    __init_forgot_password() {\n        this.setState({ u_action: \"exist\" });\n    }\n\n    /*----------------------2 init end  ----------------------*/\n\n    /*----------------------3 handle start----------------------*/\n    async handle_forgot_password(u_action) {\n        this.state.data.u_action = u_action;\n        if (u_action == \"exist\") {\n            if (!this.state.data.mobile) {\n                return this.modal(\"请输入手机号\");\n            }\n        }\n        if (u_action == \"captcha\") {\n            if (!this.state.data.user_id) {\n                return this.modal(\"请输入手机号\");\n            }\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n        if (!this.state.data.captcha_number) {\n            return this.modal(\"请输入验证码\");\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/auth/forgot_password\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            this.setState({\n                data: { ...this.state.data, password: \"\", captcha_number: \"\" },\n            });\n            this.handle_chang_captcha_mobile();\n            return this.modal(data.message);\n        }\n        if (u_action == \"exist\") {\n            this.setState({\n                u_action: \"captcha\",\n                data: {\n                    ...this.state.data,\n                    user_id: data.data.user_id,\n                    u_action: \"captcha\",\n                    captcha_number: \"\",\n                },\n            });\n            this.handle_chang_captcha_mobile();\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                u_action: \"captcha\",\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            this.redirect(data);\n        }\n    }\n    /**\n     * 注册处理\n     **/\n    async handle_register(u_action) {\n        this.state.data.u_action = u_action;\n        this.state.data.account_type = \"mobile\";\n        if (!this.state.data.mobile) {\n            return this.modal(\"请输入手机号\");\n        }\n        if (!this.is_mobile_available(this.state.data.mobile)) {\n            return this.modal(\"请输入手机号\");\n        }\n        if (u_action == \"captcha\") {\n            if (!this.state.data.captcha_number) {\n                return this.modal(\"请输入图片验证码\");\n            }\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.user_id) {\n                return this.modal(\"请获取验证码\");\n            }\n            if (!this.state.data.captcha_mobile) {\n                return this.modal(\"请输入短信验证码\");\n            }\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/auth/register\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            if (u_action == \"captcha\") {\n                this.handle_chang_captcha_mobile();\n                this.setState({\n                    data: { ...this.state.data, captcha_number: \"\" },\n                });\n            }\n            if (u_action == \"activate\") {\n                this.setState({\n                    data: { ...this.state.data, captcha_mobile: \"\" },\n                });\n            }\n            return this.modal(data.message);\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: Math.random() },\n            });\n        }\n        if (u_action == \"activate\") {\n            this.redirect(data);\n        }\n    }\n    /**\n     * 刷新验证码\n     **/\n    handle_chang_captcha_mobile = () => {\n        if (this.state.captcha_btn_disabled) {\n            return false;\n        }\n        this.setState({\n            captcha_url: original_captcha_url + \"&r=\" + Math.random(),\n        });\n    };\n\n    /**\n     * 手机号输入框处理\n     **/\n    handel_change_mobile(event) {\n        var val = event.target.value.replace(/[^\\d]/g, \"\");\n        if (val.length > 11) {\n            return false;\n        }\n        this.setState({\n            data: { ...this.state.data, mobile: val },\n        });\n    }\n\n    /**\n     * 密码输入框处理\n     **/\n    handel_change_password(event) {\n        var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        if (val.length > 20) {\n            return false;\n        }\n        this.setState({\n            data: { ...this.state.data, password: val },\n        });\n    }\n    /**\n     * confirm 密码输入框处理\n     **/\n    handel_change_confirm_password(event) {\n        var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        if (val.length > 20) {\n            return false;\n        }\n        this.setState({\n            data: { ...this.state.data, confirm_password: val },\n        });\n    }\n    /**\n     * 验证码输入框处理\n     **/\n    handel_change_captcha_number = (event) => {\n        var val = event.target.value.replace(/[^\\d]/g, \"\");\n        if (val.length > 4) {\n            return false;\n        }\n        this.setState({\n            data: { ...this.state.data, captcha_number: val },\n        });\n    };\n    /**\n     * 验证码输入框处理\n     **/\n    handel_change_captcha_mobile = (event) => {\n        var val = event.target.value.replace(/[^\\d]/g, \"\");\n        if (val.length > 6) {\n            return false;\n        }\n        this.setState({\n            data: { ...this.state.data, captcha_mobile: val },\n        });\n    };\n    handel_keyup(v, e) {\n        if (e.keyCode === 13) {\n            if (v == \"login\") {\n                return this.handle_login();\n            }\n            if (v == \"again\") {\n                return this.handle_again();\n            }\n            if (v == \"mobile\") {\n                return this.handle_mobile();\n            }\n        }\n    }\n    /**\n     *更改眼睛状态\n     **/\n    handle_change_eye_state() {\n        this.setState({\n            eyes_state: !this.state.eyes_state,\n        });\n    }\n    /**\n     *退出登录\n     **/\n\n    async handle_logout() {\n        var data = await webapi.ajax.post(\"authorize/auth/logout\");\n    }\n    /**\n     * 登录处理\n     **/\n    async handle_login() {\n        if (!this.state.data.mobile) {\n            return this.modal(\"请输入手机号\");\n        }\n        if (!this.state.data.password) {\n            return this.modal(\"请输入密码\");\n        }\n        if (this.state.captcha && !this.state.data.captcha_number) {\n            return this.modal(\"请输入验证码\");\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/auth/login\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            this.setState({\n                data: { ...this.state.data, password: \"\", captcha_number: \"\" },\n            });\n            this.handle_chang_captcha_mobile();\n            return this.modal(data.message);\n        }\n        webapi.cache.set(\"field\", data.field || \"\");\n        this.redirect(data);\n    }\n\n    /**\n     * 登录处理\n     **/\n    async handle_mobile(u_action) {\n        if (!this.state.data.mobile) {\n            return this.modal(\"请输入手机号\");\n        }\n        if (!this.is_mobile_available(this.state.data.mobile)) {\n            return this.modal(\"请输入手机号\");\n        }\n        if (this.state.captcha_mobile && !this.state.data.captcha_number) {\n            return this.modal(\"请输入验证码\");\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.captcha_mobile) {\n                return this.modal(\"请输入验证码\");\n            }\n            if (!this.state.data.user_id) {\n                return this.modal(\"请获取验证码\");\n            }\n        }\n        if (u_action == \"captcha\") {\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n\n        this.state.data.u_action = u_action;\n        var data = await webapi.ajax.post(\n            \"authorize/auth/mobile\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            this.setState({\n                data: { ...this.state.data, captcha_mobile: \"\" },\n            });\n            this.handle_chang_captcha_mobile();\n            return this.modal(data.message);\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            this.redirect(data);\n        }\n    }\n    /**\n     * again 处理\n     **/\n    async handle_again(u_action) {\n        if (this.state.captcha_mobile && !this.state.data.captcha_number) {\n            return this.modal(\"请输入图片验证码\");\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.captcha_mobile) {\n                return this.modal(\"请输入短信验证码\");\n            }\n            if (!this.state.data.user_id) {\n                return this.modal(\"请获取验证码\");\n            }\n        }\n        if (u_action == \"captcha\") {\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n\n        this.state.data.u_action = u_action;\n        var data = await webapi.ajax.post(\n            \"authorize/auth/again\",\n            this.state.data\n        );\n        if (data.code === 11002) {\n            return this.redirect(data);\n        }\n        if (data.status === \"failure\") {\n            this.setState({\n                data: { ...this.state.data, captcha_mobile: \"\" },\n            });\n            this.handle_chang_captcha_mobile();\n            return this.modal(data.message);\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            this.redirect(data);\n        }\n    }\n    /**\n     * unbind 处理\n     **/\n    async handle_unbind(u_action) {\n        if (this.state.captcha_mobile && !this.state.data.captcha_number) {\n            return this.modal(\"请输入图片验证码\");\n        }\n        var d = [];\n        if (u_action == \"captcha\") {\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n            d.captcha_number = \"\";\n        }\n\n        if (u_action == \"activate\") {\n            if (!this.state.data.captcha_mobile) {\n                return this.modal(\"请输入短信验证码\");\n            }\n            if (!this.state.data.user_id) {\n                return this.modal(\"请获取验证码\");\n            }\n            d.captcha_mobile = \"\";\n        }\n        this.setState({\n            captcha_btn_disabled: true,\n        });\n        this.state.data.u_action = u_action;\n        var data = await webapi.ajax.post(\"authorize/auth/unbind\", {\n            ...webapi.utils.query(),\n            ...this.state.data,\n        });\n        this.setState({\n            captcha_btn_disabled: false,\n        });\n        if (data.code === 11002) {\n            return this.redirect(data);\n        }\n        if (data.status === \"failure\") {\n            this.setState({\n                data: { ...this.state.data, ...d },\n            });\n            this.handle_chang_captcha_mobile();\n            return this.modal(data.message);\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            this.redirect(data);\n        }\n    }\n\n    /**\n     * 邀请人输入框\n     */\n    handle_reference() {\n        this.setState({ input_disabled: true });\n    }\n    /**\n     * 输入邀请人账号\n     */\n    handel_change_invite_uid(event) {\n        var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        if (val.length === 0) {\n            return false;\n        }\n        this.setState({\n            data: { ...this.state.data, invite_uid: val },\n        });\n    }\n    /*----------------------3 handle end  ----------------------*/\n\n    /*----------------------4 render start----------------------*/\n    /**\n     * render 渲染  首页\n     * @return obj\n     */\n    render_index() {\n        return this.render_login();\n    }\n    /**\n     * render 渲染  登录\n     * @return obj\n     */\n    render_login() {\n        return (\n            <div className={styles.content}>\n                <h3>账号登录</h3>\n                <div className={styles.ul}>\n                    <item.account\n                        onChange={this.handel_change_mobile.bind(this)}\n                        value={this.state.data.mobile}\n                        onKeyUp={this.handel_keyup.bind(this, \"login\")}\n                        placeholder=\"请输入手机号\"\n                        autocomplete\n                    />\n                    <item.password\n                        onChange={this.handel_change_password.bind(this)}\n                        value={this.state.data.password}\n                        onKeyUp={this.handel_keyup.bind(this, \"login\")}\n                        eyes_state={this.state.eyes_state}\n                        eyes_icon={\n                            this.state.eyes_state ? Eyes_open : Eyes_close\n                        }\n                        handle_change_eye_state={this.handle_change_eye_state.bind(\n                            this\n                        )}\n                    />\n                    {this.state.captcha ? (\n                        <item.captcha_number\n                            onChange={this.handel_change_captcha_number.bind(\n                                this\n                            )}\n                            captcha_url={this.state.captcha_url}\n                            value={this.state.data.captcha_number}\n                            chang_captcha={this.handle_chang_captcha_mobile}\n                            onKeyUp={this.handel_keyup.bind(this, \"login\")}\n                        />\n                    ) : (\n                        \"\"\n                    )}\n                    <item.bottom\n                        links={[\n                            {\n                                text: \"验证码登录\",\n                                href: \"/authorize/auth/mobile\",\n                            },\n                            {\n                                text: \"忘记密码\",\n                                href: \"/authorize/auth/forgot_password\",\n                            },\n                            {\n                                text: \"注册账号\",\n                                href: \"/authorize/auth/register\",\n                            },\n                        ]}\n                        button={{\n                            text: \"登录\",\n                            onclick: this.handle_login.bind(this),\n                        }}\n                    />\n                </div>\n            </div>\n        );\n    }\n    /**\n     * render 渲染  手机号登录账号\n     * @return obj\n     */\n    render_mobile() {\n        return (\n            <div className={styles.content}>\n                <h3>账号登录</h3>\n                <div className={styles.ul}>\n                    <item.account\n                        type=\"number\"\n                        text=\"手机号\"\n                        placeholder=\"请输入手机号\"\n                        onChange={this.handel_change_mobile.bind(this)}\n                        value={this.state.data.mobile}\n                        autocomplete\n                        disabled={this.state.captcha_btn_disabled}\n                    />\n                    <item.captcha_number\n                        onChange={this.handel_change_captcha_number}\n                        captcha_url={this.state.captcha_url}\n                        value={this.state.data.captcha_number}\n                        chang_captcha={this.handle_chang_captcha_mobile}\n                        disabled={this.state.captcha_btn_disabled}\n                    />\n                    <item.captcha_mobile\n                        valicode_text={this.state.valicode_text || \"获取验证码\"}\n                        onChange={this.handel_change_captcha_mobile}\n                        value={this.state.data.captcha_mobile}\n                        onKeyUp={this.handel_keyup.bind(this, \"mobile\")}\n                        onClick={this.handle_mobile.bind(this, \"captcha\")}\n                        captcha_btn_disabled={this.state.captcha_btn_disabled}\n                    />\n                    <item.bottom\n                        links={[\n                            { text: \"账号登录\", href: \"/authorize/auth/login\" },\n                            {\n                                text: \"忘记密码\",\n                                href: \"/authorize/auth/forgot_password\",\n                            },\n                            {\n                                text: \"注册账号\",\n                                href: \"/authorize/auth/register\",\n                            },\n                        ]}\n                        bottom={{ wechat: 1 }}\n                        button={{\n                            text: \"登录\",\n                            onclick: this.handle_mobile.bind(this, \"activate\"),\n                        }}\n                    />\n                </div>\n            </div>\n        );\n    }\n    /**\n     * render 渲染  绑定手机号\n     * @return obj\n     */\n    render_mobile_bind() {\n        return (\n            <div className={styles.content}>\n                <h3>账号登录</h3>\n                <div className={styles.ul}>\n                    <item.account\n                        type=\"number\"\n                        text=\"手机号\"\n                        placeholder=\"请输入手机号\"\n                        onChange={this.handel_change_mobile.bind(this)}\n                        value={this.state.data.mobile}\n                        autocomplete\n                        disabled={this.state.captcha_btn_disabled}\n                    />\n                    <item.captcha_number\n                        onChange={this.handel_change_captcha_number}\n                        captcha_url={this.state.captcha_url}\n                        value={this.state.data.captcha_number}\n                        chang_captcha={this.handle_chang_captcha_mobile}\n                        disabled={this.state.captcha_btn_disabled}\n                    />\n                    <item.captcha_mobile\n                        valicode_text={this.state.valicode_text || \"获取验证码\"}\n                        onChange={this.handel_change_captcha_mobile}\n                        value={this.state.data.captcha_mobile}\n                        onKeyUp={this.handel_keyup.bind(this, \"mobile\")}\n                        onClick={this.handle_mobile.bind(this, \"captcha\")}\n                        captcha_btn_disabled={this.state.captcha_btn_disabled}\n                    />\n                    <item.bottom\n                        links={[\n                            { text: \"账号登录\", href: \"/authorize/auth/login\" },\n                            {\n                                text: \"忘记密码\",\n                                href: \"/authorize/auth/forgot_password\",\n                            },\n                            {\n                                text: \"注册账号\",\n                                href: \"/authorize/auth/register\",\n                            },\n                        ]}\n                        bottom={{ wechat: 1 }}\n                        button={{\n                            text: \"登录\",\n                            onclick: this.handle_mobile.bind(this, \"activate\"),\n                        }}\n                    />\n                </div>\n            </div>\n        );\n    }\n    /**\n     * render 渲染  忘记密码\n     * @return obj\n     */\n    render_forgot_password() {\n        return (\n            <>\n                {\" \"}\n                {this.state.u_action == \"exist\" ? (\n                    <div className={styles.content}>\n                        <h3>找回密码</h3>\n                        <div className={styles.ul}>\n                            <item.account\n                                text=\"登录账号\"\n                                placeholder=\"请输入手机号\"\n                                onChange={this.handel_change_mobile.bind(this)}\n                                value={this.state.data.mobile}\n                                autocomplete\n                            />\n                            <item.captcha_number\n                                onChange={this.handel_change_captcha_number.bind(\n                                    this\n                                )}\n                                captcha_url={this.state.captcha_url}\n                                value={this.state.data.captcha_number}\n                                chang_captcha={this.handle_chang_captcha_mobile.bind(\n                                    this\n                                )}\n                            />\n                            <item.bottom\n                                links={[\n                                    {\n                                        text: \"登录账号\",\n                                        href: \"/authorize/auth/login\",\n                                    },\n                                    {\n                                        text: \"注册账号\",\n                                        href: \"/authorize/auth/register\",\n                                    },\n                                ]}\n                                button={{\n                                    text: \"下一步\",\n                                    onclick: this.handle_forgot_password.bind(\n                                        this,\n                                        \"exist\"\n                                    ),\n                                }}\n                            />\n                        </div>\n                    </div>\n                ) : (\n                    <div className={styles.content}>\n                        <h3>更新密码</h3>\n                        <div className={styles.ul}>\n                            <item.captcha_number\n                                onChange={this.handel_change_captcha_number.bind(\n                                    this\n                                )}\n                                captcha_url={this.state.captcha_url}\n                                value={this.state.data.captcha_number}\n                                chang_captcha={this.handle_chang_captcha_mobile.bind(\n                                    this\n                                )}\n                            />\n\n                            <item.captcha_mobile\n                                valicode_text={\n                                    this.state.valicode_text || \"获取验证码\"\n                                }\n                                onChange={this.handel_change_captcha_mobile.bind(\n                                    this\n                                )}\n                                value={this.state.data.captcha_mobile}\n                                onKeyUp={this.handel_keyup.bind(this, \"mobile\")}\n                                onClick={this.handle_forgot_password.bind(\n                                    this,\n                                    \"captcha\"\n                                )}\n                                captcha_btn_disabled={\n                                    this.state.captcha_btn_disabled\n                                }\n                            />\n\n                            <item.password\n                                onChange={this.handel_change_password.bind(\n                                    this\n                                )}\n                                value={this.state.data.password}\n                                id=\"password\"\n                            />\n\n                            <item.bottom\n                                links={[\n                                    {\n                                        text: \"登录账号\",\n                                        href: \"/authorize/auth/login\",\n                                    },\n                                    {\n                                        text: \"注册账号\",\n                                        href: \"/authorize/auth/register\",\n                                    },\n                                ]}\n                                button={{\n                                    text: \"重置\",\n                                    onclick: this.handle_forgot_password.bind(\n                                        this,\n                                        \"activate\"\n                                    ),\n                                }}\n                            />\n                        </div>\n                    </div>\n                )}{\" \"}\n            </>\n        );\n    }\n    /**\n     * 注册账号\n     **/\n    render_register() {\n        return (\n            <div className={styles.content}>\n                <h3>账号注册</h3>\n                <div className={styles.ul}>\n                    <item.account\n                        type=\"number\"\n                        text=\"手机号\"\n                        placeholder=\"请输入手机号\"\n                        onChange={this.handel_change_mobile.bind(this)}\n                        value={this.state.data.mobile}\n                    />\n                    <item.captcha_number\n                        onChange={this.handel_change_captcha_number}\n                        captcha_url={this.state.captcha_url}\n                        value={this.state.data.captcha_number}\n                        chang_captcha={this.handle_chang_captcha_mobile}\n                    />\n                    <item.captcha_mobile\n                        valicode_text={this.state.valicode_text || \"获取验证码\"}\n                        onChange={this.handel_change_captcha_mobile}\n                        value={this.state.data.captcha_mobile}\n                        onKeyUp={this.handel_keyup.bind(this, \"register\")}\n                        onClick={this.handle_register.bind(this, \"captcha\")}\n                        captcha_btn_disabled={this.state.captcha_btn_disabled}\n                    />\n                    <item.invite_person\n                        icon={Invite_person}\n                        input_disabled={this.state.input_disabled}\n                        on_click_reference={this.handle_reference.bind(this)}\n                        value={this.state.data.invite_uid}\n                        onKeyUp={this.handel_keyup.bind(this, \"register\")}\n                        onChange={this.handel_change_invite_uid.bind(this)}\n                    />\n                    <item.bottom\n                        links={[\n                            {\n                                text: \"忘记密码\",\n                                href: \"/authorize/auth/forgot_password\",\n                            },\n                            { text: \"登录账号\", href: \"/authorize/auth/login\" },\n                        ]}\n                        button={{\n                            text: \"注册\",\n                            onclick: this.handle_register.bind(\n                                this,\n                                \"activate\"\n                            ),\n                        }}\n                    />\n                </div>\n            </div>\n        );\n    }\n    /**\n     * 验证账号\n     **/\n    render_again() {\n        return (\n            <item.content title=\"验证账号\">\n                <item.captcha_number\n                    onChange={this.handel_change_captcha_number}\n                    captcha_url={this.state.captcha_url}\n                    value={this.state.data.captcha_number}\n                    chang_captcha={this.handle_chang_captcha_mobile}\n                />\n                <item.captcha_mobile\n                    valicode_text={this.state.valicode_text || \"获取验证码\"}\n                    onChange={this.handel_change_captcha_mobile}\n                    value={this.state.data.captcha_mobile}\n                    onKeyUp={this.handel_keyup.bind(this, \"again\")}\n                    onClick={this.handle_again.bind(this, \"captcha\")}\n                    captcha_btn_disabled={this.state.captcha_btn_disabled}\n                />\n                <item.bottom\n                    links={[\n                        {\n                            text: \"切换账号\",\n                            href: \"/authorize/auth/login\",\n                            onClick: this.handle_logout.bind(this),\n                        },\n                        {\n                            text: \"忘记密码\",\n                            href: \"/authorize/auth/forgot_password\",\n                        },\n                        {\n                            text: \"注册账号\",\n                            href: \"/authorize/auth/register\",\n                        },\n                    ]}\n                    bottom={{ wechat: 1 }}\n                    button={{\n                        text: \"验证\",\n                        onclick: this.handle_again.bind(this, \"activate\"),\n                    }}\n                />\n            </item.content>\n        );\n    }\n    /**\n     * 解除绑定账号\n     **/\n    __render_unbind() {\n        return (\n            <item.content title=\"解除绑定\">\n                <item.captcha_number\n                    onChange={this.handel_change_captcha_number}\n                    captcha_url={this.state.captcha_url}\n                    value={this.state.data.captcha_number}\n                    chang_captcha={this.handle_chang_captcha_mobile}\n                />\n                <item.captcha_mobile\n                    valicode_text={this.state.valicode_text || \"获取验证码\"}\n                    onChange={this.handel_change_captcha_mobile}\n                    value={this.state.data.captcha_mobile}\n                    onKeyUp={this.handel_keyup.bind(this, \"again\")}\n                    onClick={() => {\n                        this.handle_unbind(\"captcha\");\n                    }}\n                    captcha_btn_disabled={this.state.captcha_btn_disabled}\n                />\n                <item.bottom\n                    bottom={{ wechat: 0 }}\n                    button={{\n                        text: \"解除绑定\",\n                        onclick: () => {\n                            this.handle_unbind(\"activate\");\n                        },\n                    }}\n                />\n            </item.content>\n        );\n    }\n    /*----------------------4 render end  ----------------------*/\n}\nexport default connect((store) => ({ ...store }))(Auth);","/Users/luohai/web/git/react-youyan-authorize/src/reducers/reducer.js",["406"],"const defaultState = {\n\tserver: {\n\t\tucdata: {},\n\t\tcolumns: [],\n\t\tmenus: []\n\t}, \n\tbreadcrumb: { lists: [], buttons: [] },\n\tloading: false\n};\nexport default (state = defaultState, action) => { \n\tvar newState = {...state}; \n\tif (action.type === \"LOADING\") { \n\t\tnewState.loading = action.state; \n\t}\n\tif (action.type === \"SERVER\") { \n\t\tnewState.server = { ...newState.server, ...action.data.server }; \n\t}\n\tif (action.type === \"BREADCRUMB\") { \n\t\tnewState.breadcrumb = action.data; \n\t}\n\tif (action.type === \"SIDEBAR\") {  \n\t\tnewState.server.columns = action.data; \n\t}\n\t// console.log('data=>',newState);\n\treturn newState;\n};\n","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/account.js",["407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from \"@/reducers/index.js\";\nimport webapi from \"@/utils/webapi\";\nimport Basic_Component from \"@/components/base/basic_component.js\";\nimport {\n    Menu,\n    Button,\n    Input,\n    Select,\n    Upload,\n    Form,\n    List,\n    Avatar,\n    Switch,\n    Row,\n    Col,\n    Cascader,\n    Space,\n    Tabs,\n} from \"antd\";\nimport * as icons from \"@ant-design/icons\";\nimport ImgCrop from \"antd-img-crop\";\nimport styles from \"./account.less\";\n\nconst BREADCRUMB = {\n    title: \"我的资料\",\n    lists: [{ title: \"我的资料\", url: \"/authorize/account/profile\" }],\n    //{ title: \"账号绑定\", url: \"/authorize/account/oauth\" }\n    //{ title: \"消息通知\", url: \"/authorize/account/notification\" }\n    buttons: [\n        { title: \"安全设置\", url: \"/authorize/account/security\" },\n        { title: \"基本设置\", url: \"/authorize/account/profile\" },\n    ],\n};\n\nconst original_captcha_url = \"/authorize/auth/captcha?reset=1&height=30\";\n\nclass Account extends Basic_Component {\n    formRef = React.createRef();\n    area = [];\n    /**\n     * 构造\n     */\n    constructor(props) {\n        super(props);\n    }\n    /**\n     * 面包屑导航\n     */\n    __breadcrumb(data = {}) {\n        super.__breadcrumb({ ...BREADCRUMB, ...data });\n    }\n\n    /**\n     * init_state 初始化状态 2=init\n     * @return obj\n     */\n\n    __init_state_after() {\n        // if (this.area.length === 0) {\n        //     this.get_area();\n        // }\n        this.__breadcrumb();\n        return {\n            ucdata: this.props.ucdata || {},\n            data: {},\n            area: [],\n        };\n    }\n\n    /*----------------------1 other start----------------------*/\n\n    async get_area(reset = false) {\n        var area = this.area;\n        if (reset || area.length == 0) {\n            var res = await webapi.ajax.get(\"server/area\");\n            if (res.code === 10000) {\n                this.area = area = res.lists;\n            }\n        }\n        return area;\n    }\n    //wait scan\n    get_oauth_state = async (type, id, modal) => {\n        var res = await webapi.ajax.get(\"authorize/account/oauth\", {\n            u_action: \"state\",\n            type,\n            id,\n        });\n        if (res.code === 10000) {\n            this.clearinterval();\n            modal && modal.destroy();\n            webapi.modal.success({\n                title: \"提示\",\n                content: res.message,\n                keyboard: false,\n                onOk: () => {\n                    this.__handle_init();\n                },\n            });\n        }\n    };\n    clearinterval() {\n        this.interval && window.clearInterval(this.interval);\n    }\n     \n\n    settnterval_Test() {\n        const { countDown } = this.props;\n        let count = countDown || 59;\n        this.setState({ count });\n        this.interval = window.setInterval(() => {\n            count -= 1;\n            this.setState({\n                valicode_text: \"重新获取(\" + count + \")\",\n                auth_btn_disabled: false,\n                captcha_btn_disabled: true,\n            });\n            if (count === 0) {\n                this.setState({\n                    valicode_text: \"重新获取\",\n                    captcha_btn_disabled: false,\n                });\n                clearInterval(this.interval);\n            }\n        }, 1000);\n    }\n    /**\n     * 刷新验证码\n     **/\n    handle_chang_captcha_mobile() {\n        if (this.state.captcha_btn_disabled) {\n            return false;\n        }\n        this.setState({\n            captcha_url: original_captcha_url + \"&r=\" + Math.random(),\n        });\n    }\n    /**\n     * 通知开关\n     **/\n    handle_notification_switch = (checked) => {};\n    /*----------------------1 other end----------------------*/\n\n    /*----------------------2 init start----------------------*/\n    async __init_profile() {\n        this.get_area().then((area) => {\n            this.setState({ area, area });\n        });\n        var res = await webapi.ajax.get(\"authorize/account/profile\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n    async __init_security() {\n        var res = await webapi.ajax.get(\"authorize/account/security\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata: { ...this.state.ucdata, ...ucdata } });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n\n    async __init_password() {\n        var res = await webapi.ajax.get(\"authorize/account/password\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata, captcha_url: original_captcha_url });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n    async __init_mobile() {\n        var res = await webapi.ajax.get(\"authorize/account/password\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata, captcha_url: original_captcha_url });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n    async __init_email() {\n        var res = await webapi.ajax.get(\"authorize/account/profile\");\n        if (res.code === 10000) {\n            const ucdata = res.data;\n            this.setState({ ucdata, captcha_url: original_captcha_url });\n            this.formRef.current && this.formRef.current.setFieldsValue(ucdata);\n        }\n    }\n    async __init_oauth() {\n        var res = await webapi.ajax.get(\"authorize/account/oauth\");\n        if (res.code === 10000) {\n            this.setState({ ucdata: { ...this.state.ucdata, ...res.data } });\n        }\n    }\n\n    /*----------------------2 init end----------------------*/\n\n    /*----------------------3 handle start----------------------*/\n\n    /**\n     * 更新\n     */\n    async handle_update_submit(values) {\n        const data = new FormData();\n        data.append(\"nickname\", values.nickname || \"\");\n        data.append(\"address\", values.address || \"\");\n        data.append(\"intro\", values.intro || \"\");\n        data.append(\"area_id\", this.state.area_id || \"\");\n        data.append(\"idcard\", this.state.idcard || \"\");\n        data.append(\"userrealname\", values.userrealname || \"\");\n        data.append(\"pseudonym\", values.pseudonym || \"\");\n        this.state.file && data.append(\"avatar\", this.state.file);\n        var res = await webapi.ajax.post(\n            \"authorize/account/profile\",\n            data,\n            null,\n            null,\n            null,\n            true\n        );\n        if (res.code === 10000) {\n            this.setState({ file: null });\n            webapi.message.success(res.message);\n            webapi.server();\n        } else {\n            webapi.message.error(res.message);\n        }\n    }\n    /**\n     * 业务 密码输入框\n     */\n    handle_change_input(v, event) {\n        if (v == \"mobile\") {\n            var val = event.target.value.replace(/[^\\d]/g, \"\");\n            if (val.length > 11) {\n                return false;\n            }\n            return this.setState({\n                data: { ...this.state.data, mobile: val },\n            });\n        }\n        if (v == \"email\") {\n            var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n            return this.setState({\n                data: { ...this.state.data, email: val },\n            });\n        }\n\n        if (v == \"captcha_number\") {\n            var val = event.target.value.replace(/[^\\d]/g, \"\");\n            if (val.length > 4) {\n                return false;\n            }\n            return this.setState({\n                data: { ...this.state.data, captcha_number: val },\n            });\n        }\n        if (v == \"captcha_mobile\") {\n            var val = event.target.value.replace(/[^\\d]/g, \"\");\n            if (val.length > 6) {\n                return false;\n            }\n            return this.setState({\n                data: { ...this.state.data, captcha_mobile: val },\n            });\n        }\n        if (v == \"password\") {\n            var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n            this.setState({\n                data: { ...this.state.data, password: val },\n            });\n        }\n    }\n    /**\n     * 业务 密码更新\n     */\n    handle_password_update = async (u_action) => {\n        this.state.data.u_action = u_action;\n        if (u_action == \"captcha\") {\n            if (!this.state.data.captcha_number) {\n                return webapi.modal.error({ content: \"请输入图形验证码\" });\n            }\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.user_id) {\n                return webapi.message.error({ content: \"请获取验证码\" });\n            }\n            if (!this.state.data.captcha_mobile) {\n                return webapi.message.error({ content: \"请输入短信验证码\" });\n            }\n            if (!this.state.data.password) {\n                return webapi.message.error({ content: \"请输入密码\" });\n            }\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/account/password\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            if (u_action == \"captcha\") {\n                this.handle_chang_captcha_mobile();\n            }\n            return webapi.message.error({ content: data.message });\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            webapi.message.success({ content: data.message });\n            // window.location.replace(\"/authorize/auth/login\");\n        }\n    };\n\n    /**\n     * 业务 手机绑定\n     */\n    handle_mobile_bind = async (u_action) => {\n        this.state.data.u_action = u_action;\n        if (u_action == \"captcha\") {\n            if (!this.state.data.mobile) {\n                return webapi.modal.error({ content: \"请输入手机号码\" });\n            }\n            if (!this.state.data.captcha_number) {\n                return webapi.modal.error({ content: \"请输入图形验证码\" });\n            }\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.user_id) {\n                return webapi.message.error({ content: \"请获取验证码\" });\n            }\n            if (!this.state.data.captcha_mobile) {\n                return webapi.message.error({ content: \"请输入短信验证码\" });\n            }\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/account/mobile\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            if (u_action == \"captcha\") {\n                this.handle_chang_captcha_mobile();\n            }\n            return webapi.message.error({ content: data.message });\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            webapi.message.success({ content: data.message });\n            this.props.history.push(\"/authorize/account/profile\");\n        }\n    };\n    /**\n     * 业务 email 绑定\n     */\n    handle_email_bind = async (u_action) => {\n        this.state.data.u_action = u_action;\n        if (u_action == \"captcha\") {\n            if (!this.state.data.email) {\n                return webapi.modal.error({ content: \"请输入电子邮件\" });\n            }\n            if (!this.state.data.captcha_number) {\n                return webapi.modal.error({ content: \"请输入图形验证码\" });\n            }\n            if (this.state.captcha_btn_disabled) {\n                return false;\n            }\n        }\n        if (u_action == \"activate\") {\n            if (!this.state.data.user_id) {\n                return webapi.message.error({ content: \"请获取验证码\" });\n            }\n            if (!this.state.data.captcha_mobile) {\n                return webapi.message.error({\n                    content: \"请输入电子邮件验证码\",\n                });\n            }\n        }\n        var data = await webapi.ajax.post(\n            \"authorize/account/email\",\n            this.state.data\n        );\n        if (data.status === \"failure\") {\n            if (u_action == \"captcha\") {\n                this.handle_chang_captcha_mobile();\n            }\n            return webapi.message.error({ content: data.message });\n        }\n        if (u_action == \"captcha\") {\n            this.settnterval();\n            this.setState({\n                data: { ...this.state.data, user_id: data.data.user_id },\n            });\n        }\n        if (u_action == \"activate\") {\n            webapi.message.success({ content: data.message });\n            this.props.history.push(\"/authorize/account/profile\");\n        }\n    };\n\n    /**\n     *\n     **/\n\n    handle_oauth = async (type, id) => {\n        this.clearinterval();\n        var data = await webapi.ajax.get(\"authorize/account/oauth\", {\n            u_action: \"qrcode\",\n            type,\n            id,\n        });\n        if (data.code === 10000) {\n            const content = (\n                <div style={{ position: \"relative\" }}>\n                    <img src={data.data.url} width=\"300\" alt=\"加载中\" />\n                </div>\n            );\n            const modal = webapi.modal.warning({\n                title: data.message,\n                content: content,\n                keyboard: false,\n                onOk: () => {\n                    this.clearinterval();\n                },\n            });\n\n            this.setinterval(\n                200,\n                () => {\n                    this.get_oauth_state(type, id, modal);\n                },\n                2000,\n                () => {\n                    const content_update = (\n                        <div style={{ position: \"relative\" }}>\n                            <img src={data.data.url} width=\"300\" alt=\"加载中\" />\n                            <div\n                                className=\"alt\"\n                                onClick={() => {\n                                    modal&&modal.destroy();\n                                    this.handle_oauth(type, id);\n                                }}\n                            >\n                                >\n                                <div className=\"void\">\n                                    <i className=\"fa fa-refresh\"></i>\n                                    <p className=\"txt\">二维码失效，点击刷新</p>\n                                </div>\n                                <div className=\"mask\"></div>\n                            </div>\n                        </div>\n                    );\n\n                    modal.update({\n                        content: content_update,\n                    });\n                }\n            );\n        }\n    };\n    handle_profile_area_id = (value) => {\n        var area_id = value[value.length - 1];\n        if (area_id != this.state.area_id) {\n            this.setState({\n                area_id: area_id,\n            });\n        }\n    };\n    handle_blur_idcard = async (event) => {\n        if (this.state.idcard) {\n            var data = await webapi.ajax.post(\"authorize/account/idcard\", {\n                idcard: this.state.idcard,\n            });\n            if (data.code === 10000) {\n                this.setState({\n                    ucdata: {\n                        ...this.state.ucdata,\n                        idcard_model: data.idcard_model,\n                    },\n                });\n            }\n        }\n    };\n    handle_change_idcard = (event) => {\n        var val = event.target.value.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        if (val != \"\") {\n            this.setState({\n                idcard: val,\n            });\n        }\n    };\n    handle_upload_before = (options, file, base64Data) => {\n        this.setState({\n            file: file,\n            ucdata: {\n                ...this.state.ucdata,\n                avatar: base64Data,\n            },\n        });\n    };\n\n    /*----------------------3 handle end----------------------*/\n\n    /*----------------------4 render start----------------------*/\n    /**\n     * 更改手机\n     **/\n    __render_mobile() {\n        const state = this.state;\n        const { data, ucdata } = state;\n\n        return (\n            <Form {...this.__form_item_layout()}>\n                <Form.Item label=\"手机号码\">\n                    <Input\n                        type={\"number\"}\n                        placeholder=\"请输入手机号码\"\n                        value={data.mobile}\n                        onChange={(t) => {\n                            this.handle_change_input(\"mobile\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item label=\"图形验证码\">\n                    <Form.Item\n                        noStyle\n                        rules={[\n                            { required: true, message: \"Username is required\" },\n                        ]}\n                    >\n                        <Input\n                            type={\"number\"}\n                            maxLength={4}\n                            placeholder=\"请输入验证码\"\n                            value={data.captcha_number}\n                            onChange={(t) => {\n                                this.handle_change_input(\"captcha_number\", t);\n                            }}\n                            addonAfter={\n                                <img\n                                    src={state.captcha_url}\n                                    onClick={this.handle_chang_captcha_mobile.bind(\n                                        this\n                                    )}\n                                />\n                            }\n                        />\n                    </Form.Item>\n                    <a\n                        href=\"#\"\n                        style={{ margin: \"0 8px\" }}\n                        onClick={() => {\n                            this.handle_mobile_bind(\"captcha\");\n                        }}\n                    >\n                        {state.valicode_text || \"获取验证码\"}\n                    </a>\n                </Form.Item>\n                <Form.Item label=\"短信验证码\">\n                    <Input\n                        type={\"number\"}\n                        maxLength={6}\n                        placeholder=\"请输入验证码\"\n                        value={data.captcha_mobile}\n                        onChange={(t) => {\n                            this.handle_change_input(\"captcha_mobile\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item {...this.__tail_layout()}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            this.handle_mobile_bind(\"activate\");\n                        }}\n                    >\n                        绑定手机\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n    /**\n     * 更改email\n     **/\n    __render_email() {\n        const state = this.state;\n        const { data, ucdata } = state;\n        return (\n            <Form {...this.__form_item_layout()}>\n                <Form.Item label=\"电子邮件\">\n                    <Input\n                        placeholder=\"请输入电子邮件\"\n                        value={data.email}\n                        onChange={(t) => {\n                            this.handle_change_input(\"email\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item label=\"图形验证码\">\n                    <Form.Item\n                        noStyle\n                        rules={[\n                            { required: true, message: \"Username is required\" },\n                        ]}\n                    >\n                        <Input\n                            type={\"number\"}\n                            maxLength={4}\n                            placeholder=\"请输入验证码\"\n                            value={data.captcha_number}\n                            onChange={(t) => {\n                                this.handle_change_input(\"captcha_number\", t);\n                            }}\n                            addonAfter={\n                                <img\n                                    src={state.captcha_url}\n                                    onClick={this.handle_chang_captcha_mobile.bind(\n                                        this\n                                    )}\n                                />\n                            }\n                        />\n                    </Form.Item>\n                    <a\n                        href=\"#\"\n                        style={{ margin: \"0 8px\" }}\n                        onClick={() => {\n                            this.handle_email_bind(\"captcha\");\n                        }}\n                    >\n                        {state.valicode_text || \"获取验证码\"}\n                    </a>\n                </Form.Item>\n                <Form.Item label=\"邮件验证码\">\n                    <Input\n                        type={\"number\"}\n                        maxLength={6}\n                        placeholder=\"请输入电子邮件验证码\"\n                        value={data.captcha_email}\n                        onChange={(t) => {\n                            this.handle_change_input(\"captcha_email\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item {...this.__tail_layout()}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            this.handle_email_bind(\"activate\");\n                        }}\n                    >\n                        绑定电子邮件\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n    /**\n     * 更改 password_protected\n     **/\n    __render_password_protected() {\n        const state = this.state;\n        const { data, ucdata } = state;\n        return (\n            <Form {...this.__form_item_layout()}>\n                <Form.Item label=\"图形验证码\">\n                    <Input.Group compact>\n                        <Select defaultValue=\"Sign Up\">\n                            <Select.Option value=\"Sign Up\">\n                                图形验证码图形验证码图形验证码图形验证码\n                            </Select.Option>\n                            <Select.Option value=\"Sign In\">\n                                Sign In\n                            </Select.Option>\n                        </Select>\n                        <Input\n                            placeholder=\"请输入电子邮件\"\n                            value={data.email}\n                            onChange={(t) => {\n                                this.handle_change_input(\"email\", t);\n                            }}\n                        />\n                    </Input.Group>\n                </Form.Item>\n                <Form.Item label=\"图形验证码\">\n                    <Form.Item\n                        noStyle\n                        rules={[\n                            { required: true, message: \"Username is required\" },\n                        ]}\n                    >\n                        <Input\n                            type={\"number\"}\n                            maxLength={4}\n                            placeholder=\"请输入验证码\"\n                            value={data.captcha_number}\n                            onChange={(t) => {\n                                this.handle_change_input(\"captcha_number\", t);\n                            }}\n                            addonAfter={\n                                <img\n                                    src={state.captcha_url}\n                                    onClick={this.handle_chang_captcha_mobile.bind(\n                                        this\n                                    )}\n                                />\n                            }\n                        />\n                    </Form.Item>\n                    <a\n                        href=\"#\"\n                        style={{ margin: \"0 8px\" }}\n                        onClick={() => {\n                            this.handle_email_bind(\"captcha\");\n                        }}\n                    >\n                        {state.valicode_text || \"获取验证码\"}\n                    </a>\n                </Form.Item>\n                <Form.Item label=\"邮件验证码\">\n                    <Input\n                        type={\"number\"}\n                        maxLength={6}\n                        placeholder=\"请输入电子邮件验证码\"\n                        value={data.captcha_email}\n                        onChange={(t) => {\n                            this.handle_change_input(\"captcha_email\", t);\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item {...this.__tail_layout()}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            this.handle_email_bind(\"activate\");\n                        }}\n                    >\n                        绑定电子邮件\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n\n    /**\n     * 更改密码\n     **/\n    __render_password() {\n        const state = this.state;\n        const { data, ucdata } = state;\n        var label = null;\n        var label_val = null;\n        if (ucdata.password === 10001 || ucdata.password === 20001) {\n            label = \"电子邮件\";\n            label_val = ucdata.email;\n        }\n        if (ucdata.password === 10002 || ucdata.password === 20002) {\n            label = \"手机号码\";\n            label_val = ucdata.mobile;\n        }\n        return (\n            <Form {...this.__form_item_layout()}>\n                <Form.Item label={label}>\n                    <div>{label_val}</div>\n                </Form.Item>\n                <Form.Item label=\"图形验证码\">\n                    <Form.Item\n                        noStyle\n                        rules={[\n                            { required: true, message: \"Username is required\" },\n                        ]}\n                    >\n                        <Input\n                            type={\"number\"}\n                            style={{ width: 160 }}\n                            maxLength={4}\n                            placeholder=\"请输入验证码\"\n                            value={data.captcha_number}\n                            onChange={(t) => {\n                                this.handle_change_input(\"captcha_number\", t);\n                            }}\n                        />\n                        <img\n                            src={state.captcha_url}\n                            onClick={this.handle_chang_captcha_mobile.bind(\n                                this\n                            )}\n                        />\n                    </Form.Item>\n                    <a\n                        href=\"#\"\n                        style={{ margin: \"0 8px\" }}\n                        onClick={() => {\n                            this.handle_password_update(\"captcha\");\n                        }}\n                    >\n                        {state.valicode_text || \"获取验证码\"}\n                    </a>\n                </Form.Item>\n                <Form.Item label=\"短信验证码\">\n                    <Input\n                        type={\"number\"}\n                        maxLength={6}\n                        placeholder=\"请输入验证码\"\n                        value={data.captcha_mobile}\n                        onChange={(t) => {\n                            this.handle_change_input(\"captcha_mobile\", t);\n                        }}\n                    />\n                </Form.Item>\n                <Form.Item\n                    label=\"密码\"\n                    rules={[{ required: true, message: \"请输入密码!\" }]}\n                    tooltip=\"请输入6-20位密码\"\n                >\n                    <Input.Password\n                        value={data.password}\n                        onChange={(t) => {\n                            this.handle_change_input(\"password\", t);\n                        }}\n                    />\n                </Form.Item>\n                <Form.Item {...this.__tail_layout()}>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            this.handle_password_update(\"activate\");\n                        }}\n                    >\n                        更改密码\n                    </Button>\n                </Form.Item>\n            </Form>\n        );\n    }\n    /**\n     * 个人资料 基本设置\n     **/\n    __render_profile() {\n        // console.log(this.state.ucdata);\n        const ucdata = this.state.ucdata;\n        var suffix = <span />;\n        if (ucdata.idcard_model) {\n            if (ucdata.idcard_model.gender == 1) {\n                suffix = (\n                    <icons.ManOutlined\n                        style={{\n                            fontSize: 16,\n                            color: \"#1890ff\",\n                        }}\n                    />\n                );\n            }\n            if (ucdata.idcard_model.gender == 2) {\n                suffix = (\n                    <icons.WomanOutlined\n                        style={{\n                            fontSize: 16,\n                            color: \"#FFC0CB\",\n                        }}\n                    />\n                );\n            }\n        }\n\n        return (\n            <div>\n                <div>\n                    <Form\n                        {...this.__form_item_layout()}\n                        ref={this.formRef}\n                        onFinish={this.handle_update_submit.bind(this)}\n                    >\n                        <Form.Item label=\"头像\">\n                            <ImgCrop rotate>\n                                <Upload\n                                    {...this.__upload_single_props({\n                                        success: this.handle_upload_before,\n                                    })}\n                                >\n                                    <Space align=\"center\" size=\"middle\">\n                                        <Avatar\n                                            size={64}\n                                            src={ucdata.avatar}\n                                            onError={<icons.UserOutlined />}\n                                        />\n\n                                        <Button icon={<icons.UploadOutlined />}>\n                                            更换头像\n                                        </Button>\n                                    </Space>\n                                </Upload>\n                            </ImgCrop>\n                        </Form.Item>\n                        <Form.Item name=\"nickname\" label=\"昵称\">\n                            <Input />\n                        </Form.Item>\n                        <Form.Item name=\"pseudonym\" label=\"笔名\">\n                            <Input />\n                        </Form.Item>\n                        <Form.Item name=\"userrealname\" label=\"姓名\">\n                            <Input />\n                        </Form.Item>\n                        <Form.Item name=\"idcard\" label=\"身份证号\">\n                            <Input\n                                suffix={suffix}\n                                onBlur={this.handle_blur_idcard}\n                                onChange={this.handle_change_idcard}\n                            />\n                        </Form.Item>\n                        <Form.Item name=\"area\" label=\"所在省市\">\n                            <Cascader\n                                options={this.state.area}\n                                showSearch\n                                placeholder=\"请选择地址\"\n                                onChange={this.handle_profile_area_id}\n                            />\n                        </Form.Item>\n\n                        <Form.Item name=\"address\" label=\"详细地址\">\n                            <Input />\n                        </Form.Item>\n                        <Form.Item name=\"intro\" label=\"个人简介\">\n                            <Input.TextArea placeholder=\"个人简介\" rows={4} />\n                        </Form.Item>\n\n                        <Form.Item {...this.__tail_layout()}>\n                            <Button htmlType=\"submit\" type=\"primary\">\n                                更新\n                            </Button>\n                        </Form.Item>\n                    </Form>\n                </div>\n            </div>\n        );\n    }\n    /**\n     * 个人资料\n     **/\n\n    /**\n     * 安全设置\n     **/\n    __render_security() {\n        const ucdata = this.state.ucdata;\n        const data = [\n            {\n                title: \"账户密码\",\n                description:\n                    ucdata.password === 1\n                        ? \"定期更改密码可增强安全性\"\n                        : \"未设置密码,请设置密码\",\n                actions: [<Link to=\"/authorize/account/password\">设置</Link>],\n            },\n            {\n                title: \"手机号码\",\n                description: ucdata.mobile\n                    ? \"已绑定手机:\" + ucdata.mobile\n                    : \"请绑定手机\",\n                actions: [\n                    <Link to=\"/authorize/account/mobile\">\n                        {ucdata.mobile ? \"更改\" : \"绑定\"}\n                    </Link>,\n                ],\n            },\n\n            {\n                title: \"备用邮箱\",\n                description: ucdata.email\n                    ? \"已绑定邮箱:\" + ucdata.email\n                    : \"未设置邮箱，邮箱在忘记手机号和密码时可找回密码\",\n                actions: [\n                    <Link to=\"/authorize/account/email\">\n                        {ucdata.email ? \"更改\" : \"设置\"}\n                    </Link>,\n                ],\n            },\n            {\n                title: \"密保问题\",\n                description: ucdata.question\n                    ? \"密保问题已设置，可有效保护账户安全\"\n                    : \"未设置密保问题，密保可有效保护账户安全\",\n                actions: [\n                    <Link to=\"/authorize/account/password_protected\">\n                        {ucdata.question ? \"更改\" : \"设置\"}\n                    </Link>,\n                ],\n            },\n        ];\n        return (\n            <List\n                itemLayout=\"horizontal\"\n                dataSource={data}\n                renderItem={(item) => (\n                    <List.Item actions={item.actions}>\n                        <List.Item.Meta\n                            title={item.title}\n                            description={item.description}\n                        />\n                    </List.Item>\n                )}\n            />\n        );\n    }\n    /**\n     * 账号绑定\n     **/\n    __render_oauth() {\n        const oauth = this.state.ucdata.oauth || {};\n        const data = Object.keys(oauth).map((key) => {\n            var I = icons[oauth[key].icon];\n            return {\n                title: oauth[key].name,\n                description:\n                    oauth[key].bind > 0\n                        ? oauth[key].info.nickname\n                        : oauth[key].intro,\n                avatar: <I className={oauth[key].classname} />,\n                actions: [\n                    <a\n                        onClick={() => {\n                            this.handle_oauth(key, oauth[key].info.id);\n                        }}\n                    >\n                        {oauth[key].bind > 0 ? \"解绑\" : \"绑定\"}\n                    </a>,\n                ],\n            };\n        });\n        return (\n            <List\n                itemLayout=\"horizontal\"\n                dataSource={data}\n                renderItem={(item) => (\n                    <List.Item actions={item.actions}>\n                        <List.Item.Meta\n                            avatar={item.avatar}\n                            title={item.title}\n                            description={item.description}\n                        />\n                    </List.Item>\n                )}\n            />\n        );\n    }\n    /**\n     * 消息通知\n     **/\n    __render_notification() {\n        const ucdata = this.state.ucdata;\n        const notification = this.state.ucdata.notification || {};\n        const data = Object.keys(notification).map((key) => {\n            var I = icons[notification[key].icon];\n            return {\n                title: notification[key].name,\n                description: notification[key].intro,\n                avatar: <I className={notification[key].classname} />,\n                actions: [\n                    <Switch\n                        checkedChildren={\"接收\"}\n                        unCheckedChildren={\"谢绝\"}\n                        defaultChecked\n                        onChange={this.handle_notification_switch}\n                    />,\n                ],\n            };\n        });\n\n        return (\n            <List\n                itemLayout=\"horizontal\"\n                dataSource={data}\n                renderItem={(item) => (\n                    <List.Item actions={item.actions}>\n                        <List.Item.Meta\n                            avatar={item.avatar}\n                            title={item.title}\n                            description={item.description}\n                        />\n                    </List.Item>\n                )}\n            />\n        );\n    }\n\n    /*----------------------4 render end----------------------*/\n}\n\nexport default connect((store) => ({ ...store }))(Account);\n","/Users/luohai/web/git/react-youyan-authorize/src/page/welcome.js",["457","458","459","460","461"],"/Users/luohai/web/git/react-youyan-authorize/src/components/base/basic_component.js",[],"/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/competence.js",["462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from \"@/reducers/index.js\";\nimport webapi from \"@/utils/webapi\";\nimport moment from \"moment\";\nimport {\n    Form,\n    Input,\n    Select,\n    Tree,\n    Table,\n    Button,\n    Drawer,\n    Avatar,\n    Image,\n} from \"antd\";\n\nconst BREADCRUMB = {\n    type: \"BREADCRUMB\",\n    data: {\n        title: \"角色管理\",\n        lists: [\n            { title: \"主页\", url: \"/\" },\n            { title: \"角色管理\", url: \"/authorize/competence\" },\n        ],\n        buttons: [],\n    },\n};\nclass Competence extends React.Component {\n    formRef = React.createRef();\n    menus = [];\n    columns = [];\n    permission = [];\n\n    /**\n     * 构造\n     */\n    constructor(props) {\n        super(props);\n        this.state = this.init_state();\n    }\n    /**\n     * props 有变化\n     */\n    componentWillReceiveProps(props) {\n        const query = webapi.utils.query();\n        this.props = props;\n        var q = query.q || \"\";\n        var method = this.props.match.params.method || \"index\";\n        if (q === this.state.q && method === this.state.method) {\n            return false;\n        }\n        this.setState(this.init_state(), () => {\n            this.handle_init();\n        });\n    }\n    /**\n     * 面包屑导航\n     */\n    breadcrumb(data = {}) {\n        const b = JSON.parse(JSON.stringify(BREADCRUMB));\n        b.data = { ...b.data, ...data };\n        store.dispatch(b);\n    }\n    /**\n     * 渲染前调用\n     */\n    componentWillMount() {\n        this.handle_init();\n    }\n\n    /**\n     * __method 1=other\n     * @param type string  公共方法处理\n     * @return mixed\n     */\n    __method(type) {\n        let method = type + this.state.method;\n        if (!(method in this)) {\n            var obj = Object.getPrototypeOf(this) || {};\n            console.warn(\n                type +\n                    \"d=>类:\" +\n                    obj.constructor.name +\n                    \" 方法:\" +\n                    method +\n                    \"不存在\"\n            );\n            method = type + \"index\";\n        }\n        // console.log('d=>__method', method);\n        //保护\n        if (method in this) {\n            return this[method]();\n        } else {\n            return \"\";\n        }\n    }\n    /**\n     * init_state 初始化状态 2=init\n     * @return obj\n     */\n    init_state() {\n        const query = webapi.utils.query();\n        return {\n            q: query.q || \"\",\n            method: this.props.match.params.method || \"index\",\n            id: this.props.match.params.id || 0,\n            order_field: \"create_time\",\n            order_value: \"desc\",\n            lists: [],\n            parent_id: 0,\n            data: {},\n            pagination: this.init_page_data(),\n            menus: [],\n            permission: [],\n            columns: [],\n            drawer_visible: false,\n        };\n    }\n    init_page_data() {\n        return {\n            pageSize: 10,\n            total: 0,\n            current: 1,\n            onChange: this.handle_page_change.bind(this),\n            onShowSizeChange: this.handle_page_show_size_change.bind(this),\n        };\n    }\n    /**\n     * handle_init 业务初始化 3=handle\n     * @return obj\n     */\n    handle_init() {\n        this.__method(\"init_\");\n    }\n\n    /**\n     * 改变 表格\n     * @param page 当前页\n     * @param page_size 当前分页大小\n     * @return mixed\n     */\n    handle_table_change(pagination, filters, sorter) {\n        let method = \"init_\" + this.state.method;\n        const pager = { ...this.state.pagination };\n        pager.current = pagination.current;\n        pager.pageSize = pagination.pageSize;\n        let order_field = sorter.field;\n        let order_value = sorter.order;\n        this.setState(\n            {\n                pagination: pager,\n                order_field: order_field,\n                order_value: order_value == \"ascend\" ? \"asc\" : \"desc\",\n            },\n            () => {\n                if (!(method in this)) {\n                    var obj = Object.getPrototypeOf(this) || {};\n                    console.warn(\n                        \"表格d=>类:\" +\n                            obj.constructor.name +\n                            \" 方法:\" +\n                            method +\n                            \"不存在\"\n                    );\n                } else {\n                    this[method]();\n                }\n            }\n        );\n    }\n    /**\n     * 改变 分页\n     * @param page 当前页\n     * @param page_size 当前分页大小\n     * @return mixed\n     */\n    handle_page_change(page, page_size) {\n        return {};\n    }\n    /**\n     * 改变 分页大小\n     * @param page 当前页\n     * @param page_size 当前分页大小\n     * @return mixed\n     */\n    handle_page_show_size_change(page, page_size) {\n        this.handle_page_change(page, page_size);\n    }\n    /**\n     * render 渲染  4=render\n     * @return obj\n     */\n    render() {\n        return this.__method(\"render_\");\n    }\n    /*----------------------1 other start----------------------*/\n\n    /*----------------------1 other end  ----------------------*/\n\n    /*----------------------2 init start----------------------*/\n    /**\n     * index  列表数据\n     */\n    async init_user(d = {}) {\n        var data = this.state.data;\n        if (Object.keys(data).length === 0) {\n            var res = await webapi.ajax.get(\"authorize/competence/get\", {\n                id: this.state.id,\n            });\n\n            if (res.code === 10000) {\n                data = res.data;\n                this.setState({\n                    data: data,\n                });\n            }\n        }\n        var title = BREADCRUMB.data.title + \"-\" + data.name;\n        var buttons = [\n            {\n                title: \"添加用户\",\n                url: \"#!\",\n                onClick: this.handle_user_add.bind(this),\n            },\n        ];\n        this.setState({ order_field: \"UC.create_time\" }, () => {\n            d.competence_id = this.state.id;\n            this.init_lists(\"authorize/competence/user\", d, { title, buttons });\n        });\n    }\n    /**\n     * index  列表数据\n     */\n    init_index(d = {}) {\n        var buttons = [\n            { title: \"添加角色\", url: \"/authorize/competence/add\" },\n            { title: \"栏目\", url: \"/authorize/columns\" },\n            { title: \"菜单\", url: \"/authorize/menus\" },\n            { title: \"权限\", url: \"/authorize/permission\" },\n        ];\n        this.init_lists(\"authorize/competence/lists\", d, { buttons });\n    }\n    /**\n     *  列表数据\n     */\n    async init_lists(url, d = {}, b = {}) {\n        d.q = this.state.q;\n        d.order_field = this.state.order_field;\n        d.order_value = this.state.order_value;\n        d.row_count = this.state.pagination.pageSize;\n        d.offset = this.state.pagination.current;\n        var data = await webapi.ajax.get(url, d);\n        var lists = [];\n        if (data.code === 10000 && data.num_rows > 0) {\n            lists = data.lists;\n        }\n        this.setState({\n            lists: lists,\n            pagination: { ...this.state.pagination, total: data.num_rows },\n        });\n        this.breadcrumb(b);\n    }\n    /*----------------------2 init end  ----------------------*/\n    init_edit() {\n        this.init_edit_add(\"edit\");\n    }\n    init_add() {\n        this.init_edit_add(\"add\");\n    }\n    async init_edit_add(action) {\n        var b = {};\n        var data = {};\n        if (action === \"edit\" && this.state.id) {\n            var res = await webapi.ajax.get(\"authorize/competence/get\", {\n                id: this.state.id,\n            });\n            if (res.code === 10000) {\n                data = res.data;\n            }\n            b.title = BREADCRUMB.data.title + \"-\" + data.name + \"-编辑\";\n        } else {\n            b.title = BREADCRUMB.data.title + \"-\" + \"添加\";\n        }\n        var columns = this.state.columns;\n        if (columns.length == 0) {\n            var t = this.columns;\n            if (t.length == 0) {\n                var res = await webapi.ajax.get(\"authorize/competence/columns\");\n                if (res.code === 10000) {\n                    this.columns = t = res.lists;\n                }\n            }\n            columns = t;\n        }\n        var permission = this.state.permission;\n        if (permission.length == 0) {\n            var t = this.permission;\n            if (t.length == 0) {\n                var res = await webapi.ajax.get(\n                    \"authorize/competence/permission\"\n                );\n                if (res.code === 10000) {\n                    this.permission = t = res.lists;\n                }\n            }\n            permission = t;\n        }\n        var menus = this.state.menus;\n        if (menus.length == 0) {\n            var t = this.menus;\n            if (t.length == 0) {\n                var res = await webapi.ajax.get(\"authorize/competence/menus\");\n                if (res.code === 10000) {\n                    this.menus = t = res.lists;\n                }\n            }\n            menus = t;\n        }\n\n        this.setState({\n            data: data,\n            columns: columns,\n            menus: menus,\n            permission: permission,\n        });\n        this.formRef.current &&\n            this.formRef.current.setFieldsValue({ ...data });\n        this.breadcrumb(b);\n    }\n\n    /*----------------------3 handle start----------------------*/\n    handle_user_add(e) {\n        this.setState({\n            drawer_visible: true,\n        });\n    }\n    handle_drawer_close = () => {\n        this.formRef.current.resetFields();\n        this.setState({\n            drawer_visible: false,\n        });\n    };\n    handle_drawer_submit = () => {\n        this.formRef.current\n            .validateFields()\n            .then((values) => {\n                this.handle_finish_user(values);\n            })\n            .catch((info) => {\n                //console.log('Validate Failed:', info);\n            });\n    };\n    async handle_finish_user(values) {\n        var data = {};\n        data.competence_id = this.state.id;\n        data.user_id = values.user_id;\n        var res = await webapi.ajax.post(\"authorize/competence/user_add\", data);\n        if (res.code === 10000) {\n            this.formRef.current.resetFields();\n            webapi.message.success(res.message);\n        } else {\n            webapi.message.error(res.message);\n        }\n        this.init_user();\n        this.setState({ drawer_visible: false });\n    }\n\n    handle_menus_check = (selectedKeys, info) => {\n        this.setState({ data: { ...this.state.data, menus: selectedKeys } });\n    };\n    handle_columns_check = (selectedKeys, info) => {\n        this.setState({ data: { ...this.state.data, columns: selectedKeys } });\n    };\n    handle_permission_check = (selectedKeys, info) => {\n        this.setState({\n            data: { ...this.state.data, permission: selectedKeys },\n        });\n    };\n\n    /**\n     * 提交\n     **/\n    async handle_submit(data = {}) {\n        data.id = this.state.id;\n        data.parent_id = this.state.parent_id;\n        data.menus = this.state.data.menus;\n        data.columns = this.state.data.columns;\n        data.permission = this.state.data.permission;\n        var res = await webapi.ajax.post(\"authorize/competence/dopost\", data);\n        if (res.code === 10000) {\n            webapi.message.success(res.message);\n            this.props.history.replace(\"/authorize/competence\");\n        } else {\n            webapi.message.error(res.message);\n        }\n    }\n\n    /**\n     * 集中 删除\n     **/\n    handle_do_delete(url, d = {}) {\n        var that = this;\n        webapi.confirm({\n            url: \"authorize/competence/\" + url,\n            data: d,\n            success: function (data) {\n                if (data.status == \"success\") {\n                    webapi.message.success(data.message);\n                    that.__method(\"init_\");\n                } else {\n                    webapi.message.error(data.message);\n                }\n            },\n        });\n    }\n    /**\n     * 删除\n     **/\n    handle_delete(id) {\n        this.handle_do_delete(\"delete\", { id: this.state.id });\n    }\n    /**\n     * 删除\n     **/\n    handle_user_delete(user_id) {\n        this.handle_do_delete(\"user_delete\", {\n            user_id: user_id,\n            competence_id: this.state.id,\n        });\n    }\n\n    /*----------------------3 handle end  ----------------------*/\n\n    /*----------------------4 render start----------------------*/\n    /**\n     * 渲染 用户\n     **/\n    render_user() {\n        const columns = [\n            {\n                title: \"用户\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"id\",\n                align: \"center\",\n                render: (field, data) => {\n                    return (\n                        <>\n                            <Avatar src={<Image src={data.avatar} />} />\n                            {data.nickname}({data.mobile})\n                        </>\n                    );\n                },\n            },\n            {\n                title: \"时间\",\n                sorter: true,\n                dataIndex: \"create_time\",\n                render: (field, data) => {\n                    return moment(data.create_time * 1000).format(\n                        \"YYYY-MM-DD HH:mm:ss\"\n                    );\n                },\n                align: \"center\",\n            },\n            {\n                title: \"操作\",\n                align: \"center\",\n                render: (field, data) => {\n                    return (\n                        <div>\n                            <a\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n                                title=\"删除\"\n                                onClick={this.handle_user_delete.bind(\n                                    this,\n                                    data.user_id\n                                )}\n                            >\n                                <i className=\"ti-trash\" />\n                            </a>\n                        </div>\n                    );\n                },\n            },\n        ];\n        return (\n            <>\n                <div className=\"card\">\n                    <Table\n                        rowKey={(res) => res.user_id}\n                        columns={columns}\n                        dataSource={this.state.lists}\n                        pagination={this.state.pagination}\n                        loading={this.props.loading}\n                        onChange={this.handle_table_change.bind(this)}\n                    />\n                </div>\n\n                <Drawer\n                    title=\"添加用户\"\n                    width={500}\n                    forceRender={true}\n                    onClose={this.handle_drawer_close}\n                    visible={this.state.drawer_visible}\n                    bodyStyle={{ paddingBottom: 80 }}\n                    footer={\n                        <div\n                            style={{\n                                textAlign: \"right\",\n                            }}\n                        >\n                            <Button\n                                onClick={this.handle_drawer_close}\n                                style={{ marginRight: 8 }}\n                            >\n                                取消\n                            </Button>\n                            <Button\n                                onClick={this.handle_drawer_submit}\n                                loading={this.props.loading}\n                                type=\"primary\"\n                            >\n                                提交\n                            </Button>\n                        </div>\n                    }\n                >\n                    <Form layout=\"horizontal\" ref={this.formRef}>\n                        <Form.Item name=\"user_id\" label=\"用户\">\n                            <Input placeholder=\"请输入用户id或手机号\" />\n                        </Form.Item>\n                    </Form>\n                </Drawer>\n            </>\n        );\n    }\n    /**\n     * 渲染 首页\n     **/\n    render_index() {\n        const columns = [\n            {\n                title: \"编号\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"id\",\n                align: \"center\",\n                render: (field, data) => {\n                    return (\n                        <>\n                            <Link to={\"/authorize/competence/user/\" + data.id}>\n                                {field}\n                            </Link>\n                        </>\n                    );\n                },\n            },\n            {\n                title: \"名称\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"name\",\n                align: \"center\",\n                render: (field, data) => {\n                    return (\n                        <>\n                            <Link to={\"/authorize/competence/user/\" + data.id}>\n                                {field}\n                            </Link>\n                        </>\n                    );\n                },\n            },\n            {\n                title: \"数量\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"total\",\n                align: \"center\",\n                render: (field, data) => {\n                    return (\n                        <>\n                            <Link to={\"/authorize/competence/user/\" + data.id}>\n                                {field}\n                            </Link>\n                        </>\n                    );\n                },\n            },\n\n            {\n                title: \"时间\",\n                sorter: true,\n                dataIndex: \"create_time\",\n                render: (field, data) => {\n                    return moment(data.create_time * 1000).format(\n                        \"YYYY-MM-DD HH:mm:ss\"\n                    );\n                },\n                align: \"center\",\n            },\n            {\n                title: \"操作\",\n                align: \"center\",\n                render: (field, data) => {\n                    return (\n                        <div>\n                            <a\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n                                title=\"删除\"\n                                onClick={this.handle_delete.bind(this, data.id)}\n                            >\n                                <i className=\"ti-trash\" />\n                            </a>\n                            <Link\n                                to={\"/authorize/competence/edit/\" + data.id}\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n                            >\n                                <i className=\"ti-pencil-alt\" />\n                            </Link>\n                            <Link\n                                to={\"/authorize/competence/user/\" + data.id}\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n                            >\n                                <i className=\"ti-menu\" />\n                            </Link>\n                        </div>\n                    );\n                },\n            },\n        ];\n        return (\n            <div className=\"card\">\n                <Table\n                    rowKey={(res) => res.id}\n                    columns={columns}\n                    dataSource={this.state.lists}\n                    pagination={this.state.pagination}\n                    loading={this.props.loading}\n                    onChange={this.handle_table_change.bind(this)}\n                />\n            </div>\n        );\n    }\n    /**\n     * 编辑\n     * @return obj\n     */\n    render_edit() {\n        return this.render_edit_add();\n    }\n    /**\n     * 添加\n     * @return obj\n     */\n    render_add() {\n        return this.render_edit_add();\n    }\n    /**\n     * 添加、编辑\n     * @return obj\n     */\n    render_edit_add() {\n        // console.log('d=>', this.props)\n\n        return (\n            <Form ref={this.formRef} onFinish={this.handle_submit.bind(this)}>\n                <Form.Item name=\"name\" label=\"名称\">\n                    <Input />\n                </Form.Item>\n                <Form.Item label=\"菜单\">\n                    <Tree\n                        showLine={true}\n                        checkable\n                        checkedKeys={this.state.data.menus}\n                        onCheck={this.handle_menus_check}\n                        treeData={this.state.menus}\n                    />\n                </Form.Item>\n                <Form.Item name=\"permission\" label=\"权限\">\n                    <Tree\n                        showLine={true}\n                        checkable\n                        checkedKeys={this.state.data.permission}\n                        onCheck={this.handle_permission_check}\n                        treeData={this.state.permission}\n                    />\n                </Form.Item>\n                <Form.Item label=\"栏目\">\n                    <Tree\n                        showLine={true}\n                        checkable\n                        checkedKeys={this.state.data.columns}\n                        onCheck={this.handle_columns_check}\n                        treeData={this.state.columns}\n                    />\n                </Form.Item>\n                <Form.Item>\n                    <Button\n                        type=\"primary\"\n                        htmlType=\"submit\"\n                        style={{ marginRight: \"8px\" }}\n                        loading={this.props.loading}\n                    >\n                        {this.props.loading ? \"正在提交\" : \"立即提交\"}\n                    </Button>\n                    <Link className=\"button\" to={\"/authorize/competence\"}>\n                        返回\n                    </Link>\n                </Form.Item>\n            </Form>\n        );\n    }\n\n    /*----------------------4 render end  ----------------------*/\n}\nexport default connect((store) => ({ ...store }))(Competence);\n","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/stsyemlog.js",["479","480","481","482","483","484","485","486","487","488","489","490","491"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport webapi from \"@/utils/webapi\";\nimport {\n\tForm,\n\tInput,\n\tCheckbox,\n\tRadio,\n\tTextarea,\n\tSelect,\n\tDatePicker,\n\tTree,\n\tUpload,\n\tTable\n} from \"antd\";\nimport moment from \"moment\";\nconst breadcrumb = {\n\ttitle: \"系统日志\",\n\tlists: [\n\t\t{ title: \"主页\", url: \"/\" },\n\t\t{ title: \"系统日志\", url: \"/stsyemlog\" }\n\t],\n\tbuttons: []\n};\nexport default class Stsyemlog extends React.Component {\n\t/*--------------------------------------------------------------------------------\n    * 构造\n    --------------------------------------------------------------------------------*/\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\torder_field: \"create_time\",\n\t\t\torder_value: \"desc\",\n\t\t\toffset: 1,\n\t\t\trow_count: 10,\n\t\t\tpage: this.props.match.params.page,\n\t\t\tid: this.props.match.params.id || 0,\n\t\t\tlists: [],\n\t\t\tvalue: {},\n\t\t\tdata: { stsyemlog: {}, menus_lists: [] },\n\t\t}; \n\t}\n\t/*--------------------------------------------------------------------------------\n    * newProps\n    --------------------------------------------------------------------------------*/\n\n\tcomponentWillReceiveProps(newProps) {\n\t\tvar params = newProps.match.params || {};\n\t\tif (params.page === this.state.page) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tpage: params.page || \"index\",\n\t\t\t\tid: params.id || 0\n\t\t\t},\n\t\t\tfunction() {\n\t\t\t\tthis.handle_init();\n\t\t\t}\n\t\t);\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.setState = (state, callback) => {\n\t\t\treturn;\n\t\t};\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 分页\n    --------------------------------------------------------------------------------*/\n\n\thandle_pagechange(offset, row_count) {\n\t\tthis.setState({ offset, row_count });\n\t\tthis.lists({ offset, row_count });\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 排序\n    --------------------------------------------------------------------------------*/\n\n\thandle_sorter(name, order) {\n\t\tvar that = this;\n\t\tthat.setState({ order_field: name, order_value: order }, function() {\n\t\t\tthat.lists();\n\t\t});\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 渲染前调用\n    --------------------------------------------------------------------------------*/\n\n\tcomponentWillMount() {\n\t\tthis.handle_init();\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 渲染\n    --------------------------------------------------------------------------------*/\n\trender() { \n\t\treturn this.index();\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 渲染前用初始化\n    --------------------------------------------------------------------------------*/\n\n\thandle_init() {\n\t\tthis.lists();\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 列表数据\n    --------------------------------------------------------------------------------*/\n\n\tasync lists(d = {}) { \n\t\td.order_field = this.state.order_field;\n\t\td.order_value = this.state.order_value;\n\t\tvar data = await webapi.ajax.post(\"stsyemlog/lists\", d);\n\t\tvar lists = [];\n\t\tvar load = true;\n\t\tif (data.code === 10000 && data.num_rows > 0) {\n\t\t\tfor (var i in data.lists) {\n\t\t\t\tvar l = data.lists[i];\n\t\t\t\tl.create_time = moment(l.create_time * 1000).format(\n\t\t\t\t\t\"YYYY-MM-DD HH:mm:ss\"\n\t\t\t\t);\n\t\t\t\tlists.push(l);\n\t\t\t}\n\t\t}\n\t\tthis.setState({\n\t\t\tnum_rows: data.num_rows,\n\t\t\tlists: lists\n\t\t});\n\t} \n\n\t/*--------------------------------------------------------------------------------\n    * 删除\n    --------------------------------------------------------------------------------*/\n\n\thandle_delte(id) {\n\t\tvar that = this;\n\t\twebapi.delete_dialog(\"stsyemlog/delete\", { id: id }, function(data) {\n\t\t\tif (data.status == \"success\") {\n\t\t\t\tthat.lists();\n\t\t\t}\n\t\t});\n\t}\n\t  \n\t/*--------------------------------------------------------------------------------\n    * 首页\n    --------------------------------------------------------------------------------*/\n\n\tindex() { \n\t\twebapi.pubsub.publish(\"breadcrumb\", breadcrumb);\n\t\tvar that = this;\n\t\tconst columns = [\n\t\t\t\n\t\t\t{\n\t\t\t\ttitle: \"名称\",\n\t\t\t\tfixed: \"left\",\n\t\t\t\trender: \"name\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"系统\",\n\t\t\t\tfixed: \"left\",\n\t\t\t\trender: \"os\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"浏览器\",\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\treturn d.browser;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"地址\",\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\treturn d.ip_address;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t{\n\t\t\t\ttitle: \"时间\",\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\treturn d.create_time;\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"操作\",\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n\t\t\t\t\t\t\t\ttitle=\"删除\"\n\t\t\t\t\t\t\t\tonClick={that.handle_delte.bind(that, d.id)}>\n\t\t\t\t\t\t\t\t<i className=\"ti-trash\" />{\" \"}\n\t\t\t\t\t\t\t</a> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\treturn (\n\t\t\t<div className=\"card\">\n\t\t\t\t<Table\n\t\t\t\t\tdata={this.state.lists}\n\t\t\t\t\tfixed=\"both\"\n\t\t\t\t\tkeygen=\"id\"\n\t\t\t\t\tstriped\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\trowsInView={10}\n\t\t\t\t\tpagination={{\n\t\t\t\t\t\tcurrent: this.state.offset,\n\t\t\t\t\t\tpageSize: this.state.row_count,\n\t\t\t\t\t\talign: \"center\",\n\t\t\t\t\t\tlayout: [\"links\", \"list\"],\n\t\t\t\t\t\tonChange: this.handle_pagechange.bind(this),\n\t\t\t\t\t\tpageSizeList: [10, 15, 20],\n\t\t\t\t\t\ttotal: this.state.num_rows\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n",["492","493"],"/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/menus.js",["494","495","496","497","498","499"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\"; \nimport webapi from \"@/utils/webapi\";\nimport Basic_Component from \"@/components/base/basic_component.js\"; \nimport moment from \"moment\";\nimport {\n    Form,\n    Input, \n    Radio, \n    Select,  \n    Table,\n    Button,\n    Cascader\n} from \"antd\";\n\n\nconst BREADCRUMB = { \n        title: \"菜单管理\",\n        lists: [\n            { title: \"主页\", url: \"/\" },\n            { title: \"菜单管理\", url: \"/authorize/menus\" }\n        ],\n        buttons: [\n            { title: \"添加菜单\", url: \"/authorize/menus/add\" },\n            { title: \"群组管理\", url: \"/authorize/menus/group\" }\n        ]\n    \n};\nclass Menus extends Basic_Component {\n    formRef = React.createRef();\n    group = {};\n    menus_children = [];\n     \n    /**\n     * 面包屑导航\n     */\n    __breadcrumb(data = {}) {  \n        super.__breadcrumb({...BREADCRUMB,...data});\n    }\n    \n    \n     \n  \n    /*----------------------1 other start----------------------*/\n\n    /**\n     * 获取群组\n     * @return obj \n     */\n    async get_group() {\n        var data = await webapi.ajax.get('authorize/menus/group', { 'dict': '1' });\n        if (data.code === 10000) {\n            this.group = data.lists;\n        }\n        return {};\n    }\n    /**\n     * 获取菜单村\n     * @return obj \n     */\n    async get_menus_children() {\n        var data = await webapi.ajax.get('authorize/menus/children');\n        if (data.code === 10000) {\n            this.menus_children = data.lists;\n        }\n    }\n\n    /*----------------------1 other end  ----------------------*/\n\n    /*----------------------2 init start----------------------*/\n    /**\n     * index  列表数据 \n     */\n    __init_index(d = {}) {\n        this.init_lists(\"authorize/menus/lists\", d);\n    }\n    /**\n     * group 列表数据\n     */\n    async __init_group(d = {}) {\n        var buttons = [\n            { title: \"添加群组\", url: \"/authorize/menus/group_add\" },\n            { title: \"菜单管理\", url: \"/authorize/menus\" }\n        ];\n        var title = BREADCRUMB.title + '-群组';\n        this.init_lists(\"authorize/menus/group\", d, { buttons, title });\n    }\n    /**\n     *  列表数据 \n     */\n    async init_lists(url, d = {}, b = {}) {\n        d.order_field = this.state.order_field;\n        d.order_value = this.state.order_value;\n        d.row_count = this.state.pagination.pageSize;\n        d.offset = this.state.pagination.current;\n         d.q = this.state.q;\n        var data = await webapi.ajax.get(url, d);\n        var lists = []; \n        if (data.code === 10000 && data.num_rows > 0) {\n            lists = data.lists;\n        }\n        this.setState({\n            lists: lists,\n            pagination: { ...this.state.pagination, total: data.num_rows }\n        });\n        this.__breadcrumb(b);\n    }\n    /*----------------------2 init end  ----------------------*/\n    \n    async __init_add_edit(action) {\n        var b = {};\n        var data = {};\n        if (action === 'edit' && this.state.id) {\n            var res = await webapi.ajax.get(\"authorize/menus/get\", {\n                id: this.state.id\n            });\n            if (res.code === 10000) {\n                data = res.data;\n            }\n            b.title = BREADCRUMB.title + '-' + data.name + '-编辑';\n        } else {\n            b.title = BREADCRUMB.title + '-' + '添加';\n        }\n        this.setState({ data: data });\n        this.formRef.current && this.formRef.current.setFieldsValue({ ...data });\n        this.__breadcrumb(b);\n    }\n    __init_group_edit() {\n        this.__init_group_add_edit('edit');\n    }\n    __init_group_add() {\n        this.__init_group_add_edit('add');\n    }\n    async __init_group_add_edit(action) {\n        var b = {};\n        var data = {};\n        if (action === 'edit' && this.state.id) {\n            var res = await webapi.ajax.get(\"authorize/menus/group_get\", {\n                id: this.state.id\n            });\n            if (res.code === 10000) {\n                data = res.data;\n            }\n            b.title = BREADCRUMB.title + '-群组-' + data.name + '-编辑';\n        } else {\n            b.title = BREADCRUMB.title + '-群组-' + '添加';\n        }\n        this.setState({\n            data: data\n        });\n        this.formRef.current && this.formRef.current.setFieldsValue({ ...data });\n        this.__breadcrumb(b);\n    }\n\n    /*----------------------3 handle start----------------------*/\n\n    handle_parent_id = value => {\n        var parent_id = value[value.length - 1];\n        if (parent_id !== this.state.id) {\n            this.setState({\n                parent_id: parent_id,\n            });\n        }\n\n    };\n\n\n    /**\n     * 提交\n     **/\n     handle_submit = async(data = {})=> {\n        data.id = this.state.id;\n        data.parent_id = this.state.parent_id;\n        var res = await webapi.ajax.post(\"authorize/menus/dopost\", data);\n        if (res.code === 10000) {\n            webapi.message.success(res.message);\n            this.props.history.replace('/authorize/menus');\n        } else {\n            webapi.message.error(res.message);\n        }\n    }\n\n    /**\n     * 集中 删除\n     **/\n    handle_do_delete(url, id) {\n        var that = this;\n        webapi.delete(\n            \"authorize/menus/\" + url, { id: id },\n            function(data) {\n                if (data.status === \"success\") {\n                    webapi.message.success(data.message);\n                    that.__method('init_');\n                } else {\n                    webapi.message.error(data.message);\n                }\n            }\n        );\n    }\n    /**\n     * 删除\n     **/\n     \n    handle_delete(id) {\n        this.handle_do_delete('delete', id);\n    }\n    /**\n     * 群组删除\n     **/\n    handle_group_delete(id) {\n        this.handle_do_delete('group_delete', id);\n    }\n    /**\n     * 群组提交\n     **/\n    handle_group_submit =async (data = {})=> {\n        data.id = this.state.id;\n        var res = await webapi.ajax.post(\"authorize/menus/group_dopost\", data);\n        if (res.code === 10000) {\n            webapi.message.success(res.message);\n            this.props.history.replace('/authorize/menus/group');\n        } else {\n            webapi.message.error(res.message);\n        }\n    }\n\n\n\n    /*----------------------3 handle end  ----------------------*/\n\n    /*----------------------4 render start----------------------*/\n\n    /**\n     * 渲染 首页\n     **/\n    __render_index() {\n        var that = this;\n        const columns = [{\n                title: \"名称\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"name\",\n                align: \"center\",\n            },\n            {\n                title: \"链接\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"url\",\n                align: \"center\",\n            },\n            \n            {\n                title: \"更新时间\",\n                sorter: true,\n                dataIndex: \"update_time\",\n                render: (field, data) => {\n                    return (\n                        data.update_time > 0 &&\n                        moment(data.update_time * 1000).format(\n                            \"YYYY-MM-DD HH:mm:ss\"\n                        )\n                    );\n                },\n                align: \"center\",\n            },\n            {\n                title: \"创建时间\",\n                sorter: true,\n                dataIndex: \"create_time\",\n                render: (field, data) => {\n                    return moment(data.create_time * 1000).format(\n                        \"YYYY-MM-DD HH:mm:ss\"\n                    );\n                },\n                align: \"center\",\n            },\n            {\n                title: \"操作\",\n                align: \"center\",\n                render: (d, i)=> {\n                    return (\n                        <div>\n                            <a\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n                                title=\"删除\"\n                                onClick={()=>{this.handle_delete(d.id)}}\n                            >\n                                <i className=\"ti-trash\" />{\" \"}\n                            </a>\n                            <Link\n                                to={\"/authorize/menus/edit/\" + d.id}\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n                            >\n                                <i className=\"ti-pencil-alt\" />\n                            </Link>\n                        </div>\n                    );\n                }\n            }\n        ];\n        return (\n\n            <div className=\"card\">\n                         \n                        <Table\n                    rowKey={res => res.id}\n                    columns={columns}\n                    dataSource={this.state.lists}\n                    pagination={this.state.pagination}\n                    loading={this.props.loading} \n                    onChange={this.__handle_table_change}\n                />\n\n                             \n                         \n                    </div>\n\n        );\n    }\n     \n    /**\n     * 添加、编辑\n     * @return obj \n     */\n    __render_add_edit() {\n        // console.log('d=>',this.props)\n        return (\n            <Form \n                                ref={this.formRef}\n                                onFinish={this.handle_submit}\n                            >\n                                <Form.Item name=\"name\" label=\"名称\">\n                                    <Input  />\n                                </Form.Item>\n                                <Form.Item name=\"idx\" label=\"序号\">\n                                    <Input  />\n                                </Form.Item>\n                                <Form.Item name=\"url\" label=\"链接\">\n                                    <Input  />\n                                </Form.Item>\n                                <Form.Item name=\"icon\"label=\"图标\">\n                                    <Input  />\n                                </Form.Item>\n                                <Form.Item name=\"style\" label=\"样式\">\n                                    <Input  />\n                                </Form.Item>\n                                <Form.Item name=\"group_id\" label=\"群组\">\n                                    <Select>\n                            {Object.keys(this.group).map((val, key) => {\n                                return (\n                                    <Select.Option key={key} value={this.group[val]['id']}>\n                                        {this.group[val]['name']}\n                                    </Select.Option>\n                                );\n                            })}\n                        </Select>\n\n                                </Form.Item>\n                                <Form.Item  label=\"所属\">\n                                     <Cascader \n                                    options={this.menus_children}\n                                    fieldNames={{ label: 'name', value: 'id' }}\n                                    changeOnSelect\n                                    onChange={this.handle_parent_id}\n                                  />\n                                </Form.Item>\n                                <Form.Item name=\"intro\" label=\"描述\">\n                                    <Input.TextArea  />\n                                </Form.Item>\n                                <Form.Item label=\"\">\n                                <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            style={{ 'marginRight': '8px' }}\n            loading={this.props.loading}\n          >\n            {this.props.loading?'正在提交':'立即提交'}\n          </Button>\n          <Link className=\"button\" to={'/authorize/menus'}>\n            返回\n          </Link>\n        </Form.Item>\n\n                                     \n                                      \n                            </Form>\n\n        );\n    }\n\n    __render_group() {\n        var that = this;\n        const columns = [{\n                title: \"名称\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"name\",\n\n                align: \"center\",\n            },\n            {\n                title: \"状态\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"visibility\",\n\n                align: \"center\",\n                render: function(field, data) {\n                    return field === '1' ? '显示' : '隐藏';\n                },\n            },\n            {\n                title: \"时间\",\n                sorter: true,\n                dataIndex: \"create_time\",\n                render: function(field, data) {\n                    return moment(data.create_time * 1000).format(\n                        \"YYYY-MM-DD HH:mm:ss\"\n                    );\n                },\n\n                align: \"center\",\n            },\n            {\n                title: \"操作\",\n\n                align: \"center\",\n                render: (d, i) => {\n                    return (\n                        <div>\n                            <a\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n                                title=\"删除\"\n                                onClick={()=>{this.handle_group_delete(d.id)}}\n                            >\n                                <i className=\"ti-trash\" />{\" \"}\n                            </a>\n                            <Link\n                                to={\"/authorize/menus/group_edit/\" + d.id}\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n                            >\n                                <i className=\"ti-pencil-alt\" />\n                            </Link>\n                        </div>\n                    );\n                }\n            }\n        ];\n        return (\n\n            <div className=\"card\">\n                         \n                        <Table\n                    rowKey={res => res.id}\n                    columns={columns}\n                    dataSource={this.state.lists}\n                    pagination={this.state.pagination}\n                    loading={this.props.loading} \n                    onChange={this.__handle_table_change}\n                />\n\n                             \n                         \n                    </div>\n\n        );\n\n    }\n    /**\n     * 编辑\n     * @return obj \n     */\n    __render_group_edit() {\n        return this.__render_group_add_edit();\n    }\n    /**\n     * 添加\n     * @return obj \n     */\n    __render_group_add() {\n        return this.__render_group_add_edit();\n    }\n    /**\n     * 添加、编辑\n     * @return obj \n     */\n    __render_group_add_edit() {\n\n        return (\n            <Form \n            ref={this.formRef}\n            onFinish={this.handle_group_submit}\n            \n            >\n                <Form.Item name=\"name\" label=\"名称\">\n                    <Input />\n                </Form.Item>\n                <Form.Item name=\"allow\"label=\"链接\">\n                    <Input  />\n                </Form.Item>\n                <Form.Item name=\"visibility\" label=\"状态\">\n                    <Radio.Group  value={this.state.data.visibility}>\n        <Radio value={'1'}>显示</Radio>\n        <Radio value={'2'}>隐藏</Radio> \n      </Radio.Group>\n\n                     \n                </Form.Item>\n                <Form.Item label=\"\">\n                    <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            style={{ 'marginRight': '8px' }}\n            loading={this.props.loading}\n          >\n            {this.props.loading?'正在提交':'立即提交'}\n          </Button>\n          <Link className=\"button\" to={'/authorize/menus/group'}>\n            返回\n          </Link>\n                </Form.Item>\n            </Form>\n        );\n    }\n    /*----------------------4 render end  ----------------------*/\n\n}\nexport default connect(store => ({ ...store }))(Menus);","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/user.js",["500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport webapi from \"@/utils/webapi\";\nimport classnames from \"classnames\";\nimport immer from \"immer\";\nimport {\n\tForm,\n\tInput,\n\tCheckbox,\n\tRadio,\n\tTextarea,\n\tSelect,\n\tDatePicker,\n\tTree,\n\tUpload,\n\tTable,\n\tCascader,\n\tButton\n} from \"antd\";\nimport moment from \"moment\";\nconst breadcrumb = {\n\ttitle: \"用户管理\",\n\tlists: [\n\t\t{ title: \"主页\", url: \"/\" },\n\t\t{ title: \"用户管理\", url: \"/authorize/user\" }\n\t],\n\tbuttons: [{ title: \"添加用户\", url: \"/authorize/user/add\" }]\n};\nclass User extends React.Component {\n\t/*--------------------------------------------------------------------------------\n    * 构造\n    --------------------------------------------------------------------------------*/\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = this.init_state();\n\t}\n\tinit_state() {\n\t\treturn {\n\t\t\tloading: this.props.loading,\n\t\t\ttabs_active: \"\",\n\t\t\torder_field: \"create_time\",\n\t\t\torder_value: \"desc\",\n\t\t\toffset: 1,\n\t\t\trow_count: 10,\n\t\t\tpage: this.props.match.params.page || \"index\",\n\t\t\tuser_id: this.props.match.params.id || 0,\n\t\t\tlists: [],\n\t\t\tnum_rows: 0,\n\t\t\tvalue: {},\n\t\t\tdata: {\n\t\t\t\tdatabase_default_id: \"\",\n\t\t\t\tdatabase: [],\n\t\t\t\tfield: {}\n\t\t\t},\n\t\t\tarea: [],\n\t\t\tnodes: []\n\t\t};\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * newProps\n    --------------------------------------------------------------------------------*/\n\n\tcomponentWillReceiveProps(newProps) {\n\t\t// console.log(\"componentWillReceiveProps\", newProps, this.state);\n\t\tthis.props = newProps;\n\t\tthis.setState({ loading: this.props.loading });\n\t\tvar page = this.props.match.params.page || \"index\";\n\t\tif (page === this.state.page) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.setState(this.init_state(), () => {\n\t\t\tthis.handle_init();\n\t\t});\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 渲染前调用\n    --------------------------------------------------------------------------------*/\n\n\tcomponentWillMount() {\n\t\tthis.handle_init();\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 渲染\n    --------------------------------------------------------------------------------*/\n\trender() {\n\t\t// console.log(\"render\", this.state);\n\t\tvar childs = \"\";\n\t\tswitch (this.state.page) {\n\t\t\tcase \"edit\":\n\t\t\t\tchilds = this.render_edit_add();\n\t\t\t\tbreak;\n\t\t\tcase \"add\":\n\t\t\t\tchilds = this.render_edit_add();\n\t\t\t\tbreak;\n\t\t\tcase \"account_setting\":\n\t\t\t\tchilds = this.render_account_setting();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tchilds = this.render_index();\n\t\t}\n\t\treturn childs;\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * 渲染前用初始化\n    --------------------------------------------------------------------------------*/\n\n\thandle_init() {\n\t\t// return 1;\n\t\t// console.log(\"handle_init\", this.state.page);\n\t\tswitch (this.state.page) {\n\t\t\tcase \"edit\":\n\t\t\t\tthis.init_data();\n\t\t\t\tbreak;\n\t\t\tcase \"add\":\n\t\t\t\tthis.init_data();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.init_lists();\n\t\t}\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * handle_change\n    --------------------------------------------------------------------------------*/\n\n\thandle_change = value => {\n\t\tthis.setState({ value });\n\t} \n\n\t\n\thandle_goBack() {\n\t\tthis.props.history.goBack();\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * handle_submit\n    --------------------------------------------------------------------------------*/\n\tasync handle_submit(data) {\n\t\tdata.user_id=this.state.user_id;\n\t\t// return console.log(\"user\", data);\n\n\t\tvar that = this;\n\t\tvar data = await webapi.ajax.post(\"authorize/user/dopost\", data);\n\t\t\t\n\t\t\twebapi.dialog({\n\t\t\t\tid: \"handle_submit_dialog\",\n\t\t\t\tcontent: data.message,\n\t\t\t\tonshow: function() {\n\t\t\t\t\tvar dthat = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tdthat.close().remove();\n\t\t\t\t\t\tif (data.status == \"success\") {\n\t\t\t\t\t\t\treturn that.props.history.push(\"/authorize/user\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.show();\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * 列表数据\n    --------------------------------------------------------------------------------*/\n\n\tasync init_lists(d = {}) {\n\t\td.order_field = this.state.order_field;\n\t\td.order_value = this.state.order_value;\n\t\tvar data = await webapi.ajax.post(\"authorize/user/lists\", d);\n\t\tvar lists = [];\n\t\tif (data.code === 10000 && data.num_rows > 0) {\n\t\t\tthis.setState({\n\t\t\t\tlists: data.lists,\n\t\t\t\tnum_rows: data.num_rows\n\t\t\t});\n\t\t}\n\t}\n\tasync init_area() {\n\t\tvar data = await webapi.ajax.post(\"authorize/user/area\");\n\t\tif (data.code === 10000) {\n\t\t\tthis.setState({ area: data.lists });\n\t\t}\n\t}\n\n\tasync user_get_expand(user_id, database_id) {\n\t\tvar database = this.state.data.database;\n\t\tvar data = await webapi.ajax.post(\"authorize/user/expand\", {\n\t\t\toffset: this.state.offset,\n\t\t\trow_count: this.state.row_count,\n\t\t\tuser_id: user_id,\n\t\t\tdatabase_id: database_id\n\t\t});\n\t\tif (data.code === 10000) {\n\t\t\tdatabase[database_id].lists = data.lists;\n\t\t\tdatabase[database_id].num_rows = data.num_rows;\n\t\t}\n\t\tthis.setState({ data: { ...this.state.data, database: database } });\n\t}\n\tasync post_user(user_id, database_id, struct) {\n\t\tvar that = this;\n\t\tvar d = that.state.data;\n\t\tif (d.field[database_id]) {\n\t\t\treturn false;\n\t\t}\n\t\tvar url =\n\t\t\t\"authorize/user/\" +\n\t\t\t(struct === \"lists\" ? \"database_field\" : \"expand\");\n\t\tvar data = await webapi.ajax.post(url, {\n\t\t\tuser_id: user_id,\n\t\t\tdatabase_id: database_id\n\t\t});\n\t\tif (struct == \"lists\") {\n\t\t\tthis.user_get_expand(user_id, database_id);\n\t\t}\n\t\tif (data.code === 10000) {\n\t\t\td.field[database_id] = data.data;\n\n\t\t\tthat.setState({ data: d });\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 详细数据\n    --------------------------------------------------------------------------------*/\n\n\tasync init_data() {\n\t\tthis.init_area();\n\t\tvar that = this;\n\t\tvar data = await webapi.ajax.post(\"authorize/user/get\", {\n\t\t\tuser_id: that.state.user_id\n\t\t});\n\t\tif (data.code === 10000) {\n\t\t\tthat.setState(\n\t\t\t\t{\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t...that.state.data,\n\t\t\t\t\t\tdatabase: data.database,\n\t\t\t\t\t\tdatabase_default_id: data.database_default_id\n\t\t\t\t\t},\n\t\t\t\t\ttabs_active: data.database_default_id\n\t\t\t\t},\n\t\t\t\tfunction() {\n\t\t\t\t\tthat.post_user(\n\t\t\t\t\t\tthat.state.user_id,\n\t\t\t\t\t\tthat.state.data.database_default_id\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tkeyGenerator = (node, parentKey) =>\n\t\t`${parentKey},${node.id}`.replace(/^,/, \"\");\n\n\thandleChange = value => this.setState({ nodes: value });\n\n\trenderItem = node => `${node.name}`;\n\n\tget_child_expand(user_id, data) {\n\t\t// console.log(data, this.state);\n\t\tvar child = \"\";\n\t\tconst name=data.prefix+'['+data.field+']';\n\t\tswitch (data.formtype) {\n\t\t\tcase \"radio\":\n\t\t\t\tchild = (\n\t\t\t\t\t<Radio.Group\n\t\t\t\t\t\tkeygen=\"value\"\n\t\t\t\t\t\tdata={data.struct.param}\n\t\t\t\t\t\tformat=\"value\"\n\t\t\t\t\t\trenderItem=\"name\"\n\t\t\t\t\t\tdefaultValue={data.struct.value}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase \"roleid\":\n\t\t\t\tchild = (\n\t\t\t\t\t<Checkbox.Group\n\t\t\t\t\t\tkeygen=\"value\"\n\t\t\t\t\t\tdata={data.struct.param}\n\t\t\t\t\t\tformat=\"value\"\n\t\t\t\t\t\trenderItem=\"name\"\n\t\t\t\t\t\tdefaultValue={data.struct.value}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase \"area\":\n\t\t\t\t// console.log(this.state);\n\t\t\t\tchild = (\n\t\t\t\t\t<Cascader\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tdata={this.state.area}\n\t\t\t\t\t\tkeygen={this.keyGenerator}\n\t\t\t\t\t\trenderItem={this.renderItem}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={this.state.nodes}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tchild = (\n\t\t\t\t\t<Input name={name} defaultValue={data.struct.value} />\n\t\t\t\t);\n\t\t}\n\n\t\treturn <Form.Item label={data.name}>{child}</Form.Item>;\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * handle_expand\n    --------------------------------------------------------------------------------*/\n\thandle_child_expand_lists(user_id, database) {\n\t\tvar that = this;\n\t\tvar m = that.state.data.field[database.id] || [];\n\n\t\tconst columns = m.map(function(val, key) {\n\t\t\treturn {\n\t\t\t\ttitle: val.name,\n\t\t\t\trender: val.field,\n\t\t\t\twidth: 80,\n\t\t\t\talign: \"center\",\n\t\t\t\tthclassName: \"border-0 text-uppercase font-medium\"\n\t\t\t};\n\t\t});\n\t\tcolumns.push({\n\t\t\ttitle: \"操作\",\n\t\t\twidth: 160,\n\t\t\talign: \"center\",\n\t\t\tthclassName: \"border-0 text-uppercase font-medium\",\n\t\t\trender: function(d, i) {\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n\t\t\t\t\t\t\ttitle=\"删除\"\n\t\t\t\t\t\t\tonClick={that.handle_expand_delete.bind(\n\t\t\t\t\t\t\t\tthat,\n\t\t\t\t\t\t\t\tuser_id,\n\t\t\t\t\t\t\t\tdatabase,\n\t\t\t\t\t\t\t\td.id\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"ti-trash\" />{\" \"}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-info btn-circle btn-lg btn-circle  ml-2\"\n\t\t\t\t\t\t\ttitle=\"更改\"\n\t\t\t\t\t\t\tonClick={that.handle_expand_edit.bind(\n\t\t\t\t\t\t\t\tthat,\n\t\t\t\t\t\t\t\tuser_id,\n\t\t\t\t\t\t\t\tdatabase,\n\t\t\t\t\t\t\t\td.id\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"ti-pencil-alt\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\t// console.log(columns)\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Table\n\t\t\t\t\tdata={this.state.data.database[database.id].lists || []}\n\t\t\t\t\tkeygen=\"id\"\n\t\t\t\t\tstriped\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\trowsInView={10}\n\t\t\t\t\tclassName=\"table-responsive\"\n\t\t\t\t\tpagination={{\n\t\t\t\t\t\tcurrent: this.state.offset,\n\t\t\t\t\t\tpageSize: this.state.row_count,\n\t\t\t\t\t\talign: \"center\",\n\t\t\t\t\t\tlayout: [\"links\", \"list\"],\n\t\t\t\t\t\tonChange: this.handle_user_expand_pagechange.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tuser_id,\n\t\t\t\t\t\t\tdatabase\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpageSizeList: [10, 15, 20],\n\t\t\t\t\t\ttotal: this.state.data.database[database.id].num_rows,\n\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\tpage: \"/页\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\thandle_child_expand(user_id, database) {\n\t\tif (database.struct == \"lists\") {\n\t\t\treturn this.handle_child_expand_lists(user_id, database);\n\t\t}\n\t\tvar that = this;\n\t\tvar m = that.state.data.field[database.id] || [];\n\t\t// console.log(\"expand\", m);\n\t\tvar c = m.map(function(val, key) {\n\t\t\treturn <div key={key}>{that.get_child_expand(user_id, val)}</div>;\n\t\t});\n\t\treturn <div>{c}</div>;\n\t}\n\t/*--------------------------------------------------------------------------------\n    * 删除\n    --------------------------------------------------------------------------------*/\n\n\thandle_delete(id) {\n\t\tvar that = this;\n\t\twebapi.delete_dialog(\"authorize/user/delete\", { id: id }, function(\n\t\t\tdata\n\t\t) {\n\t\t\tif (data.status == \"success\") {\n\t\t\t\tthat.init_lists();\n\t\t\t}\n\t\t});\n\t}\n\thandle_expand_delete(user_id, database, id) {}\n\thandle_expand_edit(user_id, database, id) {}\n\t/*--------------------------------------------------------------------------------\n    * handle_tabs \n    --------------------------------------------------------------------------------*/\n\n\thandle_tabs(id) {\n\t\tif (this.state.tabs_active === id) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.setState({ tabs_active: id });\n\t\tvar db = this.state.data.database[id] || {};\n\t\tthis.post_user(this.state.user_id, db.id, db.struct);\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * 分页\n    --------------------------------------------------------------------------------*/\n\n\thandle_pagechange(offset, row_count) {\n\t\tthis.setState({ offset, row_count });\n\t\tthis.init_lists({ offset, row_count });\n\t}\n\n\thandle_user_expand_pagechange(user_id, database, offset, row_count) {\n\t\tthis.setState({ offset, row_count }, () => {\n\t\t\tthis.user_get_expand(user_id, database.id);\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * 排序\n    --------------------------------------------------------------------------------*/\n\n\thandle_sorter(name, order) {\n\t\tvar that = this;\n\t\tthat.setState(\n\t\t\t{ order_field: name, order_value: order, offset: 1 },\n\t\t\tfunction() {\n\t\t\t\tthat.init_lists();\n\t\t\t}\n\t\t);\n\t}\n\t/*--------------------------------------------------------------------------------\n    * account_setting\n    --------------------------------------------------------------------------------*/\n\n\taccount_setting() {\n\t\treturn <div />;\n\t}\n\t/*--------------------------------------------------------------------------------\n    * edit add\n    --------------------------------------------------------------------------------*/\n\n\trender_edit_add() {\n\t\twebapi.pubsub.publish(\"breadcrumb\", breadcrumb);\n\t\tconst action_submit = (\n\t\t\t<Form.Item label=\"\">\n\t\t\t\t<Form.Submit loading={this.state.loading}>{this.state.loading?'正在提交':'立即提交'}</Form.Submit>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\toutline\n\t\t\t\t\tonClick={this.handle_goBack.bind(this)}\n\t\t\t\t>\n\t\t\t\t\t<i className=\"fa fa-reply-all\" aria-hidden=\"true\"></i>\n\t\t\t\t\t返回\n\t\t\t\t</Button>\n\t\t\t</Form.Item>\n\t\t);\n\t\treturn (\n\t\t\t<Form\n\t\t\t\tvalue={this.state.data.user}\n\t\t\t\tonChange={this.handle_change.bind(this)}\n\t\t\t\tonSubmit={this.handle_submit.bind(this)}\n\t\t\t>\n\t\t\t\t<ul className=\"nav nav-tabs\" role=\"tablist\">\n\t\t\t\t\t{Object.keys(this.state.data.database).map(key => {\n\t\t\t\t\t\tvar val = this.state.data.database[key];\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName=\"nav-item\"\n\t\t\t\t\t\t\t\tonClick={this.handle_tabs.bind(this, key)}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t\"nav-link show\",\n\t\t\t\t\t\t\t\t\t\tthis.state.tabs_active === key &&\n\t\t\t\t\t\t\t\t\t\t\t\"active\"\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\thref=\"#!\"\n\t\t\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"hidden-sm-up\">\n\t\t\t\t\t\t\t\t\t\t<i className=\"ti-home\" />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"hidden-xs-down\">\n\t\t\t\t\t\t\t\t\t\t{val.name}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t<div className=\"tab-content tabcontent-border p-4\">\n\t\t\t\t\t{Object.keys(this.state.data.database).map(key => {\n\t\t\t\t\t\tvar database = this.state.data.database[key];\n\t\t\t\t\t\tif (database.struct == \"lists\") {\n\t\t\t\t\t\t\tvar child = this.handle_child_expand(\n\t\t\t\t\t\t\t\tthis.state.user_id,\n\t\t\t\t\t\t\t\tdatabase\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar child = this.handle_child_expand(\n\t\t\t\t\t\t\t\tthis.state.user_id,\n\t\t\t\t\t\t\t\tdatabase\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\"tab-pane\",\n\t\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\t\tthis.state.tabs_active === key && \"active\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{child}\n\t\t\t\t\t\t\t\t{database.struct == \"lists\"\n\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t: action_submit}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</Form>\n\t\t);\n\t}\n\n\t/*--------------------------------------------------------------------------------\n    * 首页\n    --------------------------------------------------------------------------------*/\n\n\trender_index() {\n\t\twebapi.pubsub.publish(\"breadcrumb\", breadcrumb);\n\t\tvar that = this;\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: \"用户ID\",\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img src={d.avatar} width=\"80px\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tsorter: this.handle_sorter.bind(this, \"user_id\"),\n\t\t\t\twidth: 160,\n\t\t\t\talign: \"center\",\n\t\t\t\tthclassName: \"border-0 text-uppercase font-medium\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"用户信息\",\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\tvar c = (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h5 className=\"font-medium mb-0\">{d.nickname}</h5>\n\t\t\t\t\t\t\t<span className=\"text-muted\">{d.email}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t\treturn c;\n\t\t\t\t},\n\t\t\t\twidth: 160,\n\t\t\t\talign: \"center\",\n\t\t\t\tthclassName: \"border-0 text-uppercase font-medium\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"用户信息\",\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\tvar c = (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h5 className=\"font-medium mb-0\">{d.mobile}</h5>\n\t\t\t\t\t\t\t<span className=\"text-muted\">{d.qq}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t\treturn c;\n\t\t\t\t},\n\t\t\t\twidth: 160,\n\t\t\t\talign: \"center\",\n\t\t\t\tthclassName: \"border-0 text-uppercase font-medium\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"添加时间\",\n\t\t\t\tsorter: this.handle_sorter.bind(this, \"create_time\"),\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\treturn d.create_time;\n\t\t\t\t},\n\t\t\t\twidth: 160,\n\t\t\t\talign: \"center\",\n\t\t\t\tthclassName: \"border-0 text-uppercase font-medium\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"最后登录时间\",\n\t\t\t\tsorter: this.handle_sorter.bind(this, \"last_login\"),\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\treturn d.last_login;\n\t\t\t\t},\n\t\t\t\twidth: 160,\n\t\t\t\talign: \"center\",\n\t\t\t\tthclassName: \"border-0 text-uppercase font-medium\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"操作\",\n\t\t\t\trender: function(d, i) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n\t\t\t\t\t\t\t\ttitle=\"删除\"\n\t\t\t\t\t\t\t\tonClick={that.handle_delete.bind(\n\t\t\t\t\t\t\t\t\tthat,\n\t\t\t\t\t\t\t\t\td.user_id\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"ti-trash\" />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={\"/authorize/user/edit/\" + d.user_id}\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"ti-pencil-alt\" />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\twidth: 160,\n\t\t\t\talign: \"center\",\n\t\t\t\tthclassName: \"border-0 text-uppercase font-medium\"\n\t\t\t}\n\t\t];\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"card\">\n\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\tdata={this.state.lists}\n\t\t\t\t\t\t\t\tkeygen=\"user_id\"\n\t\t\t\t\t\t\t\tstriped\n\t\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\t\trowsInView={10}\n\t\t\t\t\t\t\t\tpagination={{\n\t\t\t\t\t\t\t\t\tcurrent: this.state.offset,\n\t\t\t\t\t\t\t\t\tpageSize: this.state.row_count,\n\t\t\t\t\t\t\t\t\talign: \"center\",\n\t\t\t\t\t\t\t\t\tlayout: [\"links\", \"list\"],\n\t\t\t\t\t\t\t\t\tonChange: this.handle_pagechange.bind(this),\n\t\t\t\t\t\t\t\t\tpageSizeList: [10, 15, 20],\n\t\t\t\t\t\t\t\t\ttotal: this.state.num_rows\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default connect(store => ({ ...store }))(User);","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/columns.js",["520","521","522","523","524","525"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from '@/reducers/index.js';\nimport webapi from \"@/utils/webapi\";\nimport moment from \"moment\";\nimport {\n    Form,\n    Input, \n    Radio, \n    Select, \n    Upload,\n    Table,\n    Button,\n    Cascader,\n    Tabs\n} from \"antd\";\nimport { UploadOutlined } from '@ant-design/icons';\n\nconst BREADCRUMB = {\n    type: 'BREADCRUMB',\n    data: {\n        title: \"栏目管理\",\n        lists: [\n            { title: \"主页\", url: \"/\" },\n            { title: \"栏目管理\", url: \"/authorize/columns\" }\n        ],\n        buttons: []\n    }\n};\nclass Columns extends React.Component {\n    formRef = React.createRef();\n    columns_children = [];\n    model = {};\n    templates = {};\n    type = {}; \n    /**\n     * 构造\n     */\n    constructor(props) {\n        // console.log('d=>', props);\n        super(props);\n        this.state = this.init_state();\n    }\n    /**\n     * props 有变化\n     */\n    componentWillReceiveProps(props) {\n        const query = webapi.utils.query();\n        this.props = props;\n        var q = query.q || '';\n        var method = this.props.match.params.method || 'index';\n        // console.log('d=>', this.state, props, query);\n        if (q === this.state.q && method === this.state.method) {\n            return false;\n        }\n        // console.log('d=>',this.state, props);\n        this.setState(this.init_state(), () => {\n            this.handle_init();\n        });\n    }\n    /**\n     * 面包屑导航\n     */\n    breadcrumb(data={}){ \n        const b=JSON.parse(JSON.stringify(BREADCRUMB));\n        b.data={ ...b.data, ...data };  \n        store.dispatch(b);\n    }\n    /**\n     * 渲染前调用\n     */\n    componentWillMount() {\n        // console.log('d=>在渲染前调用,在客户端也在服务端', this.state);\n        this.handle_init();\n    }\n\n    /**\n     * __method 1=other\n     * @param type string  公共方法处理 \n     * @return mixed \n     */\n    __method(type) {\n        let method = type + this.state.method;\n        if (!(method in this)) {\n            var obj = Object.getPrototypeOf(this) || {};\n            console.warn(type + 'd=>类:' + obj.constructor.name + ' 方法:' + method + '不存在');\n            method = type + 'index';\n        }\n        // console.log('d=>__method', method);\n        //保护\n        if ((method in this)) {\n            return this[method]();\n        } else {\n            return '';\n        }\n    }\n    /**\n     * init_state 初始化状态 2=init\n     * @return obj \n     */\n    init_state() {\n        if (Object.keys(this.model).length === 0) {\n            this.get_module();\n        } \n         \n        if (this.columns_children.length === 0) {\n            this.get_children();\n        }\n        const query = webapi.utils.query();\n        return {\n            q: query.q || '',\n            method: this.props.match.params.method || \"index\",\n            id: this.props.match.params.id || 0,\n            order_field: \"create_time\",\n            order_value: \"desc\",\n            lists: [],\n            parent_id: 0,\n            data: {},\n            pagination: this.init_page_data(),\n            app: this.props.app || {},\n        };\n    }\n    init_page_data() {\n        return { pageSize: 10, total: 0, current: 1, onChange: this.handle_page_change.bind(this), onShowSizeChange: this.handle_page_show_size_change.bind(this) };\n    }\n    /**\n     * handle_init 业务初始化 3=handle\n     * @return obj \n     */\n    handle_init() {\n        this.__method('init_');\n    }\n\n    /**\n     * 改变 表格\n     * @param page 当前页\n     * @param page_size 当前分页大小\n     * @return mixed \n     */\n    handle_table_change(pagination, filters, sorter) {\n        let method = 'init_' + this.state.method;\n        const pager = { ...this.state.pagination };\n        pager.current = pagination.current;\n        pager.pageSize = pagination.pageSize;\n        let order_field = sorter.field;\n        let order_value = sorter.order;\n        this.setState({\n                pagination: pager,\n                order_field: order_field,\n                order_value: order_value == 'ascend' ? 'asc' : 'desc'\n            },\n            () => {\n                if (!(method in this)) {\n                    var obj = Object.getPrototypeOf(this) || {};\n                    console.warn('表格d=>类:' + obj.constructor.name + ' 方法:' + method + '不存在');\n\n                } else {\n                    this[method]();\n                }\n            },\n        );\n    }\n    /**\n     * 改变 分页\n     * @param page 当前页\n     * @param page_size 当前分页大小\n     * @return mixed \n     */\n    handle_page_change(page, page_size) {\n        return {};\n    }\n    /**\n     * 改变 分页大小\n     * @param page 当前页\n     * @param page_size 当前分页大小\n     * @return mixed \n     */\n    handle_page_show_size_change(page, page_size) {\n        this.handle_page_change(page, page_size);\n    }\n    /**\n     * render 渲染  4=render\n     * @return obj \n     */\n    render() {\n        return this.__method('render_');\n    }\n    /*----------------------1 other start----------------------*/\n    \n    /**\n     * 获取栏目模块数据\n     * @return obj \n     */\n    async get_module() {\n        var data = await webapi.ajax.get('authorize/columns/module');\n        if (data.code === 10000) {\n            this.model = data.data.model;\n            this.templates = data.data.templates;\n            this.type = data.data.type;\n        } \n    }\n     \n    /**\n     * 获取栏目村\n     * @return obj \n     */\n    async get_children() {\n        var data = await webapi.ajax.get('authorize/columns/children');\n        if (data.code === 10000) {\n            this.columns_children = data.lists;\n        } \n    }\n\n    /*----------------------1 other end  ----------------------*/\n\n    /*----------------------2 init start----------------------*/\n    /**\n     * index  列表数据 \n     */\n    async init_index(d = {}) {\n        var buttons = [\n            { title: \"添加栏目\", url: \"/authorize/columns/add\" }\n        ]; \n        this.breadcrumb({buttons}); \n        d.q = this.state.q;\n        d.order_field = this.state.order_field;\n        d.order_value = this.state.order_value;\n        d.row_count = this.state.pagination.pageSize;\n        d.offset = this.state.pagination.current;\n        var data = await webapi.ajax.get(\"authorize/columns/lists\", d);\n        var lists = [];\n        var load = true;\n        if (data.code === 10000 && data.num_rows > 0) {\n            lists = data.lists;\n        }\n        this.setState({\n            lists: lists,\n            pagination: { ...this.state.pagination, total: data.num_rows }\n        }); \n    }\n    /*----------------------2 init end  ----------------------*/\n    init_edit() {\n        this.init_edit_add('edit');\n    }\n    init_add() {\n        this.init_edit_add('add');\n    }\n    async init_edit_add(action) {\n        var data = {};\n        var b={title:BREADCRUMB.data.title};\n        if (action === 'edit' && this.state.id) {\n            var res = await webapi.ajax.get(\"authorize/columns/get\", {\n                id: this.state.id\n            });\n            if (res.code === 10000) {\n                data = res.data;\n            }\n            b.title=BREADCRUMB.data.title+'-'+data.name+'-编辑';\n        }else{\n            b.title=BREADCRUMB.data.title+'-'+'添加';\n        }\n\n        this.setState({ data: data });\n        this.formRef.current && this.formRef.current.setFieldsValue({ ...data });\n        this.breadcrumb(b);\n    }\n\n\n    /*----------------------3 handle start----------------------*/\n\n    handle_parent_id = value => {\n        var parent_id = value[value.length - 1];\n        if (parent_id != this.state.id) {\n            this.setState({\n                parent_id: parent_id,\n            });\n        }\n\n    };\n\n\n    /**\n     * 提交\n     **/\n    async handle_submit(data = {}) {\n        data.id = this.state.id;\n        data.parent_id = this.state.parent_id;\n        var res = await webapi.ajax.post(\"authorize/columns/dopost\", data);\n        if (res.code === 10000) {\n            this.get_children();\n            webapi.message.success(res.message);\n            this.props.history.replace('/authorize/columns');\n        } else {\n            webapi.message.error(res.message);\n        }\n    }\n\n    /**\n     * 集中 删除\n     **/\n    handle_do_delete(url, id) {\n        var that = this;\n        webapi.delete(\n            \"authorize/columns/\" + url, { id: id },\n            function(data) {\n                if (data.status == \"success\") {\n                    webapi.message.success(data.message);\n                    that.__method('init_');\n                } else {\n                    webapi.message.error(data.message);\n                }\n            }\n        );\n    }\n    /**\n     * 删除\n     **/\n    handle_delete(id) {\n        this.handle_do_delete('delete', id);\n    }\n\n\n    /*----------------------3 handle end  ----------------------*/\n\n    /*----------------------4 render start----------------------*/\n\n    /**\n     * 渲染 首页\n     **/\n    render_index() {\n        const columns = [{\n                title: \"名称\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"name\",\n                align: \"center\",\n            },\n            {\n                title: \"链接\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"url\",\n                align: \"center\",\n            },\n            {\n                title: \"时间\",\n                sorter: true,\n                dataIndex: \"create_time\",\n                render: (field, data) => {\n                    return moment(data.create_time * 1000).format(\n                        \"YYYY-MM-DD HH:mm:ss\"\n                    );\n                },\n                align: \"center\",\n            },\n            {\n                title: \"操作\",\n                align: \"center\",\n                render: (field, data) => {\n                    return (\n                        <div>\n                            <a\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n                                title=\"删除\"\n                                onClick={this.handle_delete.bind(this, data.id)}\n                            >\n                                <i className=\"ti-trash\" />\n                            </a>\n                            <Link\n                                to={\"/authorize/columns/edit/\" + data.id}\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n                            >\n                                <i className=\"ti-pencil-alt\" />\n                            </Link>\n                        </div>\n                    );\n                }\n            }\n        ];\n        return (\n\n            <div className=\"card\">\n                         \n                        <Table\n                    rowKey={res => res.id}\n                    columns={columns}\n                    dataSource={this.state.lists}\n                    pagination={this.state.pagination}\n                    loading={this.props.loading} \n                    onChange={this.handle_table_change.bind(this)}\n                />\n\n                             \n                         \n                    </div>\n\n        );\n    }\n    /**\n     * 编辑\n     * @return obj \n     */\n    render_edit() {\n        return this.render_edit_add();\n    }\n    /**\n     * 添加\n     * @return obj \n     */\n    render_add() {\n        return this.render_edit_add();\n    }\n    /**\n     * 添加、编辑\n     * @return obj \n     */\n    render_edit_add() {\n        // console.log('d=>', this.props)\n        const layout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 20 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 4, span: 20 },\n};\n        return (\n            <Form \n                                ref={this.formRef}\n                                onFinish={this.handle_submit.bind(this)}\n                                {...layout}\n                            >\n\n                            <Tabs defaultActiveKey=\"1\">\n    <Tabs.TabPane tab=\"基本选项\" key=\"1\">\n      <Form.Item name=\"name\" label=\"名称\">\n                                    <Input  />\n                                </Form.Item>\n                                \n                                <Form.Item name=\"url\" label=\"链接\">\n                                    <Input  />\n                                </Form.Item>  \n                                <Form.Item name=\"parent_id_all\" label=\"上级\">\n\t                                <Cascader\n\t                                defaultValue={this.state.parent_id_all} \n\t\t\t\t\t\t            options={this.columns_children}\n\t\t\t\t\t\t            fieldNames={{ label: 'name', value: 'id' }}\n\t\t\t\t\t\t            changeOnSelect\n\t\t\t\t\t\t            onChange={this.handle_parent_id}\n\t\t\t\t\t\t          />\n                                </Form.Item>\n                                <Form.Item name=\"letter\" label=\"英文\">\n\t\t\t\t\t\t\t<Input  />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item   label=\"图片\">\n\t\t\t\t\t\t\t<Upload name=\"logo\"   listType=\"picture\">\n          <Button icon={<UploadOutlined />}>图片上传</Button>\n        </Upload>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"idx\" label=\"排序\">\n\t\t\t\t\t\t\t<Input  />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"icon\" label=\"图标\">\n\t\t\t\t\t\t\t<Input  />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"type\"  label=\"类型\">\n\t\t\t\t\t\t\t<Select>\n                            {Object.keys(this.type).map((val, key) => {\n                                return (\n                                    <Select.Option key={key} value={this.type[val]['id']}>\n                                        {this.type[val]['name']}\n                                    </Select.Option>\n                                );\n                            })}\n                        </Select>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item label=\"模型\">\n\t\t\t\t\t\t\t<Select>\n                            {Object.keys(this.model).map((val, key) => {\n                                return (\n                                    <Select.Option key={key} value={this.model[val]['id']}>\n                                        {this.model[val]['name']}\n                                    </Select.Option>\n                                );\n                            })}\n                        </Select>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"intro\" label=\"介绍\">\n\t\t\t\t\t\t\t<Input.TextArea   rows={4}/>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\n\n    </Tabs.TabPane>\n    <Tabs.TabPane tab=\"生成设置\" key=\"2\">\n       <Form.Item label=\"生成静态\" name=\"sethtml\">\n       <Radio.Group >\n      <Radio value={1}>生成静态</Radio>\n      <Radio value={2}>跟随系统</Radio> \n    </Radio.Group>\n\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t<Form.Item name=\"islogin\" label=\"是否登录\">\n\t\t\t\t\t\t<Radio.Group >\n      <Radio value={1}>登录可见</Radio>\n      <Radio value={2}>游客可见</Radio> \n    </Radio.Group>\n\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"controller\"  label=\"内容映射\">\n\t\t\t\t\t\t\t<Input />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"method\"  label=\"映射功能\">\n\t\t\t\t\t\t\t<Input />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"catdir\"  label=\"生成文件\">\n\t\t\t\t\t\t\t<Input />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"purl\" label=\"生成地址\">\n\t\t\t\t\t\t\t<Input  />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"show_template\"label=\"内容模板\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Select>\n                            {Object.keys(this.templates).map((val, key) => {\n                                return (\n                                    <Select.Option key={key} value={this.templates[val]['id']}>\n                                        {this.templates[val]['name']}\n                                    </Select.Option>\n                                );\n                            })}\n                            </Select>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"list_template\" label=\"列表模板\">\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t<Select>\n                            {Object.keys(this.templates).map((val, key) => {\n                                return (\n                                    <Select.Option key={key} value={this.templates[val]['id']}>\n                                        {this.templates[val]['name']}\n                                    </Select.Option>\n                                );\n                            })}\n                            </Select>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"category_template\"label=\"列表模板\">\n\t\t\t\t\t\t\t <Select>\n                            {Object.keys(this.templates).map((val, key) => {\n                                return (\n                                    <Select.Option key={key} value={this.templates[val]['id']}>\n                                        {this.templates[val]['name']}\n                                    </Select.Option>\n                                );\n                            })}\n                        </Select>\n\t\t\t\t\t\t</Form.Item>\n\n\n    </Tabs.TabPane>\n    <Tabs.TabPane tab=\"高级设置\" key=\"3\">\n      <Form.Item name=\"keywords\" label=\"关键词\">\n\t\t\t\t\t\t\t<Input.TextArea   rows={4} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"description\" label=\"描述\">\n\t\t\t\t\t\t\t<Input.TextArea   rows={4} />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t<Form.Item name=\"expand\" label=\"扩展信息\">\n\t\t\t\t\t\t\t<Input.TextArea   rows={4} />\n\t\t\t\t\t\t</Form.Item>\n    </Tabs.TabPane>\n  </Tabs>\n\n                                \n                                <Form.Item {...tailLayout}>\n                                <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            style={{ 'marginRight': '8px' }}\n            loading={this.props.loading}\n          >\n            {this.props.loading?'正在提交':'立即提交'}\n          </Button>\n          <Link className=\"button\" to={'/authorize/columns'}>\n            返回\n          </Link>\n        </Form.Item>\n\n                                     \n                                      \n                            </Form>\n\n        );\n    }\n\n\n    /*----------------------4 render end  ----------------------*/\n\n}\nexport default connect(store => ({ ...store }))(Columns);","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/permission.js",["526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Basic_Component from \"@/components/base/basic_component.js\";\nimport webapi from \"@/utils/webapi\";\nimport moment from \"moment\";\nimport {\n    Form,\n    Input,\n    Checkbox,\n    Radio,\n    Textarea,\n    Select,\n    DatePicker,\n    Tree,\n    Upload,\n    Table,\n    Button,\n    Cascader,\n} from \"antd\";\n\nconst BREADCRUMB = {\n    title: \"权限管理\",\n    lists: [\n        { title: \"主页\", url: \"/\" },\n        { title: \"权限管理\", url: \"/authorize/permission\" },\n    ],\n    buttons: [{ title: \"权限组管理\", url: \"/authorize/permission/group\" }],\n};\nclass Permission extends Basic_Component {\n    formRef = React.createRef();\n    group = {};\n    permission_children = [];\n    /**\n     * 构造\n     */\n    constructor(props) {\n        super(props);\n    }\n\n    /**\n     * 面包屑导航\n     */\n    __breadcrumb(data = {}) {\n        super.__breadcrumb({ ...BREADCRUMB, ...data });\n    }\n    __init_state_after() {\n        return {\n            ...super.__init_state_after(),\n            group: {},\n            permission_children: [],\n        };\n    }\n    __handle_init_before = () => {\n        // super.__handle_init_before();\n    };\n\n    /*----------------------1 other start----------------------*/\n\n    /**\n     * 获取群组\n     * @return obj\n     */\n    async get_group(reset = false) {\n        var data = this.group || {};\n        if (reset || Object.keys(data).length === 0) {\n            var res = await webapi.ajax.get(\"authorize/permission/group\", {\n                dict: 1,\n            });\n            if (res.code === 10000) {\n                data = res.lists;\n            }\n        }\n        this.group = data;\n        return this.group;\n    }\n    /**\n     * 获取权限村\n     * @return obj\n     */\n    async get_permission_children(reset = false) {\n        var data = this.permission_children || {};\n        if (reset || Object.keys(data).length === 0) {\n            var res = await webapi.ajax.get(\"authorize/permission/children\");\n            if (res.code === 10000) {\n                data = res.lists;\n            }\n        }\n        this.permission_children = data;\n        return this.permission_children;\n    }\n\n    /*----------------------1 other end  ----------------------*/\n\n    /*----------------------2 init start----------------------*/\n\n    /**\n     * index  列表数据\n     */\n    __init_index(d = {}) {\n        var buttons = [\n            { title: \"添加权限\", url: \"/authorize/permission/add\" },\n            { title: \"群组管理\", url: \"/authorize/permission/group\" },\n        ]; \n        this.get_group().then((group) => {\n            this.setState({ group }, () => {\n                this.init_lists(\"authorize/permission/lists\", d, { buttons });\n            });\n        });\n    }\n    /**\n     * group 列表数据\n     */\n\n    async __init_group(d = {}) {\n        var buttons = [\n            { title: \"添加群组\", url: \"/authorize/permission/group_add\" },\n            { title: \"权限管理\", url: \"/authorize/permission\" },\n        ];\n        var title = BREADCRUMB.title + \"-群组\";\n        this.init_lists(\"authorize/permission/group\", d, { buttons, title });\n    }\n    /**\n     *  列表数据\n     */\n    async init_lists(url, d = {}, b = {}) {\n        d.q = this.state.q;\n        d.order_field = this.state.order_field;\n        d.order_value = this.state.order_value;\n        d.row_count = this.state.pagination.pageSize;\n        d.offset = this.state.pagination.current;\n        var data = await webapi.ajax.get(url, d);\n        var lists = [];\n        var load = true;\n        if (data.code === 10000 && data.num_rows > 0) {\n            lists = data.lists;\n        }\n        this.setState({\n            lists: lists,\n            pagination: { ...this.state.pagination, total: data.num_rows },\n        });\n        this.__breadcrumb(b);\n    }\n    /*----------------------2 init end  ----------------------*/\n\n    async __init_add_edit(action) {\n        var b = {};\n        var data = {};\n        if (action === \"edit\" && this.state.id) {\n            var res = await webapi.ajax.get(\"authorize/permission/get\", {\n                id: this.state.id,\n            });\n            if (res.code === 10000) {\n                data = res.data;\n            }\n            b.title = BREADCRUMB.title + \"-\" + data.name + \"-编辑\";\n        } else {\n            b.title = BREADCRUMB.title + \"-\" + \"添加\";\n        }\n        var permission_children = this.state.permission_children || [];\n        if (permission_children.length === 0) {\n            this.get_permission_children().then((permission_children) => {\n                this.setState({ data, permission_children });\n            });\n        }\n        this.formRef.current &&\n            this.formRef.current.setFieldsValue({ ...data });\n        this.__breadcrumb(b);\n    }\n    __init_group_edit() {\n        this.__init_group_add_edit(\"edit\");\n    }\n    __init_group_add() {\n        this.__init_group_add_edit(\"add\");\n    }\n    async __init_group_add_edit(action) {\n        var b = {};\n        var data = {};\n        if (action === \"edit\" && this.state.id) {\n            var res = await webapi.ajax.get(\"authorize/permission/group_get\", {\n                id: this.state.id,\n            });\n            if (res.code === 10000) {\n                data = res.data;\n            }\n            b.title = BREADCRUMB.title + \"-群组-\" + data.name + \"-编辑\";\n        } else {\n            b.title = BREADCRUMB.title + \"-群组-\" + \"添加\";\n        }\n        this.setState({\n            data: data,\n        });\n        this.formRef.current &&\n            this.formRef.current.setFieldsValue({ ...data });\n        this.__breadcrumb(b);\n    }\n\n    /*----------------------3 handle start----------------------*/\n    /**\n     * cascader_id 操作\n     **/\n    handle_cascader_id = (value, field) => {\n        var id = value[value.length - 1];\n        if (id != this.state.id) {\n            this.setState({\n                [field]: id,\n            });\n        }\n    };\n\n    /**\n     * 提交\n     **/\n    handle_submit = async (data = {}) => {\n        data.id = this.state.id;\n        data.parent_id = this.state.parent_id || 0;\n        data.group_id = this.state.group_id || 0;\n        var res = await webapi.ajax.post(\"authorize/permission/dopost\", data);\n        if (res.code === 10000) {\n            this.get_permission_children(1);    \n            webapi.message.success(res.message);\n            this.props.history.replace(\"/authorize/permission\");\n        } else {\n            webapi.message.error(res.message);\n        }\n    };\n\n    /**\n     * 集中 删除\n     **/\n    handle_do_delete(url, id) {\n        var that = this;\n        webapi.confirm({\n            url: \"authorize/permission/\" + url,\n            data: { id },\n            success: (data) => {\n                if (data.code === 10000) {\n\n                    webapi.message.success(data.message);\n                    that.__method(\"init_\");\n                } else {\n                    webapi.message.error(data.message);\n                }\n            },\n        });\n    }\n    /**\n     * 删除\n     **/\n    handle_delete(id) {\n        this.handle_do_delete(\"delete\", id);\n    }\n    /**\n     * 群组删除\n     **/\n    handle_group_delete(id) {\n        this.handle_do_delete(\"group_delete\", id);\n    }\n    /**\n     * 群组提交\n     **/\n    handle_group_submit = async (data = {}) => {\n        data.id = this.state.id;\n        var res = await webapi.ajax.post(\n            \"authorize/permission/group_dopost\",\n            data\n        );\n        if (res.code === 10000) {\n            this.get_group(1);\n            webapi.message.success(res.message);\n            this.props.history.replace(\"/authorize/permission/group\");\n        } else {\n            webapi.message.error(res.message);\n        }\n    };\n\n    /*----------------------3 handle end  ----------------------*/\n\n    /*----------------------4 render start----------------------*/\n\n    /**\n     * 渲染 首页\n     **/\n    __render_index() {\n        const columns = [\n            {\n                title: \"名称\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"name\",\n                align: \"center\",\n            },\n            {\n                title: \"链接\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"url\",\n                align: \"center\",\n            },\n            {\n                title: \"群组\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"group_id\",\n                render: (field, data) => {\n                    return data.group_id == 0 ||\n                        Object.keys(this.state.group).length === 0\n                        ? \"--\"\n                        : this.state.group[data.group_id][\"name\"];\n                },\n                align: \"center\",\n            },\n            {\n                title: \"时间\",\n                sorter: true,\n                dataIndex: \"create_time\",\n                render: (field, data) => {\n                    return moment(data.create_time * 1000).format(\n                        \"YYYY-MM-DD HH:mm:ss\"\n                    );\n                },\n                align: \"center\",\n            },\n            {\n                title: \"操作\",\n                align: \"center\",\n                render: (field, data) => {\n                    return (\n                        <div>\n                            <a\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n                                title=\"删除\"\n                                onClick={() => {\n                                    this.handle_delete(data.id);\n                                }}\n                            >\n                                <i className=\"ti-trash\" />\n                            </a>\n                            <Link\n                                to={\"/authorize/permission/edit/\" + data.id}\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n                            >\n                                <i className=\"ti-pencil-alt\" />\n                            </Link>\n                        </div>\n                    );\n                },\n            },\n        ];\n        return (\n            <div className=\"card\">\n                <Table\n                    rowKey={(res) => res.id}\n                    columns={columns}\n                    dataSource={this.state.lists}\n                    pagination={this.state.pagination}\n                    loading={this.props.loading}\n                    onChange={this.__handle_table_change}\n                />\n            </div>\n        );\n    }\n\n    /**\n     * 添加、编辑\n     * @return obj\n     */\n    __render_add_edit() {\n        return (\n            <Form ref={this.formRef} onFinish={this.handle_submit}>\n                <Form.Item name=\"name\" label=\"名称\">\n                    <Input />\n                </Form.Item>\n\n                <Form.Item name=\"url\" label=\"链接\">\n                    <Input />\n                </Form.Item>\n                <Form.Item name=\"parent_id_all\" label=\"所属\">\n                    <Cascader\n                        defaultValue={this.state.parent_id_all}\n                        options={this.state.permission_children}\n                        fieldNames={{ label: \"name\", value: \"id\" }}\n                        changeOnSelect\n                        onChange={(o) => {\n                            this.handle_cascader_id(o, \"parent_id\");\n                        }}\n                    />\n                </Form.Item>\n                <Form.Item label=\"\">\n                    <Button\n                        type=\"primary\"\n                        htmlType=\"submit\"\n                        style={{ marginRight: \"8px\" }}\n                        loading={this.props.loading}\n                    >\n                        {this.props.loading ? \"正在提交\" : \"立即提交\"}\n                    </Button>\n                    <Link className=\"button\" to={\"/authorize/permission\"}>\n                        返回\n                    </Link>\n                </Form.Item>\n            </Form>\n        );\n    }\n    __render_group() {\n        var that = this;\n        const columns = [\n            {\n                title: \"id\",\n                dataIndex: \"id\",\n\n                sorter: true,\n                align: \"center\",\n            },\n            {\n                title: \"名称\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"name\",\n\n                align: \"center\",\n            },\n\n            {\n                title: \"时间\",\n                sorter: true,\n                dataIndex: \"create_time\",\n                render: function (field, data) {\n                    return moment(data.create_time * 1000).format(\n                        \"YYYY-MM-DD HH:mm:ss\"\n                    );\n                },\n\n                align: \"center\",\n            },\n            {\n                title: \"操作\",\n\n                align: \"center\",\n                render: (d, i) => {\n                    return (\n                        <div>\n                            <a\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n                                title=\"删除\"\n                                onClick={() => {\n                                    this.handle_group_delete(d.id);\n                                }}\n                            >\n                                <i className=\"ti-trash\" />{\" \"}\n                            </a>\n                            <Link\n                                to={\"/authorize/permission/group_edit/\" + d.id}\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle ml-2\"\n                            >\n                                <i className=\"ti-pencil-alt\" />\n                            </Link>\n                        </div>\n                    );\n                },\n            },\n        ];\n        return (\n            <div className=\"card\">\n                <Table\n                    rowKey={(res) => res.id}\n                    columns={columns}\n                    dataSource={this.state.lists}\n                    pagination={this.state.pagination}\n                    loading={this.props.loading}\n                    onChange={this.__handle_table_change}\n                />\n            </div>\n        );\n    }\n    /**\n     * 编辑\n     * @return obj\n     */\n    __render_group_edit() {\n        return this.render_group_add_edit();\n    }\n    /**\n     * 添加\n     * @return obj\n     */\n    __render_group_add() {\n        return this.render_group_add_edit();\n    }\n    /**\n     * 添加、编辑\n     * @return obj\n     */\n    render_group_add_edit() {\n        return (\n            <Form ref={this.formRef} onFinish={this.handle_group_submit}>\n                <Form.Item name=\"name\" label=\"名称\">\n                    <Input />\n                </Form.Item>\n                <Form.Item name=\"allow\" label=\"链接\">\n                    <Input />\n                </Form.Item>\n\n                <Form.Item label=\"\">\n                    <Button\n                        type=\"primary\"\n                        htmlType=\"submit\"\n                        style={{ marginRight: \"8px\" }}\n                        loading={this.props.loading}\n                    >\n                        {this.props.loading ? \"正在提交\" : \"立即提交\"}\n                    </Button>\n                    <Link className=\"button\" to={\"/authorize/permission/group\"}>\n                        返回\n                    </Link>\n                </Form.Item>\n            </Form>\n        );\n    }\n    /*----------------------4 render end  ----------------------*/\n}\nexport default connect((store) => ({ ...store }))(Permission);\n","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/auth_item.js",["542","543","544","545","546"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport qs from \"qs\";\nimport { parse } from \"querystring\";\nimport styles from \"@/styles/auth.less\";\nconst query = () => parse(window.location.search.split(\"?\")[1]);\nconst build_url = (uri) => {\n  return uri + \"?\" + qs.stringify(query());\n};\nvar account = function (props = {}) {\n  return (\n    <div className={styles.li}>\n      <div className={styles.text}>{props.text || \"账号\"}:</div>\n      <div className={styles.inputbox}>\n        <input\n          type={props.type || \"text\"}\n          name={props.name || \"account\"}\n          className={styles.input}\n          id={props.id || \"account\"}\n          placeholder={props.placeholder || \"请输入邮箱/账号/手机号\"}\n          onChange={props.onChange}\n          value={props.value}\n          onKeyUp={props.onKeyUp}\n          autoComplete={props.autocomplete ? \"on\" : \"off\"}\n          disabled={props.disabled}\n        />\n      </div>\n      <div className={styles.clear} />\n    </div>\n  );\n};\nvar password = function (props = {}) {\n  return (\n    <div className={styles.li}>\n      <div className={styles.text}>{props.text || \"密码\"}:</div>{\" \"}\n      <div className={styles.inputbox} style={{ position: \"relative\" }}>\n        <input\n          type={props.eyes_state ? \"text\" : \"password\"}\n          name={props.name || \"password\"}\n          className={styles.input}\n          id={props.id || \"password\"}\n          placeholder={props.placeholder || \"请输入密码\"}\n          onChange={props.onChange}\n          value={props.value}\n          onKeyUp={props.onKeyUp}\n          autoComplete=\"password\"\n        />\n        {props.eyes_icon ? (\n          <img\n            className={styles.eyes}\n            src={props.eyes_icon}\n            onClick={props.handle_change_eye_state}\n          />\n        ) : (\n          \" \"\n        )}\n      </div>\n      <div className={styles.clear} />\n    </div>\n  );\n};\nvar captcha_number = function (props = {}) {\n  return (\n    <div className={styles.li}>\n      <div className={styles.text}>验&ensp;证&ensp;码:</div>{\" \"}\n      <div className={styles.inputbox} style={{ position: \"relative\" }}>\n        <input\n          type=\"number\"\n          name=\"captcha\"\n          maxLength=\"4\"\n          className={[styles.input, styles.inputcaptcha].join(\" \")}\n          placeholder={props.placeholder || \"请输入验证码\"}\n          onChange={props.onChange}\n          value={props.value || \"\"}\n          autoComplete={props.autocomplete ? \"on\" : \"off\"}\n          disabled={props.disabled}\n          onKeyUp={props.onKeyUp}\n        />\n        <div className={styles.captcha}>\n          <img\n            src={props.captcha_url}\n            onClick={props.chang_captcha}\n            alt=\"点击刷新\"\n            title=\"点击刷新\"\n          />\n        </div>\n      </div>\n      <div className={styles.clear} />\n    </div>\n  );\n};\nvar bottom = (props) => {\n  const { button = {}, links = [] } = props;\n  return (\n    <div className={styles.li}>\n      <div className={styles.btm_left}>\n        <span onClick={button.onclick} className={styles.button}>\n          {button.text}\n        </span>\n      </div>\n      <div className={styles.btm_right}>\n        {links.map((val, key) => {\n          return (\n            <Link key={key} to={build_url(val.href)} onClick={val.onClick}>\n              {val.text}\n            </Link>\n          );\n        })}\n      </div>\n      <div className={styles.btm_bottom}>\n        <ul className={styles.list}>\n          <li className={styles.dict}>\n            {props.wechat ? (\n              <a href=\"#!\">\n                <img src={require(\"@/images/login_wechat.png\").default} />\n              </a>\n            ) : (\n              \"\"\n            )}\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n};\nvar captcha_mobile = (props) => {\n  return (\n    <div className={styles.li}>\n      <div className={styles.text}>{props.text || \"验证码\"}:</div>{\" \"}\n      <div className={styles.inputbox}>\n        <input\n          type=\"number\"\n          name=\"captcha\"\n          maxLength=\"6\"\n          className={[styles.input, styles.inputcaptcha].join(\" \")}\n          placeholder={props.placeholder || \"请输入短信验证码\"}\n          onChange={props.onChange}\n          value={props.value || \"\"}\n          autoComplete={props.autocomplete ? \"on\" : \"off\"}\n        />\n        <a\n          onClick={props.onClick}\n          href=\"#!\"\n          className={[\n            styles.button,\n            props.captcha_btn_disabled ? styles.disabled : \"\",\n          ].join(\" \")}\n        >\n          {props.valicode_text}\n        </a>\n      </div>\n      <div className={styles.clear} />\n    </div>\n  );\n};\nvar captcha_account = (props) => {\n  return (\n    <div className={styles.li}>\n      <div className={styles.text}>登录账号:</div>{\" \"}\n      <div className={styles.lable}>\n        12389238432\n        <a onClick={props.onClick} className={styles.button}>\n          {props.valicode_text}\n        </a>\n      </div>\n      <div className={styles.clear} />\n    </div>\n  );\n};\nvar invite_person = (props) => {\n  return (\n    <>\n      {props.input_disabled ? (\n        <div className={styles.li}>\n          <div className={styles.text}>{props.text || \"邀请人\"}:</div>\n          <div className={styles.inputbox}>\n            <input\n              type={props.type || \"text\"}\n              name={props.name || \"invite_person\"}\n              className={styles.input}\n              id={props.id || \"invite_person\"}\n              placeholder={props.placeholder || \"邀请人手机号或UID（选填）\"}\n              onChange={props.onChange}\n              value={props.value}\n              onKeyUp={props.onKeyUp}\n              autoComplete={props.autocomplete ? \"on\" : \"off\"}\n              disabled={props.disabled}\n            />\n          </div>\n          <div className={styles.clear} />\n        </div>\n      ) : (\n        <div className={styles.reference}>\n          <div className={styles.title} onClick={props.on_click_reference}>\n            <img src={props.icon} />\n            邀请人账号\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\nvar content = (props) => {\n  return (\n    <div className={styles.content}>\n      <h3>{props.title}</h3>\n      <div className={styles.ul}>{props.children}</div>\n    </div>\n  );\n};\n\nexport default {\n  captcha_number,\n  password,\n  account,\n  bottom,\n  captcha_mobile,\n  captcha_account,\n  invite_person,\n  content,\n};\n","/Users/luohai/web/git/react-youyan-authorize/src/page/authorize/system_visit_log.js",["547","548","549","550","551","552","553","554"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport webapi from \"@/utils/webapi\";\nimport Basic_Component from \"@/components/base/basic_component.js\";\nimport moment from \"moment\";\nimport { Form, Input, Radio, Select, Table, Button, Cascader } from \"antd\";\n\nconst BREADCRUMB = {\n    title: \"系统访问日志\",\n    lists: [\n        { title: \"主页\", url: \"/\" },\n        { title: \"系统访问日志\", url: \"/authorize/system_visit_log\" },\n    ],\n    buttons: [],\n};\nclass System_visit_log extends Basic_Component {\n    /**\n     * 面包屑导航\n     */\n    __breadcrumb(data = {}) {\n        super.__breadcrumb({ ...BREADCRUMB, ...data });\n    }\n\n    /*----------------------1 other start----------------------*/\n\n    /*----------------------1 other end  ----------------------*/\n\n    /*----------------------2 init start----------------------*/\n    /**\n     * index  列表数据\n     */\n    async __init_index(d = {}) {\n        d.order_field = this.state.order_field;\n        d.order_value = this.state.order_value;\n        d.row_count = this.state.pagination.pageSize;\n        d.offset = this.state.pagination.current;\n        // d.q = this.state.q;\n        var data = await webapi.ajax.get(\"authorize/system_visit_log/lists\", d);\n        var lists = [];\n        if (data.code === 10000 && data.num_rows > 0) {\n            lists = data.lists;\n        }\n        this.setState({\n            lists: lists,\n            pagination: { ...this.state.pagination, total: data.num_rows },\n        });\n        this.__breadcrumb();\n    }\n    /*----------------------2 init end  ----------------------*/\n\n    /*----------------------3 handle start----------------------*/\n\n    /**\n     *  删除\n     **/\n    handle_delete(id) {\n        webapi.confirm({\n            url: \"authorize/system_visit_log/delete\",\n            data: { id },\n            onOk: (data) => {\n                if (data.status === \"success\") {\n                    webapi.message.success(data.message);\n                    this.__method(\"init_\");\n                } else {\n                    webapi.message.error(data.message);\n                }\n            },\n        });\n    }\n\n    /*----------------------3 handle end  ----------------------*/\n\n    /*----------------------4 render start----------------------*/\n\n    /**\n     * 渲染 首页\n     **/\n    __render_index() {\n        const columns = [\n            {\n                title: \"名称\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"name\",\n                align: \"center\",\n            },\n            {\n                title: \"用户\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"user_id\",\n                align: \"center\",\n                render: (field, item) => {\n                    return item.username + \"(\" + item.user_id + \")\";\n                },\n            },\n            {\n                title: \"地址\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"url\",\n                align: \"center\",\n            },\n            {\n                title: \"系统\",\n                fixed: \"left\",\n                dataIndex: \"os\",\n                align: \"center\",\n            },\n            {\n                title: \"浏览器\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"browser\",\n                align: \"center\",\n                render: (field, item) => {\n                    return item.browser + \"  \" + item.browser_version;\n                },\n            },\n            {\n                title: \"IP\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"ip_address\",\n                align: \"center\",\n            },\n\n            {\n                title: \"时间\",\n                sorter: true,\n                fixed: \"left\",\n                dataIndex: \"create_time\",\n                align: \"center\",\n                render: function (d, item) {\n                    return (\n                        item.create_time > 0 &&\n                        moment(item.create_time * 1000).format(\n                            \"YYYY-MM-DD HH:mm:ss\"\n                        )\n                    );\n                },\n            },\n            {\n                title: \"操作\",\n                dataIndex: \"id\",\n                align: \"center\",\n                render: (d, i) => {\n                    return (\n                        <div>\n                            <a\n                                className=\"btn btn-outline-info btn-circle btn-lg btn-circle\"\n                                title=\"删除\"\n                                onClick={() => {\n                                    this.handle_delete(d.id);\n                                }}\n                            >\n                                <i className=\"ti-trash\" />{\" \"}\n                            </a>\n                        </div>\n                    );\n                },\n            },\n        ];\n        return (\n            <div className=\"card\">\n                <Table\n                    rowKey={(res) => res.id}\n                    columns={columns}\n                    dataSource={this.state.lists}\n                    pagination={this.state.pagination}\n                    loading={this.props.loading}\n                    onChange={this.__handle_table_change}\n                />\n            </div>\n        );\n    }\n\n    /*----------------------4 render end  ----------------------*/\n}\nexport default connect((store) => ({ ...store }))(System_visit_log);\n",{"ruleId":"555","replacedBy":"556"},{"ruleId":"557","replacedBy":"558"},{"ruleId":"559","severity":1,"message":"560","line":93,"column":53,"nodeType":"561","messageId":"562","endLine":93,"endColumn":54,"suggestions":"563"},{"ruleId":"564","severity":1,"message":"565","line":139,"column":9,"nodeType":"566","messageId":"567","endLine":139,"endColumn":14},{"ruleId":"568","severity":1,"message":"569","line":186,"column":17,"nodeType":"566","messageId":"570","endLine":186,"endColumn":21},{"ruleId":"571","severity":1,"message":"572","line":284,"column":25,"nodeType":"573","messageId":"574","endLine":284,"endColumn":27},{"ruleId":"559","severity":1,"message":"575","line":298,"column":59,"nodeType":"561","messageId":"562","endLine":298,"endColumn":60,"suggestions":"576"},{"ruleId":"571","severity":1,"message":"572","line":300,"column":30,"nodeType":"573","messageId":"574","endLine":300,"endColumn":32},{"ruleId":"577","severity":1,"message":"578","line":388,"column":1,"nodeType":"579","endLine":397,"endColumn":3},{"ruleId":"564","severity":1,"message":"580","line":6,"column":8,"nodeType":"566","messageId":"567","endLine":6,"endColumn":13},{"ruleId":"564","severity":1,"message":"581","line":7,"column":10,"nodeType":"566","messageId":"567","endLine":7,"endColumn":17},{"ruleId":"582","severity":1,"message":"583","line":66,"column":13,"nodeType":"584","endLine":72,"endColumn":14},{"ruleId":"564","severity":1,"message":"580","line":5,"column":8,"nodeType":"566","messageId":"567","endLine":5,"endColumn":13},{"ruleId":"585","severity":1,"message":"586","line":67,"column":9,"nodeType":"587","endLine":67,"endColumn":33},{"ruleId":"564","severity":1,"message":"588","line":129,"column":13,"nodeType":"566","messageId":"567","endLine":129,"endColumn":17},{"ruleId":"571","severity":1,"message":"572","line":139,"column":41,"nodeType":"573","messageId":"574","endLine":139,"endColumn":43},{"ruleId":"589","severity":1,"message":"590","line":192,"column":55,"nodeType":"591","messageId":"592","endLine":192,"endColumn":57},{"ruleId":"582","severity":1,"message":"593","line":201,"column":25,"nodeType":"584","endLine":208,"endColumn":26},{"ruleId":"571","severity":1,"message":"572","line":215,"column":56,"nodeType":"573","messageId":"574","endLine":215,"endColumn":58},{"ruleId":"582","severity":1,"message":"593","line":329,"column":41,"nodeType":"584","endLine":339,"endColumn":42},{"ruleId":"582","severity":1,"message":"593","line":496,"column":41,"nodeType":"584","endLine":505,"endColumn":42},{"ruleId":"582","severity":1,"message":"593","line":684,"column":37,"nodeType":"584","endLine":693,"endColumn":38},{"ruleId":"594","severity":1,"message":"595","line":784,"column":41,"nodeType":"584","endLine":791,"endColumn":42},{"ruleId":"596","severity":1,"message":"597","line":5,"column":5,"nodeType":"598","messageId":"599","endLine":7,"endColumn":6},{"ruleId":"571","severity":1,"message":"572","line":45,"column":50,"nodeType":"573","messageId":"574","endLine":45,"endColumn":52},{"ruleId":"571","severity":1,"message":"572","line":53,"column":49,"nodeType":"573","messageId":"574","endLine":53,"endColumn":51},{"ruleId":"571","severity":1,"message":"572","line":61,"column":46,"nodeType":"573","messageId":"574","endLine":61,"endColumn":48},{"ruleId":"571","severity":1,"message":"572","line":163,"column":53,"nodeType":"573","messageId":"574","endLine":163,"endColumn":55},{"ruleId":"600","severity":1,"message":"601","line":405,"column":41,"nodeType":"584","endLine":409,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":418,"column":41,"nodeType":"584","endLine":422,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":431,"column":41,"nodeType":"584","endLine":435,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":444,"column":41,"nodeType":"584","endLine":448,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":457,"column":41,"nodeType":"584","endLine":461,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":470,"column":41,"nodeType":"584","endLine":474,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":490,"column":41,"nodeType":"584","endLine":494,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":503,"column":41,"nodeType":"584","endLine":507,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":516,"column":41,"nodeType":"584","endLine":520,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":529,"column":41,"nodeType":"584","endLine":533,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":542,"column":41,"nodeType":"584","endLine":546,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":555,"column":41,"nodeType":"584","endLine":559,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":575,"column":41,"nodeType":"584","endLine":579,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":588,"column":41,"nodeType":"584","endLine":592,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":601,"column":41,"nodeType":"584","endLine":605,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":614,"column":41,"nodeType":"584","endLine":618,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":627,"column":41,"nodeType":"584","endLine":631,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":640,"column":41,"nodeType":"584","endLine":644,"endColumn":43},{"ruleId":"571","severity":1,"message":"572","line":653,"column":53,"nodeType":"573","messageId":"574","endLine":653,"endColumn":55},{"ruleId":"571","severity":1,"message":"572","line":888,"column":53,"nodeType":"573","messageId":"574","endLine":888,"endColumn":55},{"ruleId":"596","severity":1,"message":"597","line":4,"column":2,"nodeType":"598","messageId":"599","endLine":6,"endColumn":3},{"ruleId":"564","severity":1,"message":"602","line":1,"column":8,"nodeType":"566","messageId":"567","endLine":1,"endColumn":13},{"ruleId":"564","severity":1,"message":"603","line":2,"column":10,"nodeType":"566","messageId":"567","endLine":2,"endColumn":14},{"ruleId":"564","severity":1,"message":"604","line":4,"column":8,"nodeType":"566","messageId":"567","endLine":4,"endColumn":13},{"ruleId":"564","severity":1,"message":"605","line":5,"column":8,"nodeType":"566","messageId":"567","endLine":5,"endColumn":14},{"ruleId":"564","severity":1,"message":"606","line":7,"column":7,"nodeType":"566","messageId":"567","endLine":7,"endColumn":27},{"ruleId":"571","severity":1,"message":"572","line":239,"column":31,"nodeType":"573","messageId":"574","endLine":239,"endColumn":33},{"ruleId":"555","replacedBy":"607"},{"ruleId":"557","replacedBy":"608"},{"ruleId":"564","severity":1,"message":"609","line":17,"column":5,"nodeType":"566","messageId":"567","endLine":17,"endColumn":8},{"ruleId":"564","severity":1,"message":"610","line":18,"column":5,"nodeType":"566","messageId":"567","endLine":18,"endColumn":8},{"ruleId":"571","severity":1,"message":"572","line":162,"column":34,"nodeType":"573","messageId":"574","endLine":162,"endColumn":36},{"ruleId":"611","severity":1,"message":"612","line":215,"column":35,"nodeType":"613","messageId":"574","endLine":215,"endColumn":39},{"ruleId":"571","severity":1,"message":"572","line":287,"column":15,"nodeType":"573","messageId":"574","endLine":287,"endColumn":17},{"ruleId":"571","severity":1,"message":"572","line":296,"column":15,"nodeType":"573","messageId":"574","endLine":296,"endColumn":17},{"ruleId":"568","severity":1,"message":"614","line":297,"column":17,"nodeType":"566","messageId":"570","endLine":297,"endColumn":20},{"ruleId":"571","severity":1,"message":"572","line":303,"column":15,"nodeType":"573","messageId":"574","endLine":303,"endColumn":17},{"ruleId":"568","severity":1,"message":"614","line":304,"column":17,"nodeType":"566","messageId":"570","endLine":304,"endColumn":20},{"ruleId":"571","severity":1,"message":"572","line":312,"column":15,"nodeType":"573","messageId":"574","endLine":312,"endColumn":17},{"ruleId":"568","severity":1,"message":"614","line":313,"column":17,"nodeType":"566","messageId":"570","endLine":313,"endColumn":20},{"ruleId":"571","severity":1,"message":"572","line":321,"column":15,"nodeType":"573","messageId":"574","endLine":321,"endColumn":17},{"ruleId":"568","severity":1,"message":"614","line":322,"column":17,"nodeType":"566","messageId":"570","endLine":322,"endColumn":20},{"ruleId":"571","severity":1,"message":"572","line":333,"column":22,"nodeType":"573","messageId":"574","endLine":333,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":341,"column":22,"nodeType":"573","messageId":"574","endLine":341,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":357,"column":26,"nodeType":"573","messageId":"574","endLine":357,"endColumn":28},{"ruleId":"571","severity":1,"message":"572","line":362,"column":22,"nodeType":"573","messageId":"574","endLine":362,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":368,"column":22,"nodeType":"573","messageId":"574","endLine":368,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":379,"column":22,"nodeType":"573","messageId":"574","endLine":379,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":390,"column":22,"nodeType":"573","messageId":"574","endLine":390,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":403,"column":26,"nodeType":"573","messageId":"574","endLine":403,"endColumn":28},{"ruleId":"571","severity":1,"message":"572","line":408,"column":22,"nodeType":"573","messageId":"574","endLine":408,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":414,"column":22,"nodeType":"573","messageId":"574","endLine":414,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":424,"column":22,"nodeType":"573","messageId":"574","endLine":424,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":435,"column":22,"nodeType":"573","messageId":"574","endLine":435,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":450,"column":26,"nodeType":"573","messageId":"574","endLine":450,"endColumn":28},{"ruleId":"571","severity":1,"message":"572","line":455,"column":22,"nodeType":"573","messageId":"574","endLine":455,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":461,"column":22,"nodeType":"573","messageId":"574","endLine":461,"endColumn":24},{"ruleId":"571","severity":1,"message":"615","line":478,"column":21,"nodeType":"573","messageId":"574","endLine":478,"endColumn":23},{"ruleId":"571","severity":1,"message":"615","line":501,"column":17,"nodeType":"573","messageId":"574","endLine":501,"endColumn":19},{"ruleId":"564","severity":1,"message":"616","line":516,"column":23,"nodeType":"566","messageId":"567","endLine":516,"endColumn":29},{"ruleId":"617","severity":1,"message":"618","line":547,"column":33,"nodeType":"584","endLine":552,"endColumn":35},{"ruleId":"594","severity":1,"message":"595","line":556,"column":21,"nodeType":"584","endLine":562,"endColumn":22},{"ruleId":"564","severity":1,"message":"616","line":596,"column":23,"nodeType":"566","messageId":"567","endLine":596,"endColumn":29},{"ruleId":"617","severity":1,"message":"618","line":625,"column":33,"nodeType":"584","endLine":630,"endColumn":35},{"ruleId":"594","severity":1,"message":"595","line":634,"column":21,"nodeType":"584","endLine":640,"endColumn":22},{"ruleId":"564","severity":1,"message":"616","line":674,"column":23,"nodeType":"566","messageId":"567","endLine":674,"endColumn":29},{"ruleId":"617","severity":1,"message":"618","line":712,"column":33,"nodeType":"584","endLine":717,"endColumn":35},{"ruleId":"594","severity":1,"message":"595","line":721,"column":21,"nodeType":"584","endLine":727,"endColumn":22},{"ruleId":"617","severity":1,"message":"618","line":795,"column":25,"nodeType":"584","endLine":800,"endColumn":27},{"ruleId":"594","severity":1,"message":"595","line":802,"column":21,"nodeType":"584","endLine":809,"endColumn":22},{"ruleId":"571","severity":1,"message":"572","line":888,"column":44,"nodeType":"573","messageId":"574","endLine":888,"endColumn":46},{"ruleId":"571","severity":1,"message":"572","line":898,"column":44,"nodeType":"573","messageId":"574","endLine":898,"endColumn":46},{"ruleId":"594","severity":1,"message":"619","line":1083,"column":21,"nodeType":"584","endLine":1089,"endColumn":22},{"ruleId":"564","severity":1,"message":"616","line":1115,"column":15,"nodeType":"566","messageId":"567","endLine":1115,"endColumn":21},{"ruleId":"564","severity":1,"message":"603","line":2,"column":10,"nodeType":"566","messageId":"567","endLine":2,"endColumn":14},{"ruleId":"564","severity":1,"message":"604","line":4,"column":8,"nodeType":"566","messageId":"567","endLine":4,"endColumn":13},{"ruleId":"564","severity":1,"message":"605","line":5,"column":8,"nodeType":"566","messageId":"567","endLine":5,"endColumn":14},{"ruleId":"564","severity":1,"message":"620","line":8,"column":7,"nodeType":"566","messageId":"567","endLine":8,"endColumn":17},{"ruleId":"596","severity":1,"message":"597","line":17,"column":3,"nodeType":"598","messageId":"599","endLine":19,"endColumn":4},{"ruleId":"596","severity":1,"message":"597","line":18,"column":2,"nodeType":"598","messageId":"599","endLine":20,"endColumn":3},{"ruleId":"571","severity":1,"message":"572","line":256,"column":23,"nodeType":"573","messageId":"574","endLine":256,"endColumn":25},{"ruleId":"594","severity":1,"message":"619","line":265,"column":8,"nodeType":"584","endLine":271,"endColumn":9},{"ruleId":"555","replacedBy":"621"},{"ruleId":"557","replacedBy":"622"},{"ruleId":"559","severity":1,"message":"560","line":135,"column":53,"nodeType":"561","messageId":"562","endLine":135,"endColumn":54,"suggestions":"623"},{"ruleId":"571","severity":1,"message":"572","line":237,"column":35,"nodeType":"573","messageId":"574","endLine":237,"endColumn":37},{"ruleId":"559","severity":1,"message":"624","line":355,"column":34,"nodeType":"561","messageId":"562","endLine":355,"endColumn":35,"suggestions":"625"},{"ruleId":"559","severity":1,"message":"624","line":355,"column":52,"nodeType":"561","messageId":"562","endLine":355,"endColumn":53,"suggestions":"626"},{"ruleId":"559","severity":1,"message":"575","line":355,"column":54,"nodeType":"561","messageId":"562","endLine":355,"endColumn":55,"suggestions":"627"},{"ruleId":"559","severity":1,"message":"628","line":355,"column":56,"nodeType":"561","messageId":"562","endLine":355,"endColumn":57,"suggestions":"629"},{"ruleId":"577","severity":1,"message":"578","line":544,"column":1,"nodeType":"579","endLine":555,"endColumn":3},{"ruleId":"564","severity":1,"message":"630","line":4,"column":8,"nodeType":"566","messageId":"567","endLine":4,"endColumn":17},{"ruleId":"564","severity":1,"message":"580","line":7,"column":8,"nodeType":"566","messageId":"567","endLine":7,"endColumn":13},{"ruleId":"589","severity":1,"message":"631","line":65,"column":29,"nodeType":"591","messageId":"632","endLine":65,"endColumn":31},{"ruleId":"582","severity":1,"message":"583","line":88,"column":13,"nodeType":"584","endLine":94,"endColumn":14},{"ruleId":"633","severity":1,"message":"634","line":125,"column":40,"nodeType":"635","endLine":125,"endColumn":55},{"ruleId":"617","severity":1,"message":"618","line":202,"column":41,"nodeType":"584","endLine":206,"endColumn":43},{"ruleId":"582","severity":1,"message":"583","line":211,"column":37,"nodeType":"584","endLine":219,"endColumn":38},{"ruleId":"582","severity":1,"message":"593","line":191,"column":25,"nodeType":"584","endLine":198,"endColumn":26},{"ruleId":"582","severity":1,"message":"593","line":365,"column":41,"nodeType":"584","endLine":375,"endColumn":42},{"ruleId":"582","severity":1,"message":"593","line":532,"column":41,"nodeType":"584","endLine":541,"endColumn":42},{"ruleId":"582","severity":1,"message":"593","line":717,"column":37,"nodeType":"584","endLine":726,"endColumn":38},{"ruleId":"594","severity":1,"message":"595","line":817,"column":41,"nodeType":"584","endLine":823,"endColumn":42},{"ruleId":"594","severity":1,"message":"595","line":830,"column":49,"nodeType":"584","endLine":836,"endColumn":50},{"ruleId":"600","severity":1,"message":"601","line":426,"column":41,"nodeType":"584","endLine":430,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":439,"column":41,"nodeType":"584","endLine":443,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":452,"column":41,"nodeType":"584","endLine":456,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":465,"column":41,"nodeType":"584","endLine":469,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":478,"column":41,"nodeType":"584","endLine":482,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":491,"column":41,"nodeType":"584","endLine":495,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":511,"column":41,"nodeType":"584","endLine":515,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":524,"column":41,"nodeType":"584","endLine":528,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":537,"column":41,"nodeType":"584","endLine":541,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":550,"column":41,"nodeType":"584","endLine":554,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":563,"column":41,"nodeType":"584","endLine":567,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":576,"column":41,"nodeType":"584","endLine":580,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":596,"column":41,"nodeType":"584","endLine":600,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":609,"column":41,"nodeType":"584","endLine":613,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":622,"column":41,"nodeType":"584","endLine":626,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":635,"column":41,"nodeType":"584","endLine":639,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":648,"column":41,"nodeType":"584","endLine":652,"endColumn":43},{"ruleId":"600","severity":1,"message":"601","line":661,"column":41,"nodeType":"584","endLine":665,"endColumn":43},{"ruleId":"571","severity":1,"message":"572","line":674,"column":53,"nodeType":"573","messageId":"574","endLine":674,"endColumn":55},{"ruleId":"571","severity":1,"message":"572","line":909,"column":53,"nodeType":"573","messageId":"574","endLine":909,"endColumn":55},{"ruleId":"596","severity":1,"message":"597","line":4,"column":2,"nodeType":"598","messageId":"599","endLine":6,"endColumn":3},{"ruleId":"596","severity":1,"message":"597","line":16,"column":5,"nodeType":"598","messageId":"599","endLine":18,"endColumn":6},{"ruleId":"559","severity":1,"message":"575","line":72,"column":59,"nodeType":"561","messageId":"562","endLine":72,"endColumn":60,"suggestions":"636"},{"ruleId":"571","severity":1,"message":"572","line":74,"column":30,"nodeType":"573","messageId":"574","endLine":74,"endColumn":32},{"ruleId":"564","severity":1,"message":"637","line":108,"column":13,"nodeType":"566","messageId":"567","endLine":108,"endColumn":17},{"ruleId":"571","severity":1,"message":"572","line":139,"column":22,"nodeType":"573","messageId":"574","endLine":139,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":144,"column":22,"nodeType":"573","messageId":"574","endLine":144,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":166,"column":22,"nodeType":"573","messageId":"574","endLine":166,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":178,"column":22,"nodeType":"573","messageId":"574","endLine":178,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":185,"column":22,"nodeType":"573","messageId":"574","endLine":185,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":201,"column":22,"nodeType":"573","messageId":"574","endLine":201,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":209,"column":22,"nodeType":"573","messageId":"574","endLine":209,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":222,"column":26,"nodeType":"573","messageId":"574","endLine":222,"endColumn":28},{"ruleId":"571","severity":1,"message":"572","line":228,"column":26,"nodeType":"573","messageId":"574","endLine":228,"endColumn":28},{"ruleId":"571","severity":1,"message":"572","line":235,"column":22,"nodeType":"573","messageId":"574","endLine":235,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":241,"column":22,"nodeType":"573","messageId":"574","endLine":241,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":320,"column":19,"nodeType":"573","messageId":"574","endLine":320,"endColumn":21},{"ruleId":"571","severity":1,"message":"572","line":323,"column":19,"nodeType":"573","messageId":"574","endLine":323,"endColumn":21},{"ruleId":"571","severity":1,"message":"572","line":326,"column":19,"nodeType":"573","messageId":"574","endLine":326,"endColumn":21},{"ruleId":"564","severity":1,"message":"637","line":344,"column":13,"nodeType":"566","messageId":"567","endLine":344,"endColumn":17},{"ruleId":"571","severity":1,"message":"572","line":387,"column":22,"nodeType":"573","messageId":"574","endLine":387,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":395,"column":22,"nodeType":"573","messageId":"574","endLine":395,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":413,"column":22,"nodeType":"573","messageId":"574","endLine":413,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":419,"column":22,"nodeType":"573","messageId":"574","endLine":419,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":430,"column":22,"nodeType":"573","messageId":"574","endLine":430,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":438,"column":22,"nodeType":"573","messageId":"574","endLine":438,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":459,"column":22,"nodeType":"573","messageId":"574","endLine":459,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":465,"column":22,"nodeType":"573","messageId":"574","endLine":465,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":477,"column":22,"nodeType":"573","messageId":"574","endLine":477,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":484,"column":22,"nodeType":"573","messageId":"574","endLine":484,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":514,"column":22,"nodeType":"573","messageId":"574","endLine":514,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":520,"column":22,"nodeType":"573","messageId":"574","endLine":520,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":736,"column":38,"nodeType":"573","messageId":"574","endLine":736,"endColumn":40},{"ruleId":"577","severity":1,"message":"638","line":10,"column":1,"nodeType":"579","endLine":26,"endColumn":3},{"ruleId":"564","severity":1,"message":"604","line":4,"column":8,"nodeType":"566","messageId":"567","endLine":4,"endColumn":13},{"ruleId":"564","severity":1,"message":"639","line":8,"column":5,"nodeType":"566","messageId":"567","endLine":8,"endColumn":9},{"ruleId":"564","severity":1,"message":"609","line":17,"column":5,"nodeType":"566","messageId":"567","endLine":17,"endColumn":8},{"ruleId":"564","severity":1,"message":"610","line":18,"column":5,"nodeType":"566","messageId":"567","endLine":18,"endColumn":8},{"ruleId":"564","severity":1,"message":"640","line":21,"column":5,"nodeType":"566","messageId":"567","endLine":21,"endColumn":9},{"ruleId":"564","severity":1,"message":"641","line":25,"column":8,"nodeType":"566","messageId":"567","endLine":25,"endColumn":14},{"ruleId":"596","severity":1,"message":"597","line":46,"column":5,"nodeType":"598","messageId":"599","endLine":48,"endColumn":6},{"ruleId":"571","severity":1,"message":"572","line":77,"column":34,"nodeType":"573","messageId":"574","endLine":77,"endColumn":36},{"ruleId":"611","severity":1,"message":"612","line":150,"column":35,"nodeType":"613","messageId":"574","endLine":150,"endColumn":39},{"ruleId":"571","severity":1,"message":"572","line":236,"column":15,"nodeType":"573","messageId":"574","endLine":236,"endColumn":17},{"ruleId":"571","severity":1,"message":"572","line":245,"column":15,"nodeType":"573","messageId":"574","endLine":245,"endColumn":17},{"ruleId":"568","severity":1,"message":"614","line":246,"column":17,"nodeType":"566","messageId":"570","endLine":246,"endColumn":20},{"ruleId":"571","severity":1,"message":"572","line":252,"column":15,"nodeType":"573","messageId":"574","endLine":252,"endColumn":17},{"ruleId":"568","severity":1,"message":"614","line":253,"column":17,"nodeType":"566","messageId":"570","endLine":253,"endColumn":20},{"ruleId":"571","severity":1,"message":"572","line":261,"column":15,"nodeType":"573","messageId":"574","endLine":261,"endColumn":17},{"ruleId":"568","severity":1,"message":"614","line":262,"column":17,"nodeType":"566","messageId":"570","endLine":262,"endColumn":20},{"ruleId":"571","severity":1,"message":"572","line":270,"column":15,"nodeType":"573","messageId":"574","endLine":270,"endColumn":17},{"ruleId":"568","severity":1,"message":"614","line":271,"column":17,"nodeType":"566","messageId":"570","endLine":271,"endColumn":20},{"ruleId":"571","severity":1,"message":"572","line":282,"column":22,"nodeType":"573","messageId":"574","endLine":282,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":290,"column":22,"nodeType":"573","messageId":"574","endLine":290,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":306,"column":26,"nodeType":"573","messageId":"574","endLine":306,"endColumn":28},{"ruleId":"571","severity":1,"message":"572","line":311,"column":22,"nodeType":"573","messageId":"574","endLine":311,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":317,"column":22,"nodeType":"573","messageId":"574","endLine":317,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":328,"column":22,"nodeType":"573","messageId":"574","endLine":328,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":339,"column":22,"nodeType":"573","messageId":"574","endLine":339,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":352,"column":26,"nodeType":"573","messageId":"574","endLine":352,"endColumn":28},{"ruleId":"571","severity":1,"message":"572","line":357,"column":22,"nodeType":"573","messageId":"574","endLine":357,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":363,"column":22,"nodeType":"573","messageId":"574","endLine":363,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":373,"column":22,"nodeType":"573","messageId":"574","endLine":373,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":384,"column":22,"nodeType":"573","messageId":"574","endLine":384,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":399,"column":26,"nodeType":"573","messageId":"574","endLine":399,"endColumn":28},{"ruleId":"571","severity":1,"message":"572","line":404,"column":22,"nodeType":"573","messageId":"574","endLine":404,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":410,"column":22,"nodeType":"573","messageId":"574","endLine":410,"endColumn":24},{"ruleId":"571","severity":1,"message":"615","line":478,"column":21,"nodeType":"573","messageId":"574","endLine":478,"endColumn":23},{"ruleId":"571","severity":1,"message":"615","line":501,"column":17,"nodeType":"573","messageId":"574","endLine":501,"endColumn":19},{"ruleId":"564","severity":1,"message":"616","line":525,"column":23,"nodeType":"566","messageId":"567","endLine":525,"endColumn":29},{"ruleId":"617","severity":1,"message":"618","line":556,"column":33,"nodeType":"584","endLine":561,"endColumn":35},{"ruleId":"594","severity":1,"message":"595","line":565,"column":21,"nodeType":"584","endLine":571,"endColumn":22},{"ruleId":"564","severity":1,"message":"616","line":605,"column":23,"nodeType":"566","messageId":"567","endLine":605,"endColumn":29},{"ruleId":"617","severity":1,"message":"618","line":634,"column":33,"nodeType":"584","endLine":639,"endColumn":35},{"ruleId":"594","severity":1,"message":"595","line":643,"column":21,"nodeType":"584","endLine":649,"endColumn":22},{"ruleId":"564","severity":1,"message":"616","line":683,"column":23,"nodeType":"566","messageId":"567","endLine":683,"endColumn":29},{"ruleId":"617","severity":1,"message":"618","line":721,"column":33,"nodeType":"584","endLine":726,"endColumn":35},{"ruleId":"594","severity":1,"message":"595","line":730,"column":21,"nodeType":"584","endLine":736,"endColumn":22},{"ruleId":"617","severity":1,"message":"618","line":804,"column":25,"nodeType":"584","endLine":809,"endColumn":27},{"ruleId":"594","severity":1,"message":"595","line":811,"column":21,"nodeType":"584","endLine":817,"endColumn":22},{"ruleId":"571","severity":1,"message":"572","line":865,"column":44,"nodeType":"573","messageId":"574","endLine":865,"endColumn":46},{"ruleId":"571","severity":1,"message":"572","line":875,"column":44,"nodeType":"573","messageId":"574","endLine":875,"endColumn":46},{"ruleId":"594","severity":1,"message":"619","line":1041,"column":21,"nodeType":"584","endLine":1045,"endColumn":22},{"ruleId":"564","severity":1,"message":"616","line":1071,"column":15,"nodeType":"566","messageId":"567","endLine":1071,"endColumn":21},{"ruleId":"564","severity":1,"message":"603","line":2,"column":10,"nodeType":"566","messageId":"567","endLine":2,"endColumn":14},{"ruleId":"564","severity":1,"message":"604","line":4,"column":8,"nodeType":"566","messageId":"567","endLine":4,"endColumn":13},{"ruleId":"564","severity":1,"message":"605","line":5,"column":8,"nodeType":"566","messageId":"567","endLine":5,"endColumn":14},{"ruleId":"564","severity":1,"message":"620","line":8,"column":7,"nodeType":"566","messageId":"567","endLine":8,"endColumn":17},{"ruleId":"596","severity":1,"message":"597","line":17,"column":3,"nodeType":"598","messageId":"599","endLine":19,"endColumn":4},{"ruleId":"564","severity":1,"message":"642","line":10,"column":5,"nodeType":"566","messageId":"567","endLine":10,"endColumn":11},{"ruleId":"571","severity":1,"message":"572","line":156,"column":42,"nodeType":"573","messageId":"574","endLine":156,"endColumn":44},{"ruleId":"643","severity":1,"message":"644","line":285,"column":51,"nodeType":"573","messageId":"645","endLine":285,"endColumn":52},{"ruleId":"571","severity":1,"message":"572","line":288,"column":28,"nodeType":"573","messageId":"574","endLine":288,"endColumn":30},{"ruleId":"571","severity":1,"message":"572","line":290,"column":26,"nodeType":"573","messageId":"574","endLine":290,"endColumn":28},{"ruleId":"568","severity":1,"message":"646","line":291,"column":21,"nodeType":"566","messageId":"570","endLine":291,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":299,"column":31,"nodeType":"573","messageId":"574","endLine":299,"endColumn":33},{"ruleId":"568","severity":1,"message":"647","line":300,"column":17,"nodeType":"566","messageId":"570","endLine":300,"endColumn":18},{"ruleId":"571","severity":1,"message":"572","line":301,"column":26,"nodeType":"573","messageId":"574","endLine":301,"endColumn":28},{"ruleId":"568","severity":1,"message":"646","line":302,"column":21,"nodeType":"566","messageId":"570","endLine":302,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":312,"column":26,"nodeType":"573","messageId":"574","endLine":312,"endColumn":28},{"ruleId":"568","severity":1,"message":"647","line":313,"column":17,"nodeType":"566","messageId":"570","endLine":313,"endColumn":18},{"ruleId":"571","severity":1,"message":"572","line":314,"column":26,"nodeType":"573","messageId":"574","endLine":314,"endColumn":28},{"ruleId":"568","severity":1,"message":"646","line":315,"column":21,"nodeType":"566","messageId":"570","endLine":315,"endColumn":24},{"ruleId":"571","severity":1,"message":"572","line":410,"column":33,"nodeType":"573","messageId":"574","endLine":410,"endColumn":35},{"ruleId":"594","severity":1,"message":"619","line":475,"column":29,"nodeType":"584","endLine":482,"endColumn":30},{"ruleId":"594","severity":1,"message":"619","line":612,"column":29,"nodeType":"584","endLine":616,"endColumn":30},{"ruleId":"564","severity":1,"message":"603","line":2,"column":10,"nodeType":"566","messageId":"567","endLine":2,"endColumn":14},{"ruleId":"564","severity":1,"message":"648","line":5,"column":2,"nodeType":"566","messageId":"567","endLine":5,"endColumn":6},{"ruleId":"564","severity":1,"message":"649","line":6,"column":2,"nodeType":"566","messageId":"567","endLine":6,"endColumn":7},{"ruleId":"564","severity":1,"message":"650","line":7,"column":2,"nodeType":"566","messageId":"567","endLine":7,"endColumn":10},{"ruleId":"564","severity":1,"message":"651","line":8,"column":2,"nodeType":"566","messageId":"567","endLine":8,"endColumn":7},{"ruleId":"564","severity":1,"message":"652","line":9,"column":2,"nodeType":"566","messageId":"567","endLine":9,"endColumn":10},{"ruleId":"564","severity":1,"message":"642","line":10,"column":2,"nodeType":"566","messageId":"567","endLine":10,"endColumn":8},{"ruleId":"564","severity":1,"message":"653","line":11,"column":2,"nodeType":"566","messageId":"567","endLine":11,"endColumn":12},{"ruleId":"564","severity":1,"message":"654","line":12,"column":2,"nodeType":"566","messageId":"567","endLine":12,"endColumn":6},{"ruleId":"564","severity":1,"message":"655","line":13,"column":2,"nodeType":"566","messageId":"567","endLine":13,"endColumn":8},{"ruleId":"564","severity":1,"message":"656","line":114,"column":7,"nodeType":"566","messageId":"567","endLine":114,"endColumn":11},{"ruleId":"571","severity":1,"message":"572","line":137,"column":20,"nodeType":"573","messageId":"574","endLine":137,"endColumn":22},{"ruleId":"594","severity":1,"message":"619","line":186,"column":8,"nodeType":"584","endLine":189,"endColumn":54},{"ruleId":"555","replacedBy":"657"},{"ruleId":"557","replacedBy":"658"},{"ruleId":"643","severity":1,"message":"644","line":123,"column":46,"nodeType":"573","messageId":"645","endLine":123,"endColumn":47},{"ruleId":"643","severity":1,"message":"644","line":147,"column":49,"nodeType":"573","messageId":"645","endLine":147,"endColumn":50},{"ruleId":"564","severity":1,"message":"588","line":238,"column":13,"nodeType":"566","messageId":"567","endLine":238,"endColumn":17},{"ruleId":"594","severity":1,"message":"619","line":285,"column":29,"nodeType":"584","endLine":289,"endColumn":30},{"ruleId":"564","severity":1,"message":"588","line":394,"column":13,"nodeType":"566","messageId":"567","endLine":394,"endColumn":17},{"ruleId":"594","severity":1,"message":"619","line":433,"column":29,"nodeType":"584","endLine":437,"endColumn":30},{"ruleId":"564","severity":1,"message":"659","line":6,"column":8,"nodeType":"566","messageId":"567","endLine":6,"endColumn":13},{"ruleId":"564","severity":1,"message":"652","line":12,"column":2,"nodeType":"566","messageId":"567","endLine":12,"endColumn":10},{"ruleId":"564","severity":1,"message":"642","line":13,"column":2,"nodeType":"566","messageId":"567","endLine":13,"endColumn":8},{"ruleId":"564","severity":1,"message":"653","line":14,"column":2,"nodeType":"566","messageId":"567","endLine":14,"endColumn":12},{"ruleId":"564","severity":1,"message":"654","line":15,"column":2,"nodeType":"566","messageId":"567","endLine":15,"endColumn":6},{"ruleId":"564","severity":1,"message":"655","line":16,"column":2,"nodeType":"566","messageId":"567","endLine":16,"endColumn":8},{"ruleId":"564","severity":1,"message":"660","line":21,"column":8,"nodeType":"566","messageId":"567","endLine":21,"endColumn":14},{"ruleId":"568","severity":1,"message":"569","line":146,"column":7,"nodeType":"566","messageId":"570","endLine":146,"endColumn":11},{"ruleId":"571","severity":1,"message":"572","line":155,"column":23,"nodeType":"573","messageId":"574","endLine":155,"endColumn":25},{"ruleId":"564","severity":1,"message":"661","line":172,"column":7,"nodeType":"566","messageId":"567","endLine":172,"endColumn":12},{"ruleId":"571","severity":1,"message":"572","line":214,"column":14,"nodeType":"573","messageId":"574","endLine":214,"endColumn":16},{"ruleId":"594","severity":1,"message":"619","line":335,"column":7,"nodeType":"584","endLine":344,"endColumn":8},{"ruleId":"594","severity":1,"message":"619","line":347,"column":7,"nodeType":"584","endLine":356,"endColumn":8},{"ruleId":"571","severity":1,"message":"572","line":394,"column":23,"nodeType":"573","messageId":"574","endLine":394,"endColumn":25},{"ruleId":"571","severity":1,"message":"572","line":414,"column":20,"nodeType":"573","messageId":"574","endLine":414,"endColumn":22},{"ruleId":"571","severity":1,"message":"572","line":526,"column":27,"nodeType":"573","messageId":"574","endLine":526,"endColumn":29},{"ruleId":"568","severity":1,"message":"662","line":532,"column":12,"nodeType":"566","messageId":"570","endLine":532,"endColumn":17},{"ruleId":"571","severity":1,"message":"572","line":547,"column":26,"nodeType":"573","messageId":"574","endLine":547,"endColumn":28},{"ruleId":"617","severity":1,"message":"618","line":571,"column":8,"nodeType":"584","endLine":571,"endColumn":43},{"ruleId":"594","severity":1,"message":"619","line":635,"column":8,"nodeType":"584","endLine":642,"endColumn":9},{"ruleId":"571","severity":1,"message":"572","line":151,"column":42,"nodeType":"573","messageId":"574","endLine":151,"endColumn":44},{"ruleId":"564","severity":1,"message":"656","line":233,"column":13,"nodeType":"566","messageId":"567","endLine":233,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":261,"column":46,"nodeType":"573","messageId":"645","endLine":261,"endColumn":47},{"ruleId":"571","severity":1,"message":"615","line":274,"column":23,"nodeType":"573","messageId":"574","endLine":274,"endColumn":25},{"ruleId":"571","severity":1,"message":"572","line":307,"column":33,"nodeType":"573","messageId":"574","endLine":307,"endColumn":35},{"ruleId":"594","severity":1,"message":"619","line":363,"column":29,"nodeType":"584","endLine":367,"endColumn":30},{"ruleId":"564","severity":1,"message":"650","line":10,"column":5,"nodeType":"566","messageId":"567","endLine":10,"endColumn":13},{"ruleId":"564","severity":1,"message":"651","line":11,"column":5,"nodeType":"566","messageId":"567","endLine":11,"endColumn":10},{"ruleId":"564","severity":1,"message":"652","line":12,"column":5,"nodeType":"566","messageId":"567","endLine":12,"endColumn":13},{"ruleId":"564","severity":1,"message":"642","line":13,"column":5,"nodeType":"566","messageId":"567","endLine":13,"endColumn":11},{"ruleId":"564","severity":1,"message":"653","line":14,"column":5,"nodeType":"566","messageId":"567","endLine":14,"endColumn":15},{"ruleId":"564","severity":1,"message":"654","line":15,"column":5,"nodeType":"566","messageId":"567","endLine":15,"endColumn":9},{"ruleId":"564","severity":1,"message":"655","line":16,"column":5,"nodeType":"566","messageId":"567","endLine":16,"endColumn":11},{"ruleId":"596","severity":1,"message":"597","line":37,"column":5,"nodeType":"598","messageId":"599","endLine":39,"endColumn":6},{"ruleId":"564","severity":1,"message":"656","line":134,"column":13,"nodeType":"566","messageId":"567","endLine":134,"endColumn":17},{"ruleId":"643","severity":1,"message":"644","line":158,"column":46,"nodeType":"573","messageId":"645","endLine":158,"endColumn":47},{"ruleId":"643","severity":1,"message":"644","line":188,"column":49,"nodeType":"573","messageId":"645","endLine":188,"endColumn":50},{"ruleId":"571","severity":1,"message":"615","line":204,"column":16,"nodeType":"573","messageId":"574","endLine":204,"endColumn":18},{"ruleId":"571","severity":1,"message":"572","line":306,"column":42,"nodeType":"573","messageId":"574","endLine":306,"endColumn":44},{"ruleId":"594","severity":1,"message":"619","line":330,"column":29,"nodeType":"584","endLine":336,"endColumn":30},{"ruleId":"564","severity":1,"message":"588","line":406,"column":13,"nodeType":"566","messageId":"567","endLine":406,"endColumn":17},{"ruleId":"594","severity":1,"message":"619","line":443,"column":29,"nodeType":"584","endLine":449,"endColumn":30},{"ruleId":"617","severity":1,"message":"618","line":49,"column":11,"nodeType":"584","endLine":53,"endColumn":13},{"ruleId":"617","severity":1,"message":"618","line":115,"column":17,"nodeType":"584","endLine":115,"endColumn":75},{"ruleId":"594","severity":1,"message":"619","line":162,"column":9,"nodeType":"584","endLine":162,"endColumn":62},{"ruleId":"617","severity":1,"message":"618","line":195,"column":13,"nodeType":"584","endLine":195,"endColumn":37},{"ruleId":"577","severity":1,"message":"578","line":212,"column":1,"nodeType":"579","endLine":221,"endColumn":3},{"ruleId":"564","severity":1,"message":"603","line":2,"column":10,"nodeType":"566","messageId":"567","endLine":2,"endColumn":14},{"ruleId":"564","severity":1,"message":"648","line":7,"column":10,"nodeType":"566","messageId":"567","endLine":7,"endColumn":14},{"ruleId":"564","severity":1,"message":"649","line":7,"column":16,"nodeType":"566","messageId":"567","endLine":7,"endColumn":21},{"ruleId":"564","severity":1,"message":"651","line":7,"column":23,"nodeType":"566","messageId":"567","endLine":7,"endColumn":28},{"ruleId":"564","severity":1,"message":"642","line":7,"column":30,"nodeType":"566","messageId":"567","endLine":7,"endColumn":36},{"ruleId":"564","severity":1,"message":"663","line":7,"column":45,"nodeType":"566","messageId":"567","endLine":7,"endColumn":51},{"ruleId":"564","severity":1,"message":"664","line":7,"column":53,"nodeType":"566","messageId":"567","endLine":7,"endColumn":61},{"ruleId":"594","severity":1,"message":"619","line":151,"column":29,"nodeType":"584","endLine":157,"endColumn":30},"no-native-reassign",["665"],"no-negated-in-lhs",["666"],"no-useless-escape","Unnecessary escape character: \\=.","Literal","unnecessaryEscape",["667","668"],"no-unused-vars","'patch' is assigned a value but never used.","Identifier","unusedVar","no-redeclare","'data' is already defined.","redeclared","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Unnecessary escape character: \\/.",["669","670"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'style' is defined but never used.","'connect' is defined but never used.","jsx-a11y/role-supports-aria-props","The attribute aria-expanded is not supported by the role list. This role is implicit on the element ul.","JSXOpeningElement","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","'that' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","The attribute aria-haspopup is not supported by the role link. This role is implicit on the element a.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","'React' is defined but never used.","'Link' is defined but never used.","'store' is defined but never used.","'webapi' is defined but never used.","'original_captcha_url' is assigned a value but never used.",["665"],["666"],"'Row' is defined but never used.","'Col' is defined but never used.","no-dupe-keys","Duplicate key 'area'.","ObjectExpression","'val' is already defined.","Expected '!==' and instead saw '!='.","'ucdata' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'BREADCRUMB' is assigned a value but never used.",["665"],["666"],["671","672"],"Unnecessary escape character: \\..",["673","674"],["675","676"],["677","678"],"Unnecessary escape character: \\?.",["679","680"],"'Scrollbar' is defined but never used.","Array.prototype.map() expects a return value from arrow function.","expectedInside","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute",["681","682"],"'data' is assigned a value but never used.","Assign arrow function to a variable before exporting as module default","'Menu' is defined but never used.","'Tabs' is defined but never used.","'styles' is defined but never used.","'Select' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","unexpectedConcat","'res' is already defined.","'t' is already defined.","'Form' is defined but never used.","'Input' is defined but never used.","'Checkbox' is defined but never used.","'Radio' is defined but never used.","'Textarea' is defined but never used.","'DatePicker' is defined but never used.","'Tree' is defined but never used.","'Upload' is defined but never used.","'load' is assigned a value but never used.",["665"],["666"],"'immer' is defined but never used.","'moment' is defined but never used.","'lists' is assigned a value but never used.","'child' is already defined.","'Button' is defined but never used.","'Cascader' is defined but never used.","no-global-assign","no-unsafe-negation",{"messageId":"683","fix":"684","desc":"685"},{"messageId":"686","fix":"687","desc":"688"},{"messageId":"683","fix":"689","desc":"685"},{"messageId":"686","fix":"690","desc":"688"},{"messageId":"683","fix":"691","desc":"685"},{"messageId":"686","fix":"692","desc":"688"},{"messageId":"683","fix":"693","desc":"685"},{"messageId":"686","fix":"694","desc":"688"},{"messageId":"683","fix":"695","desc":"685"},{"messageId":"686","fix":"696","desc":"688"},{"messageId":"683","fix":"697","desc":"685"},{"messageId":"686","fix":"698","desc":"688"},{"messageId":"683","fix":"699","desc":"685"},{"messageId":"686","fix":"700","desc":"688"},{"messageId":"683","fix":"701","desc":"685"},{"messageId":"686","fix":"702","desc":"688"},"removeEscape",{"range":"703","text":"704"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"705","text":"706"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"707","text":"704"},{"range":"708","text":"706"},{"range":"709","text":"704"},{"range":"710","text":"706"},{"range":"711","text":"704"},{"range":"712","text":"706"},{"range":"713","text":"704"},{"range":"714","text":"706"},{"range":"715","text":"704"},{"range":"716","text":"706"},{"range":"717","text":"704"},{"range":"718","text":"706"},{"range":"719","text":"704"},{"range":"720","text":"706"},[2435,2436],"",[2435,2435],"\\",[9105,9106],[9105,9105],[3511,3512],[3511,3511],[10452,10453],[10452,10452],[10470,10471],[10470,10470],[10472,10473],[10472,10472],[10474,10475],[10474,10474],[2065,2066],[2065,2065]]